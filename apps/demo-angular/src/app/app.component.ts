import { Component } from '@angular/core';
import { ICliModule, CliOptions, CliLogLevel } from '@qodalis/cli-core';
import { curlModule } from '@qodalis/cli-curl';
import { passwordGeneratorModule } from '@qodalis/cli-password-generator';
import { qrModule } from '@qodalis/cli-qr';
import { yesnoModule } from '@qodalis/cli-yesno';
import { serverLogsModule } from '@qodalis/cli-server-logs';
import { filesModule } from '@qodalis/cli-files';
import { CliInputDemoCommandProcessor } from './processors/cli-input-demo-command-processor';
import { CliPanelOptions } from '@qodalis/angular-cli';

@Component({
    selector: 'app-root',
    templateUrl: './app.component.html',
    styleUrls: [],
})
export class AppComponent {
    // Demonstrates registering CLI modules via [modules] input prop.
    // guid, regex, text-to-image, speed-test, browser-storage, string,
    // todo, and users modules are registered via Angular DI in AppModule instead.
    modules: ICliModule[] = [
        filesModule,
        curlModule,
        passwordGeneratorModule,
        qrModule,
        yesnoModule,
        serverLogsModule,
        {
            name: 'input-demo',
            processors: [new CliInputDemoCommandProcessor()],
        },
    ];

    options: CliOptions = {
        logLevel: CliLogLevel.DEBUG,
        packageSources: {
            primary: 'local',
            sources: [
                { name: 'local', url: 'http://localhost:3000/', kind: 'file' },
            ],
        },
        servers: [
            { name: 'local', url: '' }, // Empty URL = same origin (proxied via proxy.conf.json)
        ],
    };

    panelOptions: CliPanelOptions = {
        position: 'bottom',
    };
}
