(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[792],{2552:(fe,$,a)=>{"use strict";var d={};a.r(d),a.d(d,{hasBrowserEnv:()=>Vt,hasStandardBrowserEnv:()=>Td,hasStandardBrowserWebWorkerEnv:()=>Va,navigator:()=>Pu,origin:()=>Id});var p=a(345),w=a(6276);class _{}class g{}const b="*";function U(f,i=null){return{type:2,steps:f,options:i}}function j(f){return{type:6,styles:f,offset:null}}class ne{constructor(i=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const o="start"==i?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class H{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let o=0,c=0,m=0;const O=this.players.length;0==O?queueMicrotask(()=>this._onFinish()):this.players.forEach(K=>{K.onDone(()=>{++o==O&&this._onFinish()}),K.onDestroy(()=>{++c==O&&this._onDestroy()}),K.onStart(()=>{++m==O&&this._onStart()})}),this.totalTime=this.players.reduce((K,ee)=>Math.max(K,ee.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const o=i*this.totalTime;this.players.forEach(c=>{const m=c.totalTime?Math.min(1,o/c.totalTime):1;c.setPosition(m)})}getPosition(){const i=this.players.reduce((o,c)=>null===o||c.totalTime>o.totalTime?c:o,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const o="start"==i?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}function ve(f){return new w.wOt(3e3,!1)}function Et(f){switch(f.length){case 0:return new ne;case 1:return f[0];default:return new H(f)}}function an(f,i,o=new Map,c=new Map){const m=[],O=[];let K=-1,ee=null;if(i.forEach(he=>{const ye=he.get("offset"),ke=ye==K,Ve=ke&&ee||new Map;he.forEach((mt,Pt)=>{let ot=Pt,Ct=mt;if("offset"!==Pt)switch(ot=f.normalizePropertyName(ot,m),Ct){case"!":Ct=o.get(Pt);break;case b:Ct=c.get(Pt);break;default:Ct=f.normalizeStyleValue(Pt,ot,Ct,m)}Ve.set(ot,Ct)}),ke||O.push(Ve),ee=Ve,K=ye}),m.length)throw function Ne(f){return new w.wOt(3502,!1)}();return O}function It(f,i,o,c){switch(i){case"start":f.onStart(()=>c(o&&ln(o,"start",f)));break;case"done":f.onDone(()=>c(o&&ln(o,"done",f)));break;case"destroy":f.onDestroy(()=>c(o&&ln(o,"destroy",f)))}}function ln(f,i,o){const O=Ht(f.element,f.triggerName,f.fromState,f.toState,i||f.phaseName,o.totalTime??f.totalTime,!!o.disabled),K=f._data;return null!=K&&(O._data=K),O}function Ht(f,i,o,c,m="",O=0,K){return{element:f,triggerName:i,fromState:o,toState:c,phaseName:m,totalTime:O,disabled:!!K}}function bt(f,i,o){let c=f.get(i);return c||f.set(i,c=o),c}function xt(f){const i=f.indexOf(":");return[f.substring(1,i),f.slice(i+1)]}const Jt=(()=>typeof document>"u"?null:document.documentElement)();function Yt(f){const i=f.parentNode||f.host||null;return i===Jt?null:i}let Rr=null,Xn=!1;function pn(f,i){for(;i;){if(i===f)return!0;i=Yt(i)}return!1}function Ci(f,i,o){if(o)return Array.from(f.querySelectorAll(i));const c=f.querySelector(i);return c?[c]:[]}let Ls=(()=>{class f{validateStyleProperty(o){return function nr(f){Rr||(Rr=function qo(){return typeof document<"u"?document.body:null}()||{},Xn=!!Rr.style&&"WebkitAppearance"in Rr.style);let i=!0;return Rr.style&&!function Ut(f){return"ebkit"==f.substring(1,6)}(f)&&(i=f in Rr.style,!i&&Xn&&(i="Webkit"+f.charAt(0).toUpperCase()+f.slice(1)in Rr.style)),i}(o)}matchesElement(o,c){return!1}containsElement(o,c){return pn(o,c)}getParentElement(o){return Yt(o)}query(o,c,m){return Ci(o,c,m)}computeStyle(o,c,m){return m||""}animate(o,c,m,O,K,ee=[],he){return new ne(m,O)}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})(),Ji=(()=>{class f{static{this.NOOP=new Ls}}return f})();const Sa=1e3,lt="ng-enter",Je="ng-leave",Re="ng-trigger",qe=".ng-trigger",ct="ng-animating",Mt=".ng-animating";function Bt(f){if("number"==typeof f)return f;const i=f.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Hn(parseFloat(i[1]),i[2])}function Hn(f,i){return"s"===i?f*Sa:f}function Ln(f,i,o){return f.hasOwnProperty("duration")?f:function Tr(f,i,o){let m,O=0,K="";if("string"==typeof f){const ee=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ee)return i.push(ve()),{duration:0,delay:0,easing:""};m=Hn(parseFloat(ee[1]),ee[2]);const he=ee[3];null!=he&&(O=Hn(parseFloat(he),ee[4]));const ye=ee[5];ye&&(K=ye)}else m=f;if(!o){let ee=!1,he=i.length;m<0&&(i.push(function Te(){return new w.wOt(3100,!1)}()),ee=!0),O<0&&(i.push(function _e(){return new w.wOt(3101,!1)}()),ee=!0),ee&&i.splice(he,0,ve())}return{duration:m,delay:O,easing:K}}(f,i,o)}function Kr(f,i={}){return Object.keys(f).forEach(o=>{i[o]=f[o]}),i}function qr(f){const i=new Map;return Object.keys(f).forEach(o=>{i.set(o,f[o])}),i}function ki(f,i=new Map,o){if(o)for(let[c,m]of o)i.set(c,m);for(let[c,m]of f)i.set(c,m);return i}function Qn(f,i,o){i.forEach((c,m)=>{const O=Di(m);o&&!o.has(m)&&o.set(m,f.style[O]),f.style[O]=c})}function Fr(f,i){i.forEach((o,c)=>{const m=Di(c);f.style[m]=""})}function xn(f){return Array.isArray(f)?1==f.length?f[0]:U(f):f}const to=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ei(f){let i=[];if("string"==typeof f){let o;for(;o=to.exec(f);)i.push(o[1]);to.lastIndex=0}return i}function Qr(f,i,o){const c=f.toString(),m=c.replace(to,(O,K)=>{let ee=i[K];return null==ee&&(o.push(function $e(f){return new w.wOt(3003,!1)}()),ee=""),ee.toString()});return m==c?f:m}function ks(f){const i=[];let o=f.next();for(;!o.done;)i.push(o.value),o=f.next();return i}const bo=/-+([a-z0-9])/g;function Di(f){return f.replace(bo,(...i)=>i[1].toUpperCase())}function Zt(f,i,o){switch(i.type){case 7:return f.visitTrigger(i,o);case 0:return f.visitState(i,o);case 1:return f.visitTransition(i,o);case 2:return f.visitSequence(i,o);case 3:return f.visitGroup(i,o);case 4:return f.visitAnimate(i,o);case 5:return f.visitKeyframes(i,o);case 6:return f.visitStyle(i,o);case 8:return f.visitReference(i,o);case 9:return f.visitAnimateChild(i,o);case 10:return f.visitAnimateRef(i,o);case 11:return f.visitQuery(i,o);case 12:return f.visitStagger(i,o);default:throw function He(f){return new w.wOt(3004,!1)}()}}function no(f,i){return window.getComputedStyle(f)[i]}const Bs="*";function Bi(f,i){const o=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(c=>function oi(f,i,o){if(":"==f[0]){const he=function Ns(f,i){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,c)=>parseFloat(c)>parseFloat(o);case":decrement":return(o,c)=>parseFloat(c)<parseFloat(o);default:return i.push(function je(f){return new w.wOt(3016,!1)}()),"* => *"}}(f,o);if("function"==typeof he)return void i.push(he);f=he}const c=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return o.push(function Ae(f){return new w.wOt(3015,!1)}()),i;const m=c[1],O=c[2],K=c[3];i.push(io(m,K));"<"==O[0]&&!(m==Bs&&K==Bs)&&i.push(io(K,m))}(c,o,i)):o.push(f),o}const $r=new Set(["true","1"]),Ni=new Set(["false","0"]);function io(f,i){const o=$r.has(f)||Ni.has(f),c=$r.has(i)||Ni.has(i);return(m,O)=>{let K=f==Bs||f==m,ee=i==Bs||i==O;return!K&&o&&"boolean"==typeof m&&(K=m?$r.has(f):Ni.has(f)),!ee&&c&&"boolean"==typeof O&&(ee=O?$r.has(i):Ni.has(i)),K&&ee}}const Ia=new RegExp("s*:selfs*,?","g");function Yo(f,i,o,c){return new Si(f).build(i,o,c)}class Si{constructor(i){this._driver=i}build(i,o,c){const m=new so(o);return this._resetContextStyleTimingState(m),Zt(this,xn(i),m)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,o){let c=o.queryCount=0,m=o.depCount=0;const O=[],K=[];return"@"==i.name.charAt(0)&&o.errors.push(function Me(){return new w.wOt(3006,!1)}()),i.definitions.forEach(ee=>{if(this._resetContextStyleTimingState(o),0==ee.type){const he=ee,ye=he.name;ye.toString().split(/\s*,\s*/).forEach(ke=>{he.name=ke,O.push(this.visitState(he,o))}),he.name=ye}else if(1==ee.type){const he=this.visitTransition(ee,o);c+=he.queryCount,m+=he.depCount,K.push(he)}else o.errors.push(function Y(){return new w.wOt(3007,!1)}())}),{type:7,name:i.name,states:O,transitions:K,queryCount:c,depCount:m,options:null}}visitState(i,o){const c=this.visitStyle(i.styles,o),m=i.options&&i.options.params||null;if(c.containsDynamicStyles){const O=new Set,K=m||{};c.styles.forEach(ee=>{ee instanceof Map&&ee.forEach(he=>{Ei(he).forEach(ye=>{K.hasOwnProperty(ye)||O.add(ye)})})}),O.size&&(ks(O.values()),o.errors.push(function z(f,i){return new w.wOt(3008,!1)}()))}return{type:0,name:i.name,style:c,options:m?{params:m}:null}}visitTransition(i,o){o.queryCount=0,o.depCount=0;const c=Zt(this,xn(i.animation),o);return{type:1,matchers:Bi(i.expr,o.errors),animation:c,queryCount:o.queryCount,depCount:o.depCount,options:Fs(i.options)}}visitSequence(i,o){return{type:2,steps:i.steps.map(c=>Zt(this,c,o)),options:Fs(i.options)}}visitGroup(i,o){const c=o.currentTime;let m=0;const O=i.steps.map(K=>{o.currentTime=c;const ee=Zt(this,K,o);return m=Math.max(m,o.currentTime),ee});return o.currentTime=m,{type:3,steps:O,options:Fs(i.options)}}visitAnimate(i,o){const c=function ul(f,i){if(f.hasOwnProperty("duration"))return f;if("number"==typeof f)return So(Ln(f,i).duration,0,"");const o=f;if(o.split(/\s+/).some(O=>"{"==O.charAt(0)&&"{"==O.charAt(1))){const O=So(0,0,"");return O.dynamic=!0,O.strValue=o,O}const m=Ln(o,i);return So(m.duration,m.delay,m.easing)}(i.timings,o.errors);o.currentAnimateTimings=c;let m,O=i.styles?i.styles:j({});if(5==O.type)m=this.visitKeyframes(O,o);else{let K=i.styles,ee=!1;if(!K){ee=!0;const ye={};c.easing&&(ye.easing=c.easing),K=j(ye)}o.currentTime+=c.duration+c.delay;const he=this.visitStyle(K,o);he.isEmptyStep=ee,m=he}return o.currentAnimateTimings=null,{type:4,timings:c,style:m,options:null}}visitStyle(i,o){const c=this._makeStyleAst(i,o);return this._validateStyleAst(c,o),c}_makeStyleAst(i,o){const c=[],m=Array.isArray(i.styles)?i.styles:[i.styles];for(let ee of m)"string"==typeof ee?ee===b?c.push(ee):o.errors.push(new w.wOt(3002,!1)):c.push(qr(ee));let O=!1,K=null;return c.forEach(ee=>{if(ee instanceof Map&&(ee.has("easing")&&(K=ee.get("easing"),ee.delete("easing")),!O))for(let he of ee.values())if(he.toString().indexOf("{{")>=0){O=!0;break}}),{type:6,styles:c,easing:K,offset:i.offset,containsDynamicStyles:O,options:null}}_validateStyleAst(i,o){const c=o.currentAnimateTimings;let m=o.currentTime,O=o.currentTime;c&&O>0&&(O-=c.duration+c.delay),i.styles.forEach(K=>{"string"!=typeof K&&K.forEach((ee,he)=>{const ye=o.collectedStyles.get(o.currentQuerySelector),ke=ye.get(he);let Ve=!0;ke&&(O!=m&&O>=ke.startTime&&m<=ke.endTime&&(o.errors.push(function me(f,i,o,c,m){return new w.wOt(3010,!1)}()),Ve=!1),O=ke.startTime),Ve&&ye.set(he,{startTime:O,endTime:m}),o.options&&function Do(f,i,o){const c=i.params||{},m=Ei(f);m.length&&m.forEach(O=>{c.hasOwnProperty(O)||o.push(function ue(f){return new w.wOt(3001,!1)}())})}(ee,o.options,o.errors)})})}visitKeyframes(i,o){const c={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function pe(){return new w.wOt(3011,!1)}()),c;let O=0;const K=[];let ee=!1,he=!1,ye=0;const ke=i.steps.map(Un=>{const Cn=this._makeStyleAst(Un,o);let yn=null!=Cn.offset?Cn.offset:function cl(f){if("string"==typeof f)return null;let i=null;if(Array.isArray(f))f.forEach(o=>{if(o instanceof Map&&o.has("offset")){const c=o;i=parseFloat(c.get("offset")),c.delete("offset")}});else if(f instanceof Map&&f.has("offset")){const o=f;i=parseFloat(o.get("offset")),o.delete("offset")}return i}(Cn.styles),Sn=0;return null!=yn&&(O++,Sn=Cn.offset=yn),he=he||Sn<0||Sn>1,ee=ee||Sn<ye,ye=Sn,K.push(Sn),Cn});he&&o.errors.push(function ce(){return new w.wOt(3012,!1)}()),ee&&o.errors.push(function Ce(){return new w.wOt(3200,!1)}());const Ve=i.steps.length;let mt=0;O>0&&O<Ve?o.errors.push(function ae(){return new w.wOt(3202,!1)}()):0==O&&(mt=1/(Ve-1));const Pt=Ve-1,ot=o.currentTime,Ct=o.currentAnimateTimings,Dt=Ct.duration;return ke.forEach((Un,Cn)=>{const yn=mt>0?Cn==Pt?1:mt*Cn:K[Cn],Sn=yn*Dt;o.currentTime=ot+Ct.delay+Sn,Ct.duration=Sn,this._validateStyleAst(Un,o),Un.offset=yn,c.styles.push(Un)}),c}visitReference(i,o){return{type:8,animation:Zt(this,xn(i.animation),o),options:Fs(i.options)}}visitAnimateChild(i,o){return o.depCount++,{type:9,options:Fs(i.options)}}visitAnimateRef(i,o){return{type:10,animation:this.visitReference(i.animation,o),options:Fs(i.options)}}visitQuery(i,o){const c=o.currentQuerySelector,m=i.options||{};o.queryCount++,o.currentQuery=i;const[O,K]=function ai(f){const i=!!f.split(/\s*,\s*/).find(o=>":self"==o);return i&&(f=f.replace(Ia,"")),f=f.replace(/@\*/g,qe).replace(/@\w+/g,o=>qe+"-"+o.slice(1)).replace(/:animating/g,Mt),[f,i]}(i.selector);o.currentQuerySelector=c.length?c+" "+O:O,bt(o.collectedStyles,o.currentQuerySelector,new Map);const ee=Zt(this,xn(i.animation),o);return o.currentQuery=null,o.currentQuerySelector=c,{type:11,selector:O,limit:m.limit||0,optional:!!m.optional,includeSelf:K,animation:ee,originalSelector:i.selector,options:Fs(i.options)}}visitStagger(i,o){o.currentQuery||o.errors.push(function X(){return new w.wOt(3013,!1)}());const c="full"===i.timings?{duration:0,delay:0,easing:"full"}:Ln(i.timings,o.errors,!0);return{type:12,animation:Zt(this,xn(i.animation),o),timings:c,options:null}}}class so{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fs(f){return f?(f=Kr(f)).params&&(f.params=function Xo(f){return f?Kr(f):null}(f.params)):f={},f}function So(f,i,o){return{duration:f,delay:i,easing:o}}function Pa(f,i,o,c,m,O,K=null,ee=!1){return{type:1,element:f,keyframes:i,preStyleProps:o,postStyleProps:c,duration:m,delay:O,totalTime:m+O,easing:K,subTimeline:ee}}class $s{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,o){let c=this._map.get(i);c||this._map.set(i,c=[]),c.push(...o)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Hl=new RegExp(":enter","g"),Oa=new RegExp(":leave","g");function Ws(f,i,o,c,m,O=new Map,K=new Map,ee,he,ye=[]){return(new Aa).buildKeyframes(f,i,o,c,m,O,K,ee,he,ye)}class Aa{buildKeyframes(i,o,c,m,O,K,ee,he,ye,ke=[]){ye=ye||new $s;const Ve=new Zi(i,o,ye,m,O,ke,[]);Ve.options=he;const mt=he.delay?Bt(he.delay):0;Ve.currentTimeline.delayNextStep(mt),Ve.currentTimeline.setStyles([K],null,Ve.errors,he),Zt(this,c,Ve);const Pt=Ve.timelines.filter(ot=>ot.containsAnimation());if(Pt.length&&ee.size){let ot;for(let Ct=Pt.length-1;Ct>=0;Ct--){const Dt=Pt[Ct];if(Dt.element===o){ot=Dt;break}}ot&&!ot.allowOnlyTimelineStyles()&&ot.setStyles([ee],null,Ve.errors,he)}return Pt.length?Pt.map(ot=>ot.buildKeyframes()):[Pa(o,[],[],[],0,mt,"",!1)]}visitTrigger(i,o){}visitState(i,o){}visitTransition(i,o){}visitAnimateChild(i,o){const c=o.subInstructions.get(o.element);if(c){const m=o.createSubContext(i.options),O=o.currentTimeline.currentTime,K=this._visitSubInstructions(c,m,m.options);O!=K&&o.transformIntoNewTimeline(K)}o.previousNode=i}visitAnimateRef(i,o){const c=o.createSubContext(i.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],o,c),this.visitReference(i.animation,c),o.transformIntoNewTimeline(c.currentTimeline.currentTime),o.previousNode=i}_applyAnimationRefDelays(i,o,c){for(const m of i){const O=m?.delay;if(O){const K="number"==typeof O?O:Bt(Qr(O,m?.params??{},o.errors));c.delayNextStep(K)}}}_visitSubInstructions(i,o,c){let O=o.currentTimeline.currentTime;const K=null!=c.duration?Bt(c.duration):null,ee=null!=c.delay?Bt(c.delay):null;return 0!==K&&i.forEach(he=>{const ye=o.appendInstructionToTimeline(he,K,ee);O=Math.max(O,ye.duration+ye.delay)}),O}visitReference(i,o){o.updateOptions(i.options,!0),Zt(this,i.animation,o),o.previousNode=i}visitSequence(i,o){const c=o.subContextCount;let m=o;const O=i.options;if(O&&(O.params||O.delay)&&(m=o.createSubContext(O),m.transformIntoNewTimeline(),null!=O.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=li);const K=Bt(O.delay);m.delayNextStep(K)}i.steps.length&&(i.steps.forEach(K=>Zt(this,K,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>c&&m.transformIntoNewTimeline()),o.previousNode=i}visitGroup(i,o){const c=[];let m=o.currentTimeline.currentTime;const O=i.options&&i.options.delay?Bt(i.options.delay):0;i.steps.forEach(K=>{const ee=o.createSubContext(i.options);O&&ee.delayNextStep(O),Zt(this,K,ee),m=Math.max(m,ee.currentTimeline.currentTime),c.push(ee.currentTimeline)}),c.forEach(K=>o.currentTimeline.mergeTimelineCollectedStyles(K)),o.transformIntoNewTimeline(m),o.previousNode=i}_visitTiming(i,o){if(i.dynamic){const c=i.strValue;return Ln(o.params?Qr(c,o.params,o.errors):c,o.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,o){const c=o.currentAnimateTimings=this._visitTiming(i.timings,o),m=o.currentTimeline;c.delay&&(o.incrementTime(c.delay),m.snapshotCurrentStyles());const O=i.style;5==O.type?this.visitKeyframes(O,o):(o.incrementTime(c.duration),this.visitStyle(O,o),m.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=i}visitStyle(i,o){const c=o.currentTimeline,m=o.currentAnimateTimings;!m&&c.hasCurrentStyleProperties()&&c.forwardFrame();const O=m&&m.easing||i.easing;i.isEmptyStep?c.applyEmptyStep(O):c.setStyles(i.styles,O,o.errors,o.options),o.previousNode=i}visitKeyframes(i,o){const c=o.currentAnimateTimings,m=o.currentTimeline.duration,O=c.duration,ee=o.createSubContext().currentTimeline;ee.easing=c.easing,i.styles.forEach(he=>{ee.forwardTime((he.offset||0)*O),ee.setStyles(he.styles,he.easing,o.errors,o.options),ee.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(ee),o.transformIntoNewTimeline(m+O),o.previousNode=i}visitQuery(i,o){const c=o.currentTimeline.currentTime,m=i.options||{},O=m.delay?Bt(m.delay):0;O&&(6===o.previousNode.type||0==c&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=li);let K=c;const ee=o.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!m.optional,o.errors);o.currentQueryTotal=ee.length;let he=null;ee.forEach((ye,ke)=>{o.currentQueryIndex=ke;const Ve=o.createSubContext(i.options,ye);O&&Ve.delayNextStep(O),ye===o.element&&(he=Ve.currentTimeline),Zt(this,i.animation,Ve),Ve.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,Ve.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(K),he&&(o.currentTimeline.mergeTimelineCollectedStyles(he),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=i}visitStagger(i,o){const c=o.parentContext,m=o.currentTimeline,O=i.timings,K=Math.abs(O.duration),ee=K*(o.currentQueryTotal-1);let he=K*o.currentQueryIndex;switch(O.duration<0?"reverse":O.easing){case"reverse":he=ee-he;break;case"full":he=c.currentStaggerTime}const ke=o.currentTimeline;he&&ke.delayNextStep(he);const Ve=ke.currentTime;Zt(this,i.animation,o),o.previousNode=i,c.currentStaggerTime=m.currentTime-Ve+(m.startTime-c.currentTimeline.startTime)}}const li={};class Zi{constructor(i,o,c,m,O,K,ee,he){this._driver=i,this.element=o,this.subInstructions=c,this._enterClassName=m,this._leaveClassName=O,this.errors=K,this.timelines=ee,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=li,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=he||new ps(this._driver,o,0),ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,o){if(!i)return;const c=i;let m=this.options;null!=c.duration&&(m.duration=Bt(c.duration)),null!=c.delay&&(m.delay=Bt(c.delay));const O=c.params;if(O){let K=m.params;K||(K=this.options.params={}),Object.keys(O).forEach(ee=>{(!o||!K.hasOwnProperty(ee))&&(K[ee]=Qr(O[ee],K,this.errors))})}}_copyOptions(){const i={};if(this.options){const o=this.options.params;if(o){const c=i.params={};Object.keys(o).forEach(m=>{c[m]=o[m]})}}return i}createSubContext(i=null,o,c){const m=o||this.element,O=new Zi(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,c||0));return O.previousNode=this.previousNode,O.currentAnimateTimings=this.currentAnimateTimings,O.options=this._copyOptions(),O.updateOptions(i),O.currentQueryIndex=this.currentQueryIndex,O.currentQueryTotal=this.currentQueryTotal,O.parentContext=this,this.subContextCount++,O}transformIntoNewTimeline(i){return this.previousNode=li,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,o,c){const m={duration:o??i.duration,delay:this.currentTimeline.currentTime+(c??0)+i.delay,easing:""},O=new En(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,m,i.stretchStartingKeyframe);return this.timelines.push(O),m}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,o,c,m,O,K){let ee=[];if(m&&ee.push(this.element),i.length>0){i=(i=i.replace(Hl,"."+this._enterClassName)).replace(Oa,"."+this._leaveClassName);let ye=this._driver.query(this.element,i,1!=c);0!==c&&(ye=c<0?ye.slice(ye.length+c,ye.length):ye.slice(0,c)),ee.push(...ye)}return!O&&0==ee.length&&K.push(function Ee(f){return new w.wOt(3014,!1)}()),ee}}class ps{constructor(i,o,c,m){this._driver=i,this.element=o,this.startTime=c,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+i),o&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,o){return this.applyStylesToKeyframe(),new ps(this._driver,i,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,o){this._localTimelineStyles.set(i,o),this._globalTimelineStyles.set(i,o),this._styleSummary.set(i,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[o,c]of this._globalTimelineStyles)this._backFill.set(o,c||b),this._currentKeyframe.set(o,b);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,o,c,m){o&&this._previousKeyframe.set("easing",o);const O=m&&m.params||{},K=function hr(f,i){const o=new Map;let c;return f.forEach(m=>{if("*"===m){c=c||i.keys();for(let O of c)o.set(O,b)}else ki(m,o)}),o}(i,this._globalTimelineStyles);for(let[ee,he]of K){const ye=Qr(he,O,c);this._pendingStyles.set(ee,ye),this._localTimelineStyles.has(ee)||this._backFill.set(ee,this._globalTimelineStyles.get(ee)??b),this._updateStyle(ee,ye)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,o)=>{this._currentKeyframe.set(o,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,i)}))}snapshotCurrentStyles(){for(let[i,o]of this._localTimelineStyles)this._pendingStyles.set(i,o),this._updateStyle(i,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let o in this._currentKeyframe)i.push(o);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((o,c)=>{const m=this._styleSummary.get(c);(!m||o.time>m.time)&&this._updateStyle(c,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,o=new Set,c=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((ee,he)=>{const ye=ki(ee,new Map,this._backFill);ye.forEach((ke,Ve)=>{"!"===ke?i.add(Ve):ke===b&&o.add(Ve)}),c||ye.set("offset",he/this.duration),m.push(ye)});const O=i.size?ks(i.values()):[],K=o.size?ks(o.values()):[];if(c){const ee=m[0],he=new Map(ee);ee.set("offset",0),he.set("offset",1),m=[ee,he]}return Pa(this.element,m,O,K,this.duration,this.startTime,this.easing,!1)}}class En extends ps{constructor(i,o,c,m,O,K,ee=!1){super(i,o,K.delay),this.keyframes=c,this.preStyleProps=m,this.postStyleProps=O,this._stretchStartingKeyframe=ee,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:o,duration:c,easing:m}=this.timings;if(this._stretchStartingKeyframe&&o){const O=[],K=c+o,ee=o/K,he=ki(i[0]);he.set("offset",0),O.push(he);const ye=ki(i[0]);ye.set("offset",wr(ee)),O.push(ye);const ke=i.length-1;for(let Ve=1;Ve<=ke;Ve++){let mt=ki(i[Ve]);const Pt=mt.get("offset");mt.set("offset",wr((o+Pt*c)/K)),O.push(mt)}c=K,o=0,m="",i=O}return Pa(this.element,i,this.preStyleProps,this.postStyleProps,c,o,m,!0)}}function wr(f,i=3){const o=Math.pow(10,i-1);return Math.round(f*o)/o}class Vr{}const Wn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class To extends Vr{normalizePropertyName(i,o){return Di(i)}normalizeStyleValue(i,o,c,m){let O="";const K=c.toString().trim();if(Wn.has(o)&&0!==c&&"0"!==c)if("number"==typeof c)O="px";else{const ee=c.match(/^[+-]?[\d\.]+([a-z]*)$/);ee&&0==ee[1].length&&m.push(function Be(f,i){return new w.wOt(3005,!1)}())}return K+O}}function dl(f,i,o,c,m,O,K,ee,he,ye,ke,Ve,mt){return{type:0,element:f,triggerName:i,isRemovalTransition:m,fromState:o,fromStyles:O,toState:c,toStyles:K,timelines:ee,queriedElements:he,preStyleProps:ye,postStyleProps:ke,totalTime:Ve,errors:mt}}const Io={};class Gn{constructor(i,o,c){this._triggerName=i,this.ast=o,this._stateStyles=c}match(i,o,c,m){return function cn(f,i,o,c,m){return f.some(O=>O(i,o,c,m))}(this.ast.matchers,i,o,c,m)}buildStyles(i,o,c){let m=this._stateStyles.get("*");return void 0!==i&&(m=this._stateStyles.get(i?.toString())||m),m?m.buildStyles(o,c):new Map}build(i,o,c,m,O,K,ee,he,ye,ke){const Ve=[],mt=this.ast.options&&this.ast.options.params||Io,ot=this.buildStyles(c,ee&&ee.params||Io,Ve),Ct=he&&he.params||Io,Dt=this.buildStyles(m,Ct,Ve),Un=new Set,Cn=new Map,yn=new Map,Sn="void"===m,Gi={params:Kn(Ct,mt),delay:this.ast.options?.delay},Ar=ke?[]:Ws(i,o,this.ast.animation,O,K,ot,Dt,Gi,ye,Ve);let er=0;if(Ar.forEach(vi=>{er=Math.max(vi.duration+vi.delay,er)}),Ve.length)return dl(o,this._triggerName,c,m,Sn,ot,Dt,[],[],Cn,yn,er,Ve);Ar.forEach(vi=>{const Is=vi.element,Gd=bt(Cn,Is,new Set);vi.preStyleProps.forEach(mo=>Gd.add(mo));const Ja=bt(yn,Is,new Set);vi.postStyleProps.forEach(mo=>Ja.add(mo)),Is!==o&&Un.add(Is)});const mi=ks(Un.values());return dl(o,this._triggerName,c,m,Sn,ot,Dt,Ar,mi,Cn,yn,er)}}function Kn(f,i){const o=Kr(i);for(const c in f)f.hasOwnProperty(c)&&null!=f[c]&&(o[c]=f[c]);return o}class Mi{constructor(i,o,c){this.styles=i,this.defaultParams=o,this.normalizer=c}buildStyles(i,o){const c=new Map,m=Kr(this.defaultParams);return Object.keys(i).forEach(O=>{const K=i[O];null!==K&&(m[O]=K)}),this.styles.styles.forEach(O=>{"string"!=typeof O&&O.forEach((K,ee)=>{K&&(K=Qr(K,m,o));const he=this.normalizer.normalizePropertyName(ee,o);K=this.normalizer.normalizeStyleValue(ee,he,K,o),c.set(ee,K)})}),c}}class gr{constructor(i,o,c){this.name=i,this.ast=o,this._normalizer=c,this.transitionFactories=[],this.states=new Map,o.states.forEach(m=>{this.states.set(m.name,new Mi(m.style,m.options&&m.options.params||{},c))}),or(this.states,"true","1"),or(this.states,"false","0"),o.transitions.forEach(m=>{this.transitionFactories.push(new Gn(i,m,this.states))}),this.fallbackTransition=function es(f,i,o){return new Gn(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,ee)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,o,c,m){return this.transitionFactories.find(K=>K.match(i,o,c,m))||null}matchStyles(i,o,c){return this.fallbackTransition.buildStyles(i,o,c)}}function or(f,i,o){f.has(i)?f.has(o)||f.set(o,f.get(i)):f.has(o)&&f.set(i,f.get(o))}const Ti=new $s;class Lr{constructor(i,o,c){this.bodyNode=i,this._driver=o,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,o){const c=[],O=Yo(this._driver,o,c,[]);if(c.length)throw function We(f){return new w.wOt(3503,!1)}();this._animations.set(i,O)}_buildPlayer(i,o,c){const m=i.element,O=an(this._normalizer,i.keyframes,o,c);return this._driver.animate(m,O,i.duration,i.delay,i.easing,[],!0)}create(i,o,c={}){const m=[],O=this._animations.get(i);let K;const ee=new Map;if(O?(K=Ws(this._driver,o,O,lt,Je,new Map,new Map,c,Ti,m),K.forEach(ke=>{const Ve=bt(ee,ke.element,new Map);ke.postStyleProps.forEach(mt=>Ve.set(mt,null))})):(m.push(function Oe(){return new w.wOt(3300,!1)}()),K=[]),m.length)throw function xe(f){return new w.wOt(3504,!1)}();ee.forEach((ke,Ve)=>{ke.forEach((mt,Pt)=>{ke.set(Pt,this._driver.computeStyle(Ve,Pt,b))})});const ye=Et(K.map(ke=>{const Ve=ee.get(ke.element);return this._buildPlayer(ke,new Map,Ve)}));return this._playersById.set(i,ye),ye.onDestroy(()=>this.destroy(i)),this.players.push(ye),ye}destroy(i){const o=this._getPlayer(i);o.destroy(),this._playersById.delete(i);const c=this.players.indexOf(o);c>=0&&this.players.splice(c,1)}_getPlayer(i){const o=this._playersById.get(i);if(!o)throw function Ze(f){return new w.wOt(3301,!1)}();return o}listen(i,o,c,m){const O=Ht(o,"","","");return It(this._getPlayer(i),c,O,m),()=>{}}command(i,o,c,m){if("register"==c)return void this.register(i,m[0]);if("create"==c)return void this.create(i,o,m[0]||{});const O=this._getPlayer(i);switch(c){case"play":O.play();break;case"pause":O.pause();break;case"reset":O.reset();break;case"restart":O.restart();break;case"finish":O.finish();break;case"init":O.init();break;case"setPosition":O.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(i)}}}const Xt="ng-animate-queued",ao="ng-animate-disabled",xr=[],Ui={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gr="__ng_removed";class Fi{get params(){return this.options.params}constructor(i,o=""){this.namespaceId=o;const c=i&&i.hasOwnProperty("value");if(this.value=function jl(f){return f??null}(c?i.value:i),c){const O=Kr(i);delete O.value,this.options=O}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const o=i.params;if(o){const c=this.options.params;Object.keys(o).forEach(m=>{null==c[m]&&(c[m]=o[m])})}}}const Cr="void",$i=new Fi(Cr);class ts{constructor(i,o,c){this.id=i,this.hostElement=o,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Jr(o,this._hostClassName)}listen(i,o,c,m){if(!this._triggers.has(o))throw function yt(f,i){return new w.wOt(3302,!1)}();if(null==c||0==c.length)throw function Wt(f){return new w.wOt(3303,!1)}();if(!function Ra(f){return"start"==f||"done"==f}(c))throw function vt(f,i){return new w.wOt(3400,!1)}();const O=bt(this._elementListeners,i,[]),K={name:o,phase:c,callback:m};O.push(K);const ee=bt(this._engine.statesByElement,i,new Map);return ee.has(o)||(Jr(i,Re),Jr(i,Re+"-"+o),ee.set(o,$i)),()=>{this._engine.afterFlush(()=>{const he=O.indexOf(K);he>=0&&O.splice(he,1),this._triggers.has(o)||ee.delete(o)})}}register(i,o){return!this._triggers.has(i)&&(this._triggers.set(i,o),!0)}_getTrigger(i){const o=this._triggers.get(i);if(!o)throw function qt(f){return new w.wOt(3401,!1)}();return o}trigger(i,o,c,m=!0){const O=this._getTrigger(o),K=new gs(this.id,o,i);let ee=this._engine.statesByElement.get(i);ee||(Jr(i,Re),Jr(i,Re+"-"+o),this._engine.statesByElement.set(i,ee=new Map));let he=ee.get(o);const ye=new Fi(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&he&&ye.absorbOptions(he.options),ee.set(o,ye),he||(he=$i),ye.value!==Cr&&he.value===ye.value){if(!function Wi(f,i){const o=Object.keys(f),c=Object.keys(i);if(o.length!=c.length)return!1;for(let m=0;m<o.length;m++){const O=o[m];if(!i.hasOwnProperty(O)||f[O]!==i[O])return!1}return!0}(he.params,ye.params)){const Ct=[],Dt=O.matchStyles(he.value,he.params,Ct),Un=O.matchStyles(ye.value,ye.params,Ct);Ct.length?this._engine.reportError(Ct):this._engine.afterFlush(()=>{Fr(i,Dt),Qn(i,Un)})}return}const mt=bt(this._engine.playersByElement,i,[]);mt.forEach(Ct=>{Ct.namespaceId==this.id&&Ct.triggerName==o&&Ct.queued&&Ct.destroy()});let Pt=O.matchTransition(he.value,ye.value,i,ye.params),ot=!1;if(!Pt){if(!m)return;Pt=O.fallbackTransition,ot=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:Pt,fromState:he,toState:ye,player:K,isFallbackTransition:ot}),ot||(Jr(i,Xt),K.onStart(()=>{qn(i,Xt)})),K.onDone(()=>{let Ct=this.players.indexOf(K);Ct>=0&&this.players.splice(Ct,1);const Dt=this._engine.playersByElement.get(i);if(Dt){let Un=Dt.indexOf(K);Un>=0&&Dt.splice(Un,1)}}),this.players.push(K),mt.push(K),K}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(o=>o.delete(i)),this._elementListeners.forEach((o,c)=>{this._elementListeners.set(c,o.filter(m=>m.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const o=this._engine.playersByElement.get(i);o&&(o.forEach(c=>c.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,o){const c=this._engine.driver.query(i,qe,!0);c.forEach(m=>{if(m[Gr])return;const O=this._engine.fetchNamespacesByElement(m);O.size?O.forEach(K=>K.triggerLeaveAnimation(m,o,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(i,o,c,m){const O=this._engine.statesByElement.get(i),K=new Map;if(O){const ee=[];if(O.forEach((he,ye)=>{if(K.set(ye,he.value),this._triggers.has(ye)){const ke=this.trigger(i,ye,Cr,m);ke&&ee.push(ke)}}),ee.length)return this._engine.markElementAsRemoved(this.id,i,!0,o,K),c&&Et(ee).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const o=this._elementListeners.get(i),c=this._engine.statesByElement.get(i);if(o&&c){const m=new Set;o.forEach(O=>{const K=O.name;if(m.has(K))return;m.add(K);const he=this._triggers.get(K).fallbackTransition,ye=c.get(K)||$i,ke=new Fi(Cr),Ve=new gs(this.id,K,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:K,transition:he,fromState:ye,toState:ke,player:Ve,isFallbackTransition:!0})})}}removeNode(i,o){const c=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,o),this.triggerLeaveAnimation(i,o,!0))return;let m=!1;if(c.totalAnimations){const O=c.players.length?c.playersByQueriedElement.get(i):[];if(O&&O.length)m=!0;else{let K=i;for(;K=K.parentNode;)if(c.statesByElement.get(K)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(i),m)c.markElementAsRemoved(this.id,i,!1,o);else{const O=i[Gr];(!O||O===Ui)&&(c.afterFlush(()=>this.clearElementCache(i)),c.destroyInnerAnimations(i),c._onRemovalComplete(i,o))}}insertNode(i,o){Jr(i,this._hostClassName)}drainQueuedTransitions(i){const o=[];return this._queue.forEach(c=>{const m=c.player;if(m.destroyed)return;const O=c.element,K=this._elementListeners.get(O);K&&K.forEach(ee=>{if(ee.name==c.triggerName){const he=Ht(O,c.triggerName,c.fromState.value,c.toState.value);he._data=i,It(c.player,ee.phase,he,ee.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):o.push(c)}),this._queue=[],o.sort((c,m)=>{const O=c.transition.ast.depCount,K=m.transition.ast.depCount;return 0==O||0==K?O-K:this._engine.driver.containsElement(c.element,m.element)?1:-1})}destroy(i){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class Ot{_onRemovalComplete(i,o){this.onRemovalComplete(i,o)}constructor(i,o,c){this.bodyNode=i,this.driver=o,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,O)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(o=>{o.players.forEach(c=>{c.queued&&i.push(c)})}),i}createNamespace(i,o){const c=new ts(i,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(c,o):(this.newHostElements.set(o,c),this.collectEnterElement(o)),this._namespaceLookup[i]=c}_balanceNamespaceList(i,o){const c=this._namespaceList,m=this.namespacesByHostElement;if(c.length-1>=0){let K=!1,ee=this.driver.getParentElement(o);for(;ee;){const he=m.get(ee);if(he){const ye=c.indexOf(he);c.splice(ye+1,0,i),K=!0;break}ee=this.driver.getParentElement(ee)}K||c.unshift(i)}else c.push(i);return m.set(o,i),i}register(i,o){let c=this._namespaceLookup[i];return c||(c=this.createNamespace(i,o)),c}registerTrigger(i,o,c){let m=this._namespaceLookup[i];m&&m.register(o,c)&&this.totalAnimations++}destroy(i,o){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const c=this._fetchNamespace(i);this.namespacesByHostElement.delete(c.hostElement);const m=this._namespaceList.indexOf(c);m>=0&&this._namespaceList.splice(m,1),c.destroy(o),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const o=new Set,c=this.statesByElement.get(i);if(c)for(let m of c.values())if(m.namespaceId){const O=this._fetchNamespace(m.namespaceId);O&&o.add(O)}return o}trigger(i,o,c,m){if(Yr(o)){const O=this._fetchNamespace(i);if(O)return O.trigger(o,c,m),!0}return!1}insertNode(i,o,c,m){if(!Yr(o))return;const O=o[Gr];if(O&&O.setForRemoval){O.setForRemoval=!1,O.setForMove=!0;const K=this.collectedLeaveElements.indexOf(o);K>=0&&this.collectedLeaveElements.splice(K,1)}if(i){const K=this._fetchNamespace(i);K&&K.insertNode(o,c)}m&&this.collectEnterElement(o)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,o){o?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Jr(i,ao)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),qn(i,ao))}removeNode(i,o,c){if(Yr(o)){const m=i?this._fetchNamespace(i):null;m?m.removeNode(o,c):this.markElementAsRemoved(i,o,!1,c);const O=this.namespacesByHostElement.get(o);O&&O.id!==i&&O.removeNode(o,c)}else this._onRemovalComplete(o,c)}markElementAsRemoved(i,o,c,m,O){this.collectedLeaveElements.push(o),o[Gr]={namespaceId:i,setForRemoval:m,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:O}}listen(i,o,c,m,O){return Yr(o)?this._fetchNamespace(i).listen(o,c,m,O):()=>{}}_buildInstruction(i,o,c,m,O){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,c,m,i.fromState.options,i.toState.options,o,O)}destroyInnerAnimations(i){let o=this.driver.query(i,qe,!0);o.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(i,Mt,!0),o.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(i){const o=this.playersByElement.get(i);o&&o.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(i){const o=this.playersByQueriedElement.get(i);o&&o.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Et(this.players).onDone(()=>i());i()})}processLeaveNode(i){const o=i[Gr];if(o&&o.setForRemoval){if(i[Gr]=Ui,o.namespaceId){this.destroyInnerAnimations(i);const c=this._fetchNamespace(o.namespaceId);c&&c.clearElementCache(i)}this._onRemovalComplete(i,o.setForRemoval)}i.classList?.contains(ao)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(i=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,m)=>this._balanceNamespaceList(c,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)Jr(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{o=this._flushAnimations(c,i)}finally{for(let m=0;m<c.length;m++)c[m]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],o.length?Et(o).onDone(()=>{c.forEach(m=>m())}):c.forEach(m=>m())}}reportError(i){throw function Nt(f){return new w.wOt(3402,!1)}()}_flushAnimations(i,o){const c=new $s,m=[],O=new Map,K=[],ee=new Map,he=new Map,ye=new Map,ke=new Set;this.disabledNodes.forEach(Ft=>{ke.add(Ft);const Gt=this.driver.query(Ft,".ng-animate-queued",!0);for(let sn=0;sn<Gt.length;sn++)ke.add(Gt[sn])});const Ve=this.bodyNode,mt=Array.from(this.statesByElement.keys()),Pt=yr(mt,this.collectedEnterElements),ot=new Map;let Ct=0;Pt.forEach((Ft,Gt)=>{const sn=lt+Ct++;ot.set(Gt,sn),Ft.forEach(An=>Jr(An,sn))});const Dt=[],Un=new Set,Cn=new Set;for(let Ft=0;Ft<this.collectedLeaveElements.length;Ft++){const Gt=this.collectedLeaveElements[Ft],sn=Gt[Gr];sn&&sn.setForRemoval&&(Dt.push(Gt),Un.add(Gt),sn.hasAnimation?this.driver.query(Gt,".ng-star-inserted",!0).forEach(An=>Un.add(An)):Cn.add(Gt))}const yn=new Map,Sn=yr(mt,Array.from(Un));Sn.forEach((Ft,Gt)=>{const sn=Je+Ct++;yn.set(Gt,sn),Ft.forEach(An=>Jr(An,sn))}),i.push(()=>{Pt.forEach((Ft,Gt)=>{const sn=ot.get(Gt);Ft.forEach(An=>qn(An,sn))}),Sn.forEach((Ft,Gt)=>{const sn=yn.get(Gt);Ft.forEach(An=>qn(An,sn))}),Dt.forEach(Ft=>{this.processLeaveNode(Ft)})});const Gi=[],Ar=[];for(let Ft=this._namespaceList.length-1;Ft>=0;Ft--)this._namespaceList[Ft].drainQueuedTransitions(o).forEach(sn=>{const An=sn.player,ri=sn.element;if(Gi.push(An),this.collectedEnterElements.length){const Hr=ri[Gr];if(Hr&&Hr.setForMove){if(Hr.previousTriggersValues&&Hr.previousTriggersValues.has(sn.triggerName)){const ya=Hr.previousTriggersValues.get(sn.triggerName),Xi=this.statesByElement.get(sn.element);if(Xi&&Xi.has(sn.triggerName)){const Za=Xi.get(sn.triggerName);Za.value=ya,Xi.set(sn.triggerName,Za)}}return void An.destroy()}}const Qs=!Ve||!this.driver.containsElement(Ve,ri),Yi=yn.get(ri),Wo=ot.get(ri),fr=this._buildInstruction(sn,c,Wo,Yi,Qs);if(fr.errors&&fr.errors.length)return void Ar.push(fr);if(Qs)return An.onStart(()=>Fr(ri,fr.fromStyles)),An.onDestroy(()=>Qn(ri,fr.toStyles)),void m.push(An);if(sn.isFallbackTransition)return An.onStart(()=>Fr(ri,fr.fromStyles)),An.onDestroy(()=>Qn(ri,fr.toStyles)),void m.push(An);const Yu=[];fr.timelines.forEach(Hr=>{Hr.stretchStartingKeyframe=!0,this.disabledNodes.has(Hr.element)||Yu.push(Hr)}),fr.timelines=Yu,c.append(ri,fr.timelines),K.push({instruction:fr,player:An,element:ri}),fr.queriedElements.forEach(Hr=>bt(ee,Hr,[]).push(An)),fr.preStyleProps.forEach((Hr,ya)=>{if(Hr.size){let Xi=he.get(ya);Xi||he.set(ya,Xi=new Set),Hr.forEach((Za,eu)=>Xi.add(eu))}}),fr.postStyleProps.forEach((Hr,ya)=>{let Xi=ye.get(ya);Xi||ye.set(ya,Xi=new Set),Hr.forEach((Za,eu)=>Xi.add(eu))})});if(Ar.length){const Ft=[];Ar.forEach(Gt=>{Ft.push(function fn(f,i){return new w.wOt(3505,!1)}())}),Gi.forEach(Gt=>Gt.destroy()),this.reportError(Ft)}const er=new Map,mi=new Map;K.forEach(Ft=>{const Gt=Ft.element;c.has(Gt)&&(mi.set(Gt,Gt),this._beforeAnimationBuild(Ft.player.namespaceId,Ft.instruction,er))}),m.forEach(Ft=>{const Gt=Ft.element;this._getPreviousPlayers(Gt,!1,Ft.namespaceId,Ft.triggerName,null).forEach(An=>{bt(er,Gt,[]).push(An),An.destroy()})});const vi=Dt.filter(Ft=>kr(Ft,he,ye)),Is=new Map;rs(Is,this.driver,Cn,ye,b).forEach(Ft=>{kr(Ft,he,ye)&&vi.push(Ft)});const Ja=new Map;Pt.forEach((Ft,Gt)=>{rs(Ja,this.driver,new Set(Ft),he,"!")}),vi.forEach(Ft=>{const Gt=Is.get(Ft),sn=Ja.get(Ft);Is.set(Ft,new Map([...Gt?.entries()??[],...sn?.entries()??[]]))});const mo=[],Ca=[],Gu={};K.forEach(Ft=>{const{element:Gt,player:sn,instruction:An}=Ft;if(c.has(Gt)){if(ke.has(Gt))return sn.onDestroy(()=>Qn(Gt,An.toStyles)),sn.disabled=!0,sn.overrideTotalTime(An.totalTime),void m.push(sn);let ri=Gu;if(mi.size>1){let Yi=Gt;const Wo=[];for(;Yi=Yi.parentNode;){const fr=mi.get(Yi);if(fr){ri=fr;break}Wo.push(Yi)}Wo.forEach(fr=>mi.set(fr,ri))}const Qs=this._buildAnimation(sn.namespaceId,An,er,O,Ja,Is);if(sn.setRealPlayer(Qs),ri===Gu)mo.push(sn);else{const Yi=this.playersByElement.get(ri);Yi&&Yi.length&&(sn.parentPlayer=Et(Yi)),m.push(sn)}}else Fr(Gt,An.fromStyles),sn.onDestroy(()=>Qn(Gt,An.toStyles)),Ca.push(sn),ke.has(Gt)&&m.push(sn)}),Ca.forEach(Ft=>{const Gt=O.get(Ft.element);if(Gt&&Gt.length){const sn=Et(Gt);Ft.setRealPlayer(sn)}}),m.forEach(Ft=>{Ft.parentPlayer?Ft.syncPlayerEvents(Ft.parentPlayer):Ft.destroy()});for(let Ft=0;Ft<Dt.length;Ft++){const Gt=Dt[Ft],sn=Gt[Gr];if(qn(Gt,Je),sn&&sn.hasAnimation)continue;let An=[];if(ee.size){let Qs=ee.get(Gt);Qs&&Qs.length&&An.push(...Qs);let Yi=this.driver.query(Gt,Mt,!0);for(let Wo=0;Wo<Yi.length;Wo++){let fr=ee.get(Yi[Wo]);fr&&fr.length&&An.push(...fr)}}const ri=An.filter(Qs=>!Qs.destroyed);ri.length?Ir(this,Gt,ri):this.processLeaveNode(Gt)}return Dt.length=0,mo.forEach(Ft=>{this.players.push(Ft),Ft.onDone(()=>{Ft.destroy();const Gt=this.players.indexOf(Ft);this.players.splice(Gt,1)}),Ft.play()}),mo}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,o,c,m,O){let K=[];if(o){const ee=this.playersByQueriedElement.get(i);ee&&(K=ee)}else{const ee=this.playersByElement.get(i);if(ee){const he=!O||O==Cr;ee.forEach(ye=>{ye.queued||!he&&ye.triggerName!=m||K.push(ye)})}}return(c||m)&&(K=K.filter(ee=>!(c&&c!=ee.namespaceId||m&&m!=ee.triggerName))),K}_beforeAnimationBuild(i,o,c){const O=o.element,K=o.isRemovalTransition?void 0:i,ee=o.isRemovalTransition?void 0:o.triggerName;for(const he of o.timelines){const ye=he.element,ke=ye!==O,Ve=bt(c,ye,[]);this._getPreviousPlayers(ye,ke,K,ee,o.toState).forEach(Pt=>{const ot=Pt.getRealPlayer();ot.beforeDestroy&&ot.beforeDestroy(),Pt.destroy(),Ve.push(Pt)})}Fr(O,o.fromStyles)}_buildAnimation(i,o,c,m,O,K){const ee=o.triggerName,he=o.element,ye=[],ke=new Set,Ve=new Set,mt=o.timelines.map(ot=>{const Ct=ot.element;ke.add(Ct);const Dt=Ct[Gr];if(Dt&&Dt.removedBeforeQueried)return new ne(ot.duration,ot.delay);const Un=Ct!==he,Cn=function Zo(f){const i=[];return is(f,i),i}((c.get(Ct)||xr).map(er=>er.getRealPlayer())).filter(er=>!!er.element&&er.element===Ct),yn=O.get(Ct),Sn=K.get(Ct),Gi=an(this._normalizer,ot.keyframes,yn,Sn),Ar=this._buildPlayer(ot,Gi,Cn);if(ot.subTimeline&&m&&Ve.add(Ct),Un){const er=new gs(i,ee,Ct);er.setRealPlayer(Ar),ye.push(er)}return Ar});ye.forEach(ot=>{bt(this.playersByQueriedElement,ot.element,[]).push(ot),ot.onDone(()=>function ns(f,i,o){let c=f.get(i);if(c){if(c.length){const m=c.indexOf(o);c.splice(m,1)}0==c.length&&f.delete(i)}return c}(this.playersByQueriedElement,ot.element,ot))}),ke.forEach(ot=>Jr(ot,ct));const Pt=Et(mt);return Pt.onDestroy(()=>{ke.forEach(ot=>qn(ot,ct)),Qn(he,o.toStyles)}),Ve.forEach(ot=>{bt(m,ot,[]).push(Pt)}),Pt}_buildPlayer(i,o,c){return o.length>0?this.driver.animate(i.element,o,i.duration,i.delay,i.easing,c):new ne(i.duration,i.delay)}}class gs{constructor(i,o,c){this.namespaceId=i,this.triggerName=o,this.element=c,this._player=new ne,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((o,c)=>{o.forEach(m=>It(i,c,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const o=this._player;o.triggerCallback&&i.onStart(()=>o.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,o){bt(this._queuedCallbacks,i,[]).push(o)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const o=this._player;o.triggerCallback&&o.triggerCallback(i)}}function Yr(f){return f&&1===f.nodeType}function js(f,i){const o=f.style.display;return f.style.display=i??"none",o}function rs(f,i,o,c,m){const O=[];o.forEach(he=>O.push(js(he)));const K=[];c.forEach((he,ye)=>{const ke=new Map;he.forEach(Ve=>{const mt=i.computeStyle(ye,Ve,m);ke.set(Ve,mt),(!mt||0==mt.length)&&(ye[Gr]=zr,K.push(ye))}),f.set(ye,ke)});let ee=0;return o.forEach(he=>js(he,O[ee++])),K}function yr(f,i){const o=new Map;if(f.forEach(ee=>o.set(ee,[])),0==i.length)return o;const m=new Set(i),O=new Map;function K(ee){if(!ee)return 1;let he=O.get(ee);if(he)return he;const ye=ee.parentNode;return he=o.has(ye)?ye:m.has(ye)?1:K(ye),O.set(ee,he),he}return i.forEach(ee=>{const he=K(ee);1!==he&&o.get(he).push(ee)}),o}function Jr(f,i){f.classList?.add(i)}function qn(f,i){f.classList?.remove(i)}function Ir(f,i,o){Et(o).onDone(()=>f.processLeaveNode(i))}function is(f,i){for(let o=0;o<f.length;o++){const c=f[o];c instanceof H?is(c.players,i):i.push(c)}}function kr(f,i,o){const c=o.get(f);if(!c)return!1;let m=i.get(f);return m?c.forEach(O=>m.add(O)):i.set(f,c),o.delete(f),!0}class lo{constructor(i,o,c){this.bodyNode=i,this._driver=o,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(m,O)=>{},this._transitionEngine=new Ot(i,o,c),this._timelineEngine=new Lr(i,o,c),this._transitionEngine.onRemovalComplete=(m,O)=>this.onRemovalComplete(m,O)}registerTrigger(i,o,c,m,O){const K=i+"-"+m;let ee=this._triggerCache[K];if(!ee){const he=[],ke=Yo(this._driver,O,he,[]);if(he.length)throw function it(f,i){return new w.wOt(3404,!1)}();ee=function _r(f,i,o){return new gr(f,i,o)}(m,ke,this._normalizer),this._triggerCache[K]=ee}this._transitionEngine.registerTrigger(o,m,ee)}register(i,o){this._transitionEngine.register(i,o)}destroy(i,o){this._transitionEngine.destroy(i,o)}onInsert(i,o,c,m){this._transitionEngine.insertNode(i,o,c,m)}onRemove(i,o,c){this._transitionEngine.removeNode(i,o,c)}disableAnimations(i,o){this._transitionEngine.markElementAsDisabled(i,o)}process(i,o,c,m){if("@"==c.charAt(0)){const[O,K]=xt(c);this._timelineEngine.command(O,o,K,m)}else this._transitionEngine.trigger(i,o,c,m)}listen(i,o,c,m,O){if("@"==c.charAt(0)){const[K,ee]=xt(c);return this._timelineEngine.listen(K,o,ee,O)}return this._transitionEngine.listen(i,o,c,m,O)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let hl=(()=>{class f{static{this.initialStylesByElement=new WeakMap}constructor(o,c,m){this._element=o,this._startStyles=c,this._endStyles=m,this._state=0;let O=f.initialStylesByElement.get(o);O||f.initialStylesByElement.set(o,O=new Map),this._initialStyles=O}start(){this._state<1&&(this._startStyles&&Qn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qn(this._element,this._initialStyles),this._endStyles&&(Qn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(Fr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fr(this._element,this._endStyles),this._endStyles=null),Qn(this._element,this._initialStyles),this._state=3)}}return f})();function La(f){let i=null;return f.forEach((o,c)=>{(function wc(f){return"display"===f||"position"===f})(c)&&(i=i||new Map,i.set(c,o))}),i}class _l{constructor(i,o,c,m){this.element=i,this.keyframes=o,this.options=c,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const o=[];return i.forEach(c=>{o.push(Object.fromEntries(c))}),o}_triggerWebAnimation(i,o,c){return i.animate(this._convertKeyframesToObject(o),c)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,m)=>{"offset"!==m&&i.set(m,this._finished?c:no(this.element,m))}),this.currentSnapshot=i}triggerCallback(i){const o="start"===i?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class Hi{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,o){return!1}containsElement(i,o){return pn(i,o)}getParentElement(i){return Yt(i)}query(i,o,c){return Ci(i,o,c)}computeStyle(i,o,c){return window.getComputedStyle(i)[o]}animate(i,o,c,m,O,K=[]){const he={duration:c,delay:m,fill:0==m?"both":"forwards"};O&&(he.easing=O);const ye=new Map,ke=K.filter(Pt=>Pt instanceof _l);(function si(f,i){return 0===f||0===i})(c,m)&&ke.forEach(Pt=>{Pt.currentSnapshot.forEach((ot,Ct)=>ye.set(Ct,ot))});let Ve=function Ma(f){return f.length?f[0]instanceof Map?f:f.map(i=>qr(i)):[]}(o).map(Pt=>ki(Pt));Ve=function _i(f,i,o){if(o.size&&i.length){let c=i[0],m=[];if(o.forEach((O,K)=>{c.has(K)||m.push(K),c.set(K,O)}),m.length)for(let O=1;O<i.length;O++){let K=i[O];m.forEach(ee=>K.set(ee,no(f,ee)))}}return i}(i,Ve,ye);const mt=function ar(f,i){let o=null,c=null;return Array.isArray(i)&&i.length?(o=La(i[0]),i.length>1&&(c=La(i[i.length-1]))):i instanceof Map&&(o=La(i)),o||c?new hl(f,o,c):null}(i,Ve);return new _l(i,Ve,he,mt)}}var xa=a(177);let ea=(()=>{class f extends _{constructor(o,c){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(c.body,{id:"0",encapsulation:w.gXe.None,styles:[],data:{animation:[]}})}build(o){const c=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(o)?U(o):o;return Cc(this._renderer,null,c,"register",[m]),new ta(c,this._renderer)}static{this.\u0275fac=function(c){return new(c||f)(w.KVO(w._9s),w.KVO(xa.qQ))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})();class ta extends g{constructor(i,o){super(),this._id=i,this._renderer=o}create(i,o){return new Oo(this._id,i,o||{},this._renderer)}}class Oo{constructor(i,o,c,m){this.id=i,this.element=o,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(i,o){return this._renderer.listen(this.element,`@@${this.id}:${i}`,o)}_command(i,...o){return Cc(this._renderer,this.element,this.id,i,o)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Cc(f,i,o,c,m){return f.setProperty(i,`@@${o}:${c}`,m)}const pl="@.disabled";let yc=(()=>{class f{constructor(o,c,m){this.delegate=o,this.engine=c,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,c.onRemovalComplete=(O,K)=>{const ee=K?.parentNode(O);ee&&K.removeChild(ee,O)}}createRenderer(o,c){const O=this.delegate.createRenderer(o,c);if(!(o&&c&&c.data&&c.data.animation)){let ke=this._rendererCache.get(O);return ke||(ke=new Kl("",O,this.engine,()=>this._rendererCache.delete(O)),this._rendererCache.set(O,ke)),ke}const K=c.id,ee=c.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,o);const he=ke=>{Array.isArray(ke)?ke.forEach(he):this.engine.registerTrigger(K,ee,o,ke.name,ke)};return c.data.animation.forEach(he),new Ks(this,ee,O,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,c,m){o>=0&&o<this._microtaskId?this._zone.run(()=>c(m)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(O=>{const[K,ee]=O;K(ee)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(c){return new(c||f)(w.KVO(w._9s),w.KVO(lo),w.KVO(w.SKi))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})();class Kl{constructor(i,o,c,m){this.namespaceId=i,this.delegate=o,this.engine=c,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,o){return this.delegate.createElement(i,o)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,o){this.delegate.appendChild(i,o),this.engine.onInsert(this.namespaceId,o,i,!1)}insertBefore(i,o,c,m=!0){this.delegate.insertBefore(i,o,c),this.engine.onInsert(this.namespaceId,o,i,m)}removeChild(i,o,c){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(i,o){return this.delegate.selectRootElement(i,o)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,o,c,m){this.delegate.setAttribute(i,o,c,m)}removeAttribute(i,o,c){this.delegate.removeAttribute(i,o,c)}addClass(i,o){this.delegate.addClass(i,o)}removeClass(i,o){this.delegate.removeClass(i,o)}setStyle(i,o,c,m){this.delegate.setStyle(i,o,c,m)}removeStyle(i,o,c){this.delegate.removeStyle(i,o,c)}setProperty(i,o,c){"@"==o.charAt(0)&&o==pl?this.disableAnimations(i,!!c):this.delegate.setProperty(i,o,c)}setValue(i,o){this.delegate.setValue(i,o)}listen(i,o,c){return this.delegate.listen(i,o,c)}disableAnimations(i,o){this.engine.disableAnimations(i,o)}}class Ks extends Kl{constructor(i,o,c,m,O){super(o,c,m,O),this.factory=i,this.namespaceId=o}setProperty(i,o,c){"@"==o.charAt(0)?"."==o.charAt(1)&&o==pl?this.disableAnimations(i,c=void 0===c||!!c):this.engine.process(this.namespaceId,i,o.slice(1),c):this.delegate.setProperty(i,o,c)}listen(i,o,c){if("@"==o.charAt(0)){const m=function na(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(i);let O=o.slice(1),K="";return"@"!=O.charAt(0)&&([O,K]=function ql(f){const i=f.indexOf(".");return[f.substring(0,i),f.slice(i+1)]}(O)),this.engine.listen(this.namespaceId,m,O,K,ee=>{this.factory.scheduleListenerCallback(ee._data||-1,c,ee)})}return this.delegate.listen(i,o,c)}}let ka=(()=>{class f extends lo{constructor(o,c,m,O){super(o.body,c,m)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(c){return new(c||f)(w.KVO(xa.qQ),w.KVO(Ji),w.KVO(Vr),w.KVO(w.o8S))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})();const co=[{provide:_,useClass:ea},{provide:Vr,useFactory:function Ba(){return new To}},{provide:lo,useClass:ka},{provide:w._9s,useFactory:function ms(f,i,o){return new yc(f,i,o)},deps:[p.B7,lo,w.SKi]}],ss=[{provide:Ji,useFactory:()=>new Hi},{provide:w.bc$,useValue:"BrowserAnimations"},...co],Zr=[{provide:Ji,useClass:Ls},{provide:w.bc$,useValue:"NoopAnimations"},...co];let gl=(()=>{class f{static withConfig(o){return{ngModule:f,providers:o.disableAnimations?Zr:ss}}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:ss,imports:[p.Bb]})}}return f})();var ze=a(7983),Er=a(9255);const Fa=["terminalSection"];function ml(f,i){if(1&f&&(w.j41(0,"div",56)(1,"div",57),w.EFF(2),w.k0s(),w.j41(3,"h3",58),w.EFF(4),w.k0s(),w.j41(5,"p",59),w.EFF(6),w.k0s()()),2&f){const o=i.$implicit;w.R7$(2),w.JRh(o.icon),w.R7$(2),w.JRh(o.title),w.R7$(2),w.JRh(o.description)}}function Vl(f,i){if(1&f&&(w.j41(0,"div",60)(1,"div",61)(2,"span",62),w.EFF(3),w.k0s(),w.j41(4,"code",63),w.EFF(5),w.k0s()(),w.j41(6,"p",64),w.EFF(7),w.k0s()()),2&f){const o=i.$implicit;w.R7$(3),w.JRh(o.name),w.R7$(2),w.JRh(o.command),w.R7$(2),w.JRh(o.description)}}let uo=(()=>{class f{constructor(){this.title="Qodalis CLI",this.options={welcomeMessage:{show:"always"},usersModule:{enabled:!0},logLevel:ze.tE.DEBUG},this.features=[{icon:"\u29c9",title:"Plugin Ecosystem",description:"Extend functionality with drop-in Angular modules. GUID, regex, QR codes, speed tests, and more."},{icon:"\u2261",title:"Tabs & Split Panes",description:"Multiple terminals in tabs with draggable split panes. Rename, duplicate, and manage sessions."},{icon:"\u25d0",title:"Fully Themeable",description:"CSS custom properties for every surface. Match your app's design system with zero friction."},{icon:"\u21e5",title:"Autocomplete & History",description:"Tab completion, command history navigation, and inline suggestions out of the box."}],this.plugins=[{name:"GUID",command:"guid generate",description:"Generate and validate UUIDs"},{name:"Regex",command:"regex test",description:"Test and debug regular expressions"},{name:"QR Code",command:"qr generate",description:"Generate QR codes from text"},{name:"Speed Test",command:"speed-test",description:"Measure network performance"},{name:"cURL",command:"curl",description:"Make HTTP requests from the terminal"},{name:"Password",command:"password generate",description:"Generate secure passwords"},{name:"String",command:"string",description:"Encode, decode, and transform text"},{name:"Todo",command:"todo",description:"Manage tasks from the command line"},{name:"Storage",command:"storage",description:"Inspect browser local/session storage"},{name:"Text to Image",command:"text-to-image",description:"Render text as images"}],this.installCommand="npm install @qodalis/angular-cli @qodalis/cli-core",this.copied=!1}scrollToTerminal(){this.terminalSection?.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}copyInstall(){navigator.clipboard.writeText(this.installCommand).then(()=>{this.copied=!0,setTimeout(()=>this.copied=!1,2e3)})}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275cmp=w.VBU({type:f,selectors:[["app-root"]],viewQuery:function(c,m){if(1&c&&w.GBs(Fa,5),2&c){let O;w.mGM(O=w.lsd())&&(m.terminalSection=O.first)}},decls:92,vars:6,consts:[[1,"nav"],[1,"nav-inner"],[1,"nav-brand"],[1,"brand-icon"],[1,"brand-text"],[1,"nav-links"],["href","https://cli.qodalis.com/docs/","target","_blank","rel","noopener",1,"nav-link"],["href","https://www.npmjs.com/package/@qodalis/angular-cli","target","_blank","rel","noopener",1,"nav-link"],["href","https://github.com/qodalis-solutions/angular-web-cli","target","_blank","rel","noopener",1,"nav-link","gh-link"],[1,"arrow"],[1,"hero"],[1,"hero-glow"],[1,"hero-content"],[1,"hero-badge"],[1,"hero-title"],[1,"accent"],[1,"hero-subtitle"],[1,"hero-actions"],[1,"btn","btn-primary",3,"click"],["href","https://cli.qodalis.com/docs/","target","_blank","rel","noopener",1,"btn","btn-ghost"],[1,"install-bar"],[1,"install-command"],[1,"install-copy",3,"click"],[1,"features-section"],[1,"section-inner"],[1,"features-grid"],["class","feature-card",4,"ngFor","ngForOf"],[1,"terminal-section"],["terminalSection",""],[1,"section-heading"],[1,"section-subheading"],[1,"terminal-wrapper"],[1,"terminal-chrome"],[1,"chrome-dot","red"],[1,"chrome-dot","yellow"],[1,"chrome-dot","green"],[1,"chrome-title"],[1,"terminal-body"],["height","420px",3,"options"],[1,"plugins-section"],[1,"plugins-grid"],["class","plugin-card",4,"ngFor","ngForOf"],[1,"cta-section"],[1,"section-inner","cta-inner"],[1,"cta-title"],[1,"cta-actions"],["href","https://cli.qodalis.com/docs/","target","_blank","rel","noopener",1,"btn","btn-primary"],["href","https://github.com/qodalis-solutions/angular-web-cli","target","_blank","rel","noopener",1,"btn","btn-ghost"],[1,"footer"],[1,"section-inner","footer-inner"],[1,"footer-brand"],[1,"footer-copy"],[1,"footer-links"],["href","https://qodalis.com","target","_blank","rel","noopener"],["href","https://github.com/qodalis-solutions/angular-web-cli","target","_blank","rel","noopener"],[3,"options"],[1,"feature-card"],[1,"feature-icon"],[1,"feature-title"],[1,"feature-desc"],[1,"plugin-card"],[1,"plugin-header"],[1,"plugin-name"],[1,"plugin-cmd"],[1,"plugin-desc"]],template:function(c,m){1&c&&(w.j41(0,"nav",0)(1,"div",1)(2,"div",2)(3,"span",3),w.EFF(4,"\u2759"),w.k0s(),w.j41(5,"span",4),w.EFF(6,"Qodalis "),w.j41(7,"strong"),w.EFF(8,"CLI"),w.k0s()()(),w.j41(9,"div",5)(10,"a",6),w.EFF(11,"Docs"),w.k0s(),w.j41(12,"a",7),w.EFF(13,"npm"),w.k0s(),w.j41(14,"a",8),w.EFF(15,"GitHub "),w.j41(16,"span",9),w.EFF(17,"\u2197"),w.k0s()()()()(),w.j41(18,"header",10),w.nrm(19,"div",11),w.j41(20,"div",12)(21,"div",13),w.EFF(22,"Open Source \xb7 Angular 16+"),w.k0s(),w.j41(23,"h1",14),w.EFF(24," A web terminal framework"),w.nrm(25,"br"),w.j41(26,"span",15),w.EFF(27,"built for Angular."),w.k0s()(),w.j41(28,"p",16),w.EFF(29," Drop a fully-featured CLI into any Angular app. Tabs, split panes, a plugin ecosystem, themes, autocomplete \u2014 everything you need, nothing you don't. "),w.k0s(),w.j41(30,"div",17)(31,"button",18),w.bIt("click",function(){return m.scrollToTerminal()}),w.EFF(32," Try it live "),w.k0s(),w.j41(33,"a",19),w.EFF(34,"Read the docs"),w.k0s()(),w.j41(35,"div",20)(36,"code",21),w.EFF(37),w.k0s(),w.j41(38,"button",22),w.bIt("click",function(){return m.copyInstall()}),w.EFF(39),w.k0s()()()(),w.j41(40,"section",23)(41,"div",24)(42,"div",25),w.DNE(43,ml,7,3,"div",26),w.k0s()()(),w.j41(44,"section",27,28)(46,"div",24)(47,"h2",29),w.EFF(48,"Live Terminal"),w.k0s(),w.j41(49,"p",30),w.EFF(50," This is the real component running below. Type "),w.j41(51,"code"),w.EFF(52,"help"),w.k0s(),w.EFF(53," to explore available commands. "),w.k0s(),w.j41(54,"div",31)(55,"div",32),w.nrm(56,"span",33)(57,"span",34)(58,"span",35),w.j41(59,"span",36),w.EFF(60,"qodalis-cli"),w.k0s()(),w.j41(61,"div",37),w.nrm(62,"cli",38),w.k0s()()()(),w.j41(63,"section",39)(64,"div",24)(65,"h2",29),w.EFF(66,"Plugin Ecosystem"),w.k0s(),w.j41(67,"p",30),w.EFF(68," Each plugin is a standalone Angular module. Install only what you need. "),w.k0s(),w.j41(69,"div",40),w.DNE(70,Vl,8,3,"div",41),w.k0s()()(),w.j41(71,"section",42)(72,"div",43)(73,"h2",44),w.EFF(74,"Ready to add a terminal to your app?"),w.k0s(),w.j41(75,"div",45)(76,"a",46),w.EFF(77,"Get started"),w.k0s(),w.j41(78,"a",47),w.EFF(79,"View on GitHub"),w.k0s()()()(),w.j41(80,"footer",48)(81,"div",49)(82,"span",50),w.EFF(83,"Qodalis CLI"),w.k0s(),w.j41(84,"span",51),w.EFF(85,"\xa9 2024 Qodalis Solutions. MIT License."),w.k0s(),w.j41(86,"div",52)(87,"a",53),w.EFF(88,"qodalis.com"),w.k0s(),w.j41(89,"a",54),w.EFF(90,"GitHub"),w.k0s()()()(),w.nrm(91,"cli-panel",55)),2&c&&(w.R7$(37),w.JRh(m.installCommand),w.R7$(2),w.SpI(" ",m.copied?"Copied!":"Copy"," "),w.R7$(4),w.Y8G("ngForOf",m.features),w.R7$(19),w.Y8G("options",m.options),w.R7$(8),w.Y8G("ngForOf",m.plugins),w.R7$(21),w.Y8G("options",m.options))},dependencies:[xa.Sq,Er.Ih,Er.oL],styles:["[_nghost-%COMP%]{display:block}"]})}}return f})();var Se=a(467);let st=(()=>{class f{constructor(){var o;this.command="demo",this.description="demo command",this.author={name:"demo",email:"demo"},this.processors=[],this.processors=[{command:"demo-subcommand",description:"demo subcommand",processCommand:(o=(0,Se.A)(function*(c,m){m.writer.writeln("demo subcommand executed")}),function(m,O){return o.apply(this,arguments)})},{command:"input",description:"Show input",allowUnlistedCommands:!0,processCommand:function(){var o=(0,Se.A)(function*(c,m){m.writer.writeln("Input: "+c.value)});return function(m,O){return o.apply(this,arguments)}}()}]}processCommand(o,c){return(0,Se.A)(function*(){c.writer.writeln("demo command executed")})()}writeDescription(o){o.writer.writeln("demo command")}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),tt=(()=>{class f extends Er.Jn{constructor(){super()}initialize(){super.initialize([{id:"root",name:"root",email:"root@root.com",groups:["admin"]},{id:"root1",name:"root1",email:"root1@root.com",groups:["admin"]}])}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})();const Rt=[0,2e3,1e4,3e4,null];class en{constructor(i){this._retryDelays=void 0!==i?[...i,null]:Rt}nextRetryDelayInMilliseconds(i){return this._retryDelays[i.previousRetryCount]}}let Dn=(()=>{class f{}return f.Authorization="Authorization",f.Cookie="Cookie",f})();class lr{constructor(i,o,c){this.statusCode=i,this.statusText=o,this.content=c}}class Pn{get(i,o){return this.send({...o,method:"GET",url:i})}post(i,o){return this.send({...o,method:"POST",url:i})}delete(i,o){return this.send({...o,method:"DELETE",url:i})}getCookieString(i){return""}}class qs extends Pn{constructor(i,o){super(),this._innerClient=i,this._accessTokenFactory=o}send(i){var o=this;return(0,Se.A)(function*(){let c=!0;o._accessTokenFactory&&(!o._accessToken||i.url&&i.url.indexOf("/negotiate?")>0)&&(c=!1,o._accessToken=yield o._accessTokenFactory()),o._setAuthorizationHeader(i);const m=yield o._innerClient.send(i);return c&&401===m.statusCode&&o._accessTokenFactory?(o._accessToken=yield o._accessTokenFactory(),o._setAuthorizationHeader(i),yield o._innerClient.send(i)):m})()}_setAuthorizationHeader(i){i.headers||(i.headers={}),this._accessToken?i.headers[Dn.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&i.headers[Dn.Authorization]&&delete i.headers[Dn.Authorization]}getCookieString(i){return this._innerClient.getCookieString(i)}}class vs extends Error{constructor(i,o){const c=new.target.prototype;super(`${i}: Status code '${o}'`),this.statusCode=o,this.__proto__=c}}class Ii extends Error{constructor(i="A timeout occurred."){const o=new.target.prototype;super(i),this.__proto__=o}}class ci extends Error{constructor(i="An abort occurred."){const o=new.target.prototype;super(i),this.__proto__=o}}class Ec extends Error{constructor(i,o){const c=new.target.prototype;super(i),this.transport=o,this.errorType="UnsupportedTransportError",this.__proto__=c}}class os extends Error{constructor(i,o){const c=new.target.prototype;super(i),this.transport=o,this.errorType="DisabledTransportError",this.__proto__=c}}class $a extends Error{constructor(i,o){const c=new.target.prototype;super(i),this.transport=o,this.errorType="FailedToStartTransportError",this.__proto__=c}}class R extends Error{constructor(i){const o=new.target.prototype;super(i),this.errorType="FailedToNegotiateWithServerError",this.__proto__=o}}class se extends Error{constructor(i,o){const c=new.target.prototype;super(i),this.innerErrors=o,this.__proto__=c}}var N=function(f){return f[f.Trace=0]="Trace",f[f.Debug=1]="Debug",f[f.Information=2]="Information",f[f.Warning=3]="Warning",f[f.Error=4]="Error",f[f.Critical=5]="Critical",f[f.None=6]="None",f}(N||{});class ie{constructor(){}log(i,o){}}ie.instance=new ie;const Ie="8.0.7";class Qe{static isRequired(i,o){if(null==i)throw new Error(`The '${o}' argument is required.`)}static isNotEmpty(i,o){if(!i||i.match(/^\s*$/))throw new Error(`The '${o}' argument should not be empty.`)}static isIn(i,o,c){if(!(i in o))throw new Error(`Unknown ${c} value: ${i}.`)}}class nt{static get isBrowser(){return!nt.isNode&&"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return!nt.isNode&&"object"==typeof self&&"importScripts"in self}static get isReactNative(){return!nt.isNode&&"object"==typeof window&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&"node"===process.release.name}}function Lt(f,i){let o="";return dn(f)?(o=`Binary data of length ${f.byteLength}`,i&&(o+=`. Content: '${function kn(f){const i=new Uint8Array(f);let o="";return i.forEach(c=>{o+=`0x${c<16?"0":""}${c.toString(16)} `}),o.substr(0,o.length-1)}(f)}'`)):"string"==typeof f&&(o=`String data of length ${f.length}`,i&&(o+=`. Content: '${f}'`)),o}function dn(f){return f&&typeof ArrayBuffer<"u"&&(f instanceof ArrayBuffer||f.constructor&&"ArrayBuffer"===f.constructor.name)}function bn(f,i,o,c,m,O){return nn.apply(this,arguments)}function nn(){return(nn=(0,Se.A)(function*(f,i,o,c,m,O){const K={},[ee,he]=Br();K[ee]=he,f.log(N.Trace,`(${i} transport) sending data. ${Lt(m,O.logMessageContent)}.`);const ye=dn(m)?"arraybuffer":"text",ke=yield o.post(c,{content:m,headers:{...K,...O.headers},responseType:ye,timeout:O.timeout,withCredentials:O.withCredentials});f.log(N.Trace,`(${i} transport) request complete. Response status: ${ke.statusCode}.`)})).apply(this,arguments)}class Vn{constructor(i,o){this._subject=i,this._observer=o}dispose(){const i=this._subject.observers.indexOf(this._observer);i>-1&&this._subject.observers.splice(i,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(o=>{})}}class cr{constructor(i){this._minLevel=i,this.out=console}log(i,o){if(i>=this._minLevel){const c=`[${(new Date).toISOString()}] ${N[i]}: ${o}`;switch(i){case N.Critical:case N.Error:this.out.error(c);break;case N.Warning:this.out.warn(c);break;case N.Information:this.out.info(c);break;default:this.out.log(c)}}}}function Br(){let f="X-SignalR-User-Agent";return nt.isNode&&(f="User-Agent"),[f,ji(Ie,as(),nt.isNode?"NodeJS":"Browser",Dr())]}function ji(f,i,o,c){let m="Microsoft SignalR/";const O=f.split(".");return m+=`${O[0]}.${O[1]}`,m+=` (${f}; `,m+=i&&""!==i?`${i}; `:"Unknown OS; ",m+=`${o}`,m+=c?`; ${c}`:"; Unknown Runtime Version",m+=")",m}function as(){if(!nt.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function Dr(){if(nt.isNode)return process.versions.node}function Ki(f){return f.stack?f.stack:f.message?f.message:`${f}`}class Dc extends Pn{constructor(i){if(super(),this._logger=i,typeof fetch>"u"||nt.isNode){const o=require;this._jar=new(o("tough-cookie").CookieJar),this._fetchType=typeof fetch>"u"?o("node-fetch"):fetch,this._fetchType=o("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function qi(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const o=require;this._abortControllerType=o("abort-controller")}else this._abortControllerType=AbortController}send(i){var o=this;return(0,Se.A)(function*(){if(i.abortSignal&&i.abortSignal.aborted)throw new ci;if(!i.method)throw new Error("No method defined.");if(!i.url)throw new Error("No url defined.");const c=new o._abortControllerType;let m;i.abortSignal&&(i.abortSignal.onabort=()=>{c.abort(),m=new ci});let K,O=null;i.timeout&&(O=setTimeout(()=>{c.abort(),o._logger.log(N.Warning,"Timeout from HTTP request."),m=new Ii},i.timeout)),""===i.content&&(i.content=void 0),i.content&&(i.headers=i.headers||{},i.headers["Content-Type"]=dn(i.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{K=yield o._fetchType(i.url,{body:i.content,cache:"no-cache",credentials:!0===i.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...i.headers},method:i.method,mode:"cors",redirect:"follow",signal:c.signal})}catch(ye){throw m||(o._logger.log(N.Warning,`Error from HTTP request. ${ye}.`),ye)}finally{O&&clearTimeout(O),i.abortSignal&&(i.abortSignal.onabort=null)}if(!K.ok){const ye=yield ra(K,"text");throw new vs(ye||K.statusText,K.status)}const he=yield ra(K,i.responseType);return new lr(K.status,K.statusText,he)})()}getCookieString(i){let o="";return nt.isNode&&this._jar&&this._jar.getCookies(i,(c,m)=>o=m.join("; ")),o}}function ra(f,i){let o;switch(i){case"arraybuffer":o=f.arrayBuffer();break;case"text":default:o=f.text();break;case"blob":case"document":case"json":throw new Error(`${i} is not supported.`)}return o}class Wa extends Pn{constructor(i){super(),this._logger=i}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new ci):i.method?i.url?new Promise((o,c)=>{const m=new XMLHttpRequest;m.open(i.method,i.url,!0),m.withCredentials=void 0===i.withCredentials||i.withCredentials,m.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===i.content&&(i.content=void 0),i.content&&(dn(i.content)?m.setRequestHeader("Content-Type","application/octet-stream"):m.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const O=i.headers;O&&Object.keys(O).forEach(K=>{m.setRequestHeader(K,O[K])}),i.responseType&&(m.responseType=i.responseType),i.abortSignal&&(i.abortSignal.onabort=()=>{m.abort(),c(new ci)}),i.timeout&&(m.timeout=i.timeout),m.onload=()=>{i.abortSignal&&(i.abortSignal.onabort=null),m.status>=200&&m.status<300?o(new lr(m.status,m.statusText,m.response||m.responseText)):c(new vs(m.response||m.responseText||m.statusText,m.status))},m.onerror=()=>{this._logger.log(N.Warning,`Error from HTTP request. ${m.status}: ${m.statusText}.`),c(new vs(m.statusText,m.status))},m.ontimeout=()=>{this._logger.log(N.Warning,"Timeout from HTTP request."),c(new Ii)},m.send(i.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class zl extends Pn{constructor(i){if(super(),typeof fetch<"u"||nt.isNode)this._httpClient=new Dc(i);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new Wa(i)}}send(i){return i.abortSignal&&i.abortSignal.aborted?Promise.reject(new ci):i.method?i.url?this._httpClient.send(i):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(i){return this._httpClient.getCookieString(i)}}var Pr=function(f){return f[f.None=0]="None",f[f.WebSockets=1]="WebSockets",f[f.ServerSentEvents=2]="ServerSentEvents",f[f.LongPolling=4]="LongPolling",f}(Pr||{}),rr=function(f){return f[f.Text=1]="Text",f[f.Binary=2]="Binary",f}(rr||{});class ws{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class vl{get pollAborted(){return this._pollAbort.aborted}constructor(i,o,c){this._httpClient=i,this._logger=o,this._pollAbort=new ws,this._options=c,this._running=!1,this.onreceive=null,this.onclose=null}connect(i,o){var c=this;return(0,Se.A)(function*(){if(Qe.isRequired(i,"url"),Qe.isRequired(o,"transferFormat"),Qe.isIn(o,rr,"transferFormat"),c._url=i,c._logger.log(N.Trace,"(LongPolling transport) Connecting."),o===rr.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[m,O]=Br(),K={[m]:O,...c._options.headers},ee={abortSignal:c._pollAbort.signal,headers:K,timeout:1e5,withCredentials:c._options.withCredentials};o===rr.Binary&&(ee.responseType="arraybuffer");const he=`${i}&_=${Date.now()}`;c._logger.log(N.Trace,`(LongPolling transport) polling: ${he}.`);const ye=yield c._httpClient.get(he,ee);200!==ye.statusCode?(c._logger.log(N.Error,`(LongPolling transport) Unexpected response code: ${ye.statusCode}.`),c._closeError=new vs(ye.statusText||"",ye.statusCode),c._running=!1):c._running=!0,c._receiving=c._poll(c._url,ee)})()}_poll(i,o){var c=this;return(0,Se.A)(function*(){try{for(;c._running;)try{const m=`${i}&_=${Date.now()}`;c._logger.log(N.Trace,`(LongPolling transport) polling: ${m}.`);const O=yield c._httpClient.get(m,o);204===O.statusCode?(c._logger.log(N.Information,"(LongPolling transport) Poll terminated by server."),c._running=!1):200!==O.statusCode?(c._logger.log(N.Error,`(LongPolling transport) Unexpected response code: ${O.statusCode}.`),c._closeError=new vs(O.statusText||"",O.statusCode),c._running=!1):O.content?(c._logger.log(N.Trace,`(LongPolling transport) data received. ${Lt(O.content,c._options.logMessageContent)}.`),c.onreceive&&c.onreceive(O.content)):c._logger.log(N.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(m){c._running?m instanceof Ii?c._logger.log(N.Trace,"(LongPolling transport) Poll timed out, reissuing."):(c._closeError=m,c._running=!1):c._logger.log(N.Trace,`(LongPolling transport) Poll errored after shutdown: ${m.message}`)}}finally{c._logger.log(N.Trace,"(LongPolling transport) Polling complete."),c.pollAborted||c._raiseOnClose()}})()}send(i){var o=this;return(0,Se.A)(function*(){return o._running?bn(o._logger,"LongPolling",o._httpClient,o._url,i,o._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var i=this;return(0,Se.A)(function*(){i._logger.log(N.Trace,"(LongPolling transport) Stopping polling."),i._running=!1,i._pollAbort.abort();try{yield i._receiving,i._logger.log(N.Trace,`(LongPolling transport) sending DELETE request to ${i._url}.`);const o={},[c,m]=Br();o[c]=m;const O={headers:{...o,...i._options.headers},timeout:i._options.timeout,withCredentials:i._options.withCredentials};let K;try{yield i._httpClient.delete(i._url,O)}catch(ee){K=ee}K?K instanceof vs&&i._logger.log(N.Trace,404===K.statusCode?"(LongPolling transport) A 404 response was returned from sending a DELETE request.":`(LongPolling transport) Error sending a DELETE request: ${K}`):i._logger.log(N.Trace,"(LongPolling transport) DELETE request accepted.")}finally{i._logger.log(N.Trace,"(LongPolling transport) Stop finished."),i._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let i="(LongPolling transport) Firing onclose event.";this._closeError&&(i+=" Error: "+this._closeError),this._logger.log(N.Trace,i),this.onclose(this._closeError)}}}class mr{constructor(i,o,c,m){this._httpClient=i,this._accessToken=o,this._logger=c,this._options=m,this.onreceive=null,this.onclose=null}connect(i,o){var c=this;return(0,Se.A)(function*(){return Qe.isRequired(i,"url"),Qe.isRequired(o,"transferFormat"),Qe.isIn(o,rr,"transferFormat"),c._logger.log(N.Trace,"(SSE transport) Connecting."),c._url=i,c._accessToken&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(c._accessToken)}`),new Promise((m,O)=>{let ee,K=!1;if(o===rr.Text){if(nt.isBrowser||nt.isWebWorker)ee=new c._options.EventSource(i,{withCredentials:c._options.withCredentials});else{const he=c._httpClient.getCookieString(i),ye={};ye.Cookie=he;const[ke,Ve]=Br();ye[ke]=Ve,ee=new c._options.EventSource(i,{withCredentials:c._options.withCredentials,headers:{...ye,...c._options.headers}})}try{ee.onmessage=he=>{if(c.onreceive)try{c._logger.log(N.Trace,`(SSE transport) data received. ${Lt(he.data,c._options.logMessageContent)}.`),c.onreceive(he.data)}catch(ye){return void c._close(ye)}},ee.onerror=he=>{K?c._close():O(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},ee.onopen=()=>{c._logger.log(N.Information,`SSE connected to ${c._url}`),c._eventSource=ee,K=!0,m()}}catch(he){return void O(he)}}else O(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(i){var o=this;return(0,Se.A)(function*(){return o._eventSource?bn(o._logger,"SSE",o._httpClient,o._url,i,o._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(i){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(i))}}class hn{constructor(i,o,c,m,O,K){this._logger=c,this._accessTokenFactory=o,this._logMessageContent=m,this._webSocketConstructor=O,this._httpClient=i,this.onreceive=null,this.onclose=null,this._headers=K}connect(i,o){var c=this;return(0,Se.A)(function*(){let m;return Qe.isRequired(i,"url"),Qe.isRequired(o,"transferFormat"),Qe.isIn(o,rr,"transferFormat"),c._logger.log(N.Trace,"(WebSockets transport) Connecting."),c._accessTokenFactory&&(m=yield c._accessTokenFactory()),new Promise((O,K)=>{let ee;i=i.replace(/^http/,"ws");const he=c._httpClient.getCookieString(i);let ye=!1;if(nt.isNode||nt.isReactNative){const ke={},[Ve,mt]=Br();ke[Ve]=mt,m&&(ke[Dn.Authorization]=`Bearer ${m}`),he&&(ke[Dn.Cookie]=he),ee=new c._webSocketConstructor(i,void 0,{headers:{...ke,...c._headers}})}else m&&(i+=(i.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(m)}`);ee||(ee=new c._webSocketConstructor(i)),o===rr.Binary&&(ee.binaryType="arraybuffer"),ee.onopen=ke=>{c._logger.log(N.Information,`WebSocket connected to ${i}.`),c._webSocket=ee,ye=!0,O()},ee.onerror=ke=>{let Ve=null;Ve=typeof ErrorEvent<"u"&&ke instanceof ErrorEvent?ke.error:"There was an error with the transport",c._logger.log(N.Information,`(WebSockets transport) ${Ve}.`)},ee.onmessage=ke=>{if(c._logger.log(N.Trace,`(WebSockets transport) data received. ${Lt(ke.data,c._logMessageContent)}.`),c.onreceive)try{c.onreceive(ke.data)}catch(Ve){return void c._close(Ve)}},ee.onclose=ke=>{if(ye)c._close(ke);else{let Ve=null;Ve=typeof ErrorEvent<"u"&&ke instanceof ErrorEvent?ke.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",K(new Error(Ve))}}})})()}send(i){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(N.Trace,`(WebSockets transport) sending data. ${Lt(i,this._logMessageContent)}.`),this._webSocket.send(i),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(i){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(N.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(i)||!1!==i.wasClean&&1e3===i.code?i instanceof Error?this.onclose(i):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${i.code} (${i.reason||"no reason given"}).`)))}_isCloseEvent(i){return i&&"boolean"==typeof i.wasClean&&"number"==typeof i.code}}class Cl{constructor(i,o={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Qe.isRequired(i,"url"),this._logger=function Zn(f){return void 0===f?new cr(N.Information):null===f?ie.instance:void 0!==f.log?f:new cr(f)}(o.logger),this.baseUrl=this._resolveUrl(i),(o=o||{}).logMessageContent=void 0!==o.logMessageContent&&o.logMessageContent,"boolean"!=typeof o.withCredentials&&void 0!==o.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");o.withCredentials=void 0===o.withCredentials||o.withCredentials,o.timeout=void 0===o.timeout?1e5:o.timeout;let c=null,m=null;if(nt.isNode){const O=require;c=O("ws"),m=O("eventsource")}!nt.isNode&&typeof WebSocket<"u"&&!o.WebSocket?o.WebSocket=WebSocket:nt.isNode&&!o.WebSocket&&c&&(o.WebSocket=c),!nt.isNode&&typeof EventSource<"u"&&!o.EventSource?o.EventSource=EventSource:nt.isNode&&!o.EventSource&&typeof m<"u"&&(o.EventSource=m),this._httpClient=new qs(o.httpClient||new zl(this._logger),o.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=o,this.onreceive=null,this.onclose=null}start(i){var o=this;return(0,Se.A)(function*(){if(Qe.isIn(i=i||rr.Binary,rr,"transferFormat"),o._logger.log(N.Debug,`Starting connection with transfer format '${rr[i]}'.`),"Disconnected"!==o._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(o._connectionState="Connecting",o._startInternalPromise=o._startInternal(i),yield o._startInternalPromise,"Disconnecting"===o._connectionState){const c="Failed to start the HttpConnection before stop() was called.";return o._logger.log(N.Error,c),yield o._stopPromise,Promise.reject(new ci(c))}if("Connected"!==o._connectionState){const c="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return o._logger.log(N.Error,c),Promise.reject(new ci(c))}o._connectionStarted=!0})()}send(i){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new bc(this.transport)),this._sendQueue.send(i))}stop(i){var o=this;return(0,Se.A)(function*(){return"Disconnected"===o._connectionState?(o._logger.log(N.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===o._connectionState?(o._logger.log(N.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),o._stopPromise):(o._connectionState="Disconnecting",o._stopPromise=new Promise(c=>{o._stopPromiseResolver=c}),yield o._stopInternal(i),void(yield o._stopPromise))})()}_stopInternal(i){var o=this;return(0,Se.A)(function*(){o._stopError=i;try{yield o._startInternalPromise}catch{}if(o.transport){try{yield o.transport.stop()}catch(c){o._logger.log(N.Error,`HttpConnection.transport.stop() threw error '${c}'.`),o._stopConnection()}o.transport=void 0}else o._logger.log(N.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(i){var o=this;return(0,Se.A)(function*(){let c=o.baseUrl;o._accessTokenFactory=o._options.accessTokenFactory,o._httpClient._accessTokenFactory=o._accessTokenFactory;try{if(o._options.skipNegotiation){if(o._options.transport!==Pr.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");o.transport=o._constructTransport(Pr.WebSockets),yield o._startTransport(c,i)}else{let m=null,O=0;do{if(m=yield o._getNegotiationResponse(c),"Disconnecting"===o._connectionState||"Disconnected"===o._connectionState)throw new ci("The connection was stopped during negotiation.");if(m.error)throw new Error(m.error);if(m.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(m.url&&(c=m.url),m.accessToken){const K=m.accessToken;o._accessTokenFactory=()=>K,o._httpClient._accessToken=K,o._httpClient._accessTokenFactory=void 0}O++}while(m.url&&O<100);if(100===O&&m.url)throw new Error("Negotiate redirection limit exceeded.");yield o._createTransport(c,o._options.transport,m,i)}o.transport instanceof vl&&(o.features.inherentKeepAlive=!0),"Connecting"===o._connectionState&&(o._logger.log(N.Debug,"The HttpConnection connected successfully."),o._connectionState="Connected")}catch(m){return o._logger.log(N.Error,"Failed to start the connection: "+m),o._connectionState="Disconnected",o.transport=void 0,o._stopPromiseResolver(),Promise.reject(m)}})()}_getNegotiationResponse(i){var o=this;return(0,Se.A)(function*(){const c={},[m,O]=Br();c[m]=O;const K=o._resolveNegotiateUrl(i);o._logger.log(N.Debug,`Sending negotiation request: ${K}.`);try{const ee=yield o._httpClient.post(K,{content:"",headers:{...c,...o._options.headers},timeout:o._options.timeout,withCredentials:o._options.withCredentials});if(200!==ee.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${ee.statusCode}'`));const he=JSON.parse(ee.content);return(!he.negotiateVersion||he.negotiateVersion<1)&&(he.connectionToken=he.connectionId),he.useStatefulReconnect&&!0!==o._options._useStatefulReconnect?Promise.reject(new R("Client didn't negotiate Stateful Reconnect but the server did.")):he}catch(ee){let he="Failed to complete negotiation with the server: "+ee;return ee instanceof vs&&404===ee.statusCode&&(he+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),o._logger.log(N.Error,he),Promise.reject(new R(he))}})()}_createConnectUrl(i,o){return o?i+(-1===i.indexOf("?")?"?":"&")+`id=${o}`:i}_createTransport(i,o,c,m){var O=this;return(0,Se.A)(function*(){let K=O._createConnectUrl(i,c.connectionToken);if(O._isITransport(o))return O._logger.log(N.Debug,"Connection was provided an instance of ITransport, using that directly."),O.transport=o,yield O._startTransport(K,m),void(O.connectionId=c.connectionId);const ee=[],he=c.availableTransports||[];let ye=c;for(const ke of he){const Ve=O._resolveTransportOrError(ke,o,m,!0===ye?.useStatefulReconnect);if(Ve instanceof Error)ee.push(`${ke.transport} failed:`),ee.push(Ve);else if(O._isITransport(Ve)){if(O.transport=Ve,!ye){try{ye=yield O._getNegotiationResponse(i)}catch(mt){return Promise.reject(mt)}K=O._createConnectUrl(i,ye.connectionToken)}try{return yield O._startTransport(K,m),void(O.connectionId=ye.connectionId)}catch(mt){if(O._logger.log(N.Error,`Failed to start the transport '${ke.transport}': ${mt}`),ye=void 0,ee.push(new $a(`${ke.transport} failed: ${mt}`,Pr[ke.transport])),"Connecting"!==O._connectionState){const Pt="Failed to select transport before stop() was called.";return O._logger.log(N.Debug,Pt),Promise.reject(new ci(Pt))}}}}return Promise.reject(ee.length>0?new se(`Unable to connect to the server with any of the available transports. ${ee.join(" ")}`,ee):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(i){switch(i){case Pr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new hn(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Pr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new mr(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Pr.LongPolling:return new vl(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${i}.`)}}_startTransport(i,o){var c=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=this.features.reconnect?function(){var m=(0,Se.A)(function*(O){let K=!1;if(c.features.reconnect){try{c.features.disconnected(),yield c.transport.connect(i,o),yield c.features.resend()}catch{K=!0}K&&c._stopConnection(O)}else c._stopConnection(O)});return function(O){return m.apply(this,arguments)}}():m=>this._stopConnection(m),this.transport.connect(i,o)}_resolveTransportOrError(i,o,c,m){const O=Pr[i.transport];if(null==O)return this._logger.log(N.Debug,`Skipping transport '${i.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${i.transport}' because it is not supported by this client.`);if(!function pi(f,i){return!f||0!=(i&f)}(o,O))return this._logger.log(N.Debug,`Skipping transport '${Pr[O]}' because it was disabled by the client.`),new os(`'${Pr[O]}' is disabled by the client.`,O);if(!(i.transferFormats.map(ee=>rr[ee]).indexOf(c)>=0))return this._logger.log(N.Debug,`Skipping transport '${Pr[O]}' because it does not support the requested transfer format '${rr[c]}'.`),new Error(`'${Pr[O]}' does not support ${rr[c]}.`);if(O===Pr.WebSockets&&!this._options.WebSocket||O===Pr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(N.Debug,`Skipping transport '${Pr[O]}' because it is not supported in your environment.'`),new Ec(`'${Pr[O]}' is not supported in your environment.`,O);this._logger.log(N.Debug,`Selecting transport '${Pr[O]}'.`);try{return this.features.reconnect=O===Pr.WebSockets?m:void 0,this._constructTransport(O)}catch(ee){return ee}}_isITransport(i){return i&&"object"==typeof i&&"connect"in i}_stopConnection(i){if(this._logger.log(N.Debug,`HttpConnection.stopConnection(${i}) called while in state ${this._connectionState}.`),this.transport=void 0,i=this._stopError||i,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(N.Warning,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${i}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),i?this._logger.log(N.Error,`Connection disconnected with error '${i}'.`):this._logger.log(N.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(o=>{this._logger.log(N.Error,`TransportSendQueue.stop() threw error '${o}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(i)}catch(o){this._logger.log(N.Error,`HttpConnection.onclose(${i}) threw error '${o}'.`)}}}else this._logger.log(N.Debug,`Call to HttpConnection.stopConnection(${i}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(i){if(0===i.lastIndexOf("https://",0)||0===i.lastIndexOf("http://",0))return i;if(!nt.isBrowser)throw new Error(`Cannot resolve '${i}'.`);const o=window.document.createElement("a");return o.href=i,this._logger.log(N.Information,`Normalizing '${i}' to '${o.href}'.`),o.href}_resolveNegotiateUrl(i){const o=new URL(i);o.pathname.endsWith("/")?o.pathname+="negotiate":o.pathname+="/negotiate";const c=new URLSearchParams(o.searchParams);return c.has("negotiateVersion")||c.append("negotiateVersion",this._negotiateVersion.toString()),c.has("useStatefulReconnect")?"true"===c.get("useStatefulReconnect")&&(this._options._useStatefulReconnect=!0):!0===this._options._useStatefulReconnect&&c.append("useStatefulReconnect","true"),o.search=c.toString(),o.toString()}}class bc{constructor(i){this._transport=i,this._buffer=[],this._executing=!0,this._sendBufferedData=new Ao,this._transportResult=new Ao,this._sendLoopPromise=this._sendLoop()}send(i){return this._bufferData(i),this._transportResult||(this._transportResult=new Ao),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(i){if(this._buffer.length&&typeof this._buffer[0]!=typeof i)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof i}`);this._buffer.push(i),this._sendBufferedData.resolve()}_sendLoop(){var i=this;return(0,Se.A)(function*(){for(;;){if(yield i._sendBufferedData.promise,!i._executing){i._transportResult&&i._transportResult.reject("Connection stopped.");break}i._sendBufferedData=new Ao;const o=i._transportResult;i._transportResult=void 0;const c="string"==typeof i._buffer[0]?i._buffer.join(""):bc._concatBuffers(i._buffer);i._buffer.length=0;try{yield i._transport.send(c),o.resolve()}catch(m){o.reject(m)}}})()}static _concatBuffers(i){const o=i.map(O=>O.byteLength).reduce((O,K)=>O+K),c=new Uint8Array(o);let m=0;for(const O of i)c.set(new Uint8Array(O),m),m+=O.byteLength;return c.buffer}}class Ao{constructor(){this.promise=new Promise((i,o)=>[this._resolver,this._rejecter]=[i,o])}resolve(){this._resolver()}reject(i){this._rejecter(i)}}class ur{static write(i){return`${i}${ur.RecordSeparator}`}static parse(i){if(i[i.length-1]!==ur.RecordSeparator)throw new Error("Message is incomplete.");const o=i.split(ur.RecordSeparator);return o.pop(),o}}ur.RecordSeparatorCode=30,ur.RecordSeparator=String.fromCharCode(ur.RecordSeparatorCode);class ei{writeHandshakeRequest(i){return ur.write(JSON.stringify(i))}parseHandshakeResponse(i){let o,c;if(dn(i)){const ee=new Uint8Array(i),he=ee.indexOf(ur.RecordSeparatorCode);if(-1===he)throw new Error("Message is incomplete.");const ye=he+1;o=String.fromCharCode.apply(null,Array.prototype.slice.call(ee.slice(0,ye))),c=ee.byteLength>ye?ee.slice(ye).buffer:null}else{const ee=i,he=ee.indexOf(ur.RecordSeparator);if(-1===he)throw new Error("Message is incomplete.");const ye=he+1;o=ee.substring(0,ye),c=ee.length>ye?ee.substring(ye):null}const m=ur.parse(o),O=JSON.parse(m[0]);if(O.type)throw new Error("Expected a handshake response from the server.");return[c,O]}}var rn=function(f){return f[f.Invocation=1]="Invocation",f[f.StreamItem=2]="StreamItem",f[f.Completion=3]="Completion",f[f.StreamInvocation=4]="StreamInvocation",f[f.CancelInvocation=5]="CancelInvocation",f[f.Ping=6]="Ping",f[f.Close=7]="Close",f[f.Ack=8]="Ack",f[f.Sequence=9]="Sequence",f}(rn||{});class ia{constructor(){this.observers=[]}next(i){for(const o of this.observers)o.next(i)}error(i){for(const o of this.observers)o.error&&o.error(i)}complete(){for(const i of this.observers)i.complete&&i.complete()}subscribe(i){return this.observers.push(i),new Vn(this,i)}}class Pi{constructor(i,o,c){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=i,this._connection=o,this._bufferSize=c}_send(i){var o=this;return(0,Se.A)(function*(){const c=o._protocol.writeMessage(i);let m=Promise.resolve();if(o._isInvocationMessage(i)){o._totalMessageCount++;let O=()=>{},K=()=>{};dn(c)?o._bufferedByteCount+=c.byteLength:o._bufferedByteCount+=c.length,o._bufferedByteCount>=o._bufferSize&&(m=new Promise((ee,he)=>{O=ee,K=he})),o._messages.push(new ls(c,o._totalMessageCount,O,K))}try{o._reconnectInProgress||(yield o._connection.send(c))}catch{o._disconnected()}yield m})()}_ack(i){let o=-1;for(let c=0;c<this._messages.length;c++){const m=this._messages[c];if(m._id<=i.sequenceId)o=c,dn(m._message)?this._bufferedByteCount-=m._message.byteLength:this._bufferedByteCount-=m._message.length,m._resolver();else{if(!(this._bufferedByteCount<this._bufferSize))break;m._resolver()}}-1!==o&&(this._messages=this._messages.slice(o+1))}_shouldProcessMessage(i){if(this._waitForSequenceMessage)return i.type===rn.Sequence&&(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(i))return!0;const o=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,o<=this._latestReceivedSequenceId?(o===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=o,this._ackTimer(),!0)}_resetSequence(i){i.sequenceId>this._nextReceivingSequenceId?this._connection.stop(new Error("Sequence ID greater than amount of messages we've received.")):this._nextReceivingSequenceId=i.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}_resend(){var i=this;return(0,Se.A)(function*(){const o=0!==i._messages.length?i._messages[0]._id:i._totalMessageCount+1;yield i._connection.send(i._protocol.writeMessage({type:rn.Sequence,sequenceId:o}));const c=i._messages;for(const m of c)yield i._connection.send(m._message);i._reconnectInProgress=!1})()}_dispose(i){i??(i=new Error("Unable to reconnect to server."));for(const o of this._messages)o._rejector(i)}_isInvocationMessage(i){switch(i.type){case rn.Invocation:case rn.StreamItem:case rn.Completion:case rn.StreamInvocation:case rn.CancelInvocation:return!0;case rn.Close:case rn.Sequence:case rn.Ping:case rn.Ack:return!1}}_ackTimer(){var i=this;void 0===this._ackTimerHandle&&(this._ackTimerHandle=setTimeout((0,Se.A)(function*(){try{i._reconnectInProgress||(yield i._connection.send(i._protocol.writeMessage({type:rn.Ack,sequenceId:i._latestReceivedSequenceId})))}catch{}clearTimeout(i._ackTimerHandle),i._ackTimerHandle=void 0}),1e3))}}class ls{constructor(i,o,c,m){this._message=i,this._id=o,this._resolver=c,this._rejector=m}}var ir=function(f){return f.Disconnected="Disconnected",f.Connecting="Connecting",f.Connected="Connected",f.Disconnecting="Disconnecting",f.Reconnecting="Reconnecting",f}(ir||{});class Ha{static create(i,o,c,m,O,K,ee){return new Ha(i,o,c,m,O,K,ee)}constructor(i,o,c,m,O,K,ee){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(N.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Qe.isRequired(i,"connection"),Qe.isRequired(o,"logger"),Qe.isRequired(c,"protocol"),this.serverTimeoutInMilliseconds=O??3e4,this.keepAliveIntervalInMilliseconds=K??15e3,this._statefulReconnectBufferSize=ee??1e5,this._logger=o,this._protocol=c,this.connection=i,this._reconnectPolicy=m,this._handshakeProtocol=new ei,this.connection.onreceive=he=>this._processIncomingData(he),this.connection.onclose=he=>this._connectionClosed(he),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=ir.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:rn.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(i){if(this._connectionState!==ir.Disconnected&&this._connectionState!==ir.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!i)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=i}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var i=this;return(0,Se.A)(function*(){if(i._connectionState!==ir.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));i._connectionState=ir.Connecting,i._logger.log(N.Debug,"Starting HubConnection.");try{yield i._startInternal(),nt.isBrowser&&window.document.addEventListener("freeze",i._freezeEventListener),i._connectionState=ir.Connected,i._connectionStarted=!0,i._logger.log(N.Debug,"HubConnection connected successfully.")}catch(o){return i._connectionState=ir.Disconnected,i._logger.log(N.Debug,`HubConnection failed to start successfully because of error '${o}'.`),Promise.reject(o)}})()}_startInternal(){var i=this;return(0,Se.A)(function*(){i._stopDuringStartError=void 0,i._receivedHandshakeResponse=!1;const o=new Promise((c,m)=>{i._handshakeResolver=c,i._handshakeRejecter=m});yield i.connection.start(i._protocol.transferFormat);try{let c=i._protocol.version;i.connection.features.reconnect||(c=1);const m={protocol:i._protocol.name,version:c};if(i._logger.log(N.Debug,"Sending handshake request."),yield i._sendMessage(i._handshakeProtocol.writeHandshakeRequest(m)),i._logger.log(N.Information,`Using HubProtocol '${i._protocol.name}'.`),i._cleanupTimeout(),i._resetTimeoutPeriod(),i._resetKeepAliveInterval(),yield o,i._stopDuringStartError)throw i._stopDuringStartError;!!i.connection.features.reconnect&&(i._messageBuffer=new Pi(i._protocol,i.connection,i._statefulReconnectBufferSize),i.connection.features.disconnected=i._messageBuffer._disconnected.bind(i._messageBuffer),i.connection.features.resend=()=>{if(i._messageBuffer)return i._messageBuffer._resend()}),i.connection.features.inherentKeepAlive||(yield i._sendMessage(i._cachedPingMessage))}catch(c){throw i._logger.log(N.Debug,`Hub handshake failed with error '${c}' during start(). Stopping HubConnection.`),i._cleanupTimeout(),i._cleanupPingTimer(),yield i.connection.stop(c),c}})()}stop(){var i=this;return(0,Se.A)(function*(){const o=i._startPromise;i.connection.features.reconnect=!1,i._stopPromise=i._stopInternal(),yield i._stopPromise;try{yield o}catch{}})()}_stopInternal(i){if(this._connectionState===ir.Disconnected)return this._logger.log(N.Debug,`Call to HubConnection.stop(${i}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===ir.Disconnecting)return this._logger.log(N.Debug,`Call to HttpConnection.stop(${i}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const o=this._connectionState;return this._connectionState=ir.Disconnecting,this._logger.log(N.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(N.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(o===ir.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=i||new ci("The connection was stopped before the hub handshake could complete."),this.connection.stop(i))}_sendCloseMessage(){var i=this;return(0,Se.A)(function*(){try{yield i._sendWithProtocol(i._createCloseMessage())}catch{}})()}stream(i,...o){const[c,m]=this._replaceStreamingParams(o),O=this._createStreamInvocation(i,o,m);let K;const ee=new ia;return ee.cancelCallback=()=>{const he=this._createCancelInvocation(O.invocationId);return delete this._callbacks[O.invocationId],K.then(()=>this._sendWithProtocol(he))},this._callbacks[O.invocationId]=(he,ye)=>{ye?ee.error(ye):he&&(he.type===rn.Completion?he.error?ee.error(new Error(he.error)):ee.complete():ee.next(he.item))},K=this._sendWithProtocol(O).catch(he=>{ee.error(he),delete this._callbacks[O.invocationId]}),this._launchStreams(c,K),ee}_sendMessage(i){return this._resetKeepAliveInterval(),this.connection.send(i)}_sendWithProtocol(i){return this._messageBuffer?this._messageBuffer._send(i):this._sendMessage(this._protocol.writeMessage(i))}send(i,...o){const[c,m]=this._replaceStreamingParams(o),O=this._sendWithProtocol(this._createInvocation(i,o,!0,m));return this._launchStreams(c,O),O}invoke(i,...o){const[c,m]=this._replaceStreamingParams(o),O=this._createInvocation(i,o,!1,m);return new Promise((ee,he)=>{this._callbacks[O.invocationId]=(ke,Ve)=>{Ve?he(Ve):ke&&(ke.type===rn.Completion?ke.error?he(new Error(ke.error)):ee(ke.result):he(new Error(`Unexpected message type: ${ke.type}`)))};const ye=this._sendWithProtocol(O).catch(ke=>{he(ke),delete this._callbacks[O.invocationId]});this._launchStreams(c,ye)})}on(i,o){!i||!o||(i=i.toLowerCase(),this._methods[i]||(this._methods[i]=[]),-1===this._methods[i].indexOf(o)&&this._methods[i].push(o))}off(i,o){if(!i)return;i=i.toLowerCase();const c=this._methods[i];if(c)if(o){const m=c.indexOf(o);-1!==m&&(c.splice(m,1),0===c.length&&delete this._methods[i])}else delete this._methods[i]}onclose(i){i&&this._closedCallbacks.push(i)}onreconnecting(i){i&&this._reconnectingCallbacks.push(i)}onreconnected(i){i&&this._reconnectedCallbacks.push(i)}_processIncomingData(i){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(i=this._processHandshakeResponse(i),this._receivedHandshakeResponse=!0),i){const o=this._protocol.parseMessages(i,this._logger);for(const c of o)if(!this._messageBuffer||this._messageBuffer._shouldProcessMessage(c))switch(c.type){case rn.Invocation:this._invokeClientMethod(c).catch(m=>{this._logger.log(N.Error,`Invoke client method threw error: ${Ki(m)}`)});break;case rn.StreamItem:case rn.Completion:{const m=this._callbacks[c.invocationId];if(m){c.type===rn.Completion&&delete this._callbacks[c.invocationId];try{m(c)}catch(O){this._logger.log(N.Error,`Stream callback threw error: ${Ki(O)}`)}}break}case rn.Ping:break;case rn.Close:{this._logger.log(N.Information,"Close message received from server.");const m=c.error?new Error("Server returned an error on close: "+c.error):void 0;!0===c.allowReconnect?this.connection.stop(m):this._stopPromise=this._stopInternal(m);break}case rn.Ack:this._messageBuffer&&this._messageBuffer._ack(c);break;case rn.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(c);break;default:this._logger.log(N.Warning,`Invalid message type: ${c.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(i){let o,c;try{[c,o]=this._handshakeProtocol.parseHandshakeResponse(i)}catch(m){const O="Error parsing handshake response: "+m;this._logger.log(N.Error,O);const K=new Error(O);throw this._handshakeRejecter(K),K}if(o.error){const m="Server returned handshake error: "+o.error;this._logger.log(N.Error,m);const O=new Error(m);throw this._handshakeRejecter(O),O}return this._logger.log(N.Debug,"Server handshake complete."),this._handshakeResolver(),c}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var i=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let o=this._nextKeepAlive-(new Date).getTime();o<0&&(o=0),this._pingServerHandle=setTimeout((0,Se.A)(function*(){if(i._connectionState===ir.Connected)try{yield i._sendMessage(i._cachedPingMessage)}catch{i._cleanupPingTimer()}}),o)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(i){var o=this;return(0,Se.A)(function*(){const c=i.target.toLowerCase(),m=o._methods[c];if(!m)return o._logger.log(N.Warning,`No client method with the name '${c}' found.`),void(i.invocationId&&(o._logger.log(N.Warning,`No result given for '${c}' method and invocation ID '${i.invocationId}'.`),yield o._sendWithProtocol(o._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null))));const O=m.slice(),K=!!i.invocationId;let ee,he,ye;for(const ke of O)try{const Ve=ee;ee=yield ke.apply(o,i.arguments),K&&ee&&Ve&&(o._logger.log(N.Error,`Multiple results provided for '${c}'. Sending error to server.`),ye=o._createCompletionMessage(i.invocationId,"Client provided multiple results.",null)),he=void 0}catch(Ve){he=Ve,o._logger.log(N.Error,`A callback for the method '${c}' threw error '${Ve}'.`)}ye?yield o._sendWithProtocol(ye):K?(he?ye=o._createCompletionMessage(i.invocationId,`${he}`,null):void 0!==ee?ye=o._createCompletionMessage(i.invocationId,null,ee):(o._logger.log(N.Warning,`No result given for '${c}' method and invocation ID '${i.invocationId}'.`),ye=o._createCompletionMessage(i.invocationId,"Client didn't provide a result.",null)),yield o._sendWithProtocol(ye)):ee&&o._logger.log(N.Error,`Result given for '${c}' method but server is not expecting a result.`)})()}_connectionClosed(i){this._logger.log(N.Debug,`HubConnection.connectionClosed(${i}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||i||new ci("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(i||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===ir.Disconnecting?this._completeClose(i):this._connectionState===ir.Connected&&this._reconnectPolicy?this._reconnect(i):this._connectionState===ir.Connected&&this._completeClose(i)}_completeClose(i){if(this._connectionStarted){this._connectionState=ir.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(i??new Error("Connection closed.")),this._messageBuffer=void 0),nt.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(o=>o.apply(this,[i]))}catch(o){this._logger.log(N.Error,`An onclose callback called with error '${i}' threw error '${o}'.`)}}}_reconnect(i){var o=this;return(0,Se.A)(function*(){const c=Date.now();let m=0,O=void 0!==i?i:new Error("Attempting to reconnect due to a unknown error."),K=o._getNextRetryDelay(m++,0,O);if(null===K)return o._logger.log(N.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void o._completeClose(i);if(o._connectionState=ir.Reconnecting,o._logger.log(N.Information,i?`Connection reconnecting because of error '${i}'.`:"Connection reconnecting."),0!==o._reconnectingCallbacks.length){try{o._reconnectingCallbacks.forEach(ee=>ee.apply(o,[i]))}catch(ee){o._logger.log(N.Error,`An onreconnecting callback called with error '${i}' threw error '${ee}'.`)}if(o._connectionState!==ir.Reconnecting)return void o._logger.log(N.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==K;){if(o._logger.log(N.Information,`Reconnect attempt number ${m} will start in ${K} ms.`),yield new Promise(ee=>{o._reconnectDelayHandle=setTimeout(ee,K)}),o._reconnectDelayHandle=void 0,o._connectionState!==ir.Reconnecting)return void o._logger.log(N.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield o._startInternal(),o._connectionState=ir.Connected,o._logger.log(N.Information,"HubConnection reconnected successfully."),0!==o._reconnectedCallbacks.length)try{o._reconnectedCallbacks.forEach(ee=>ee.apply(o,[o.connection.connectionId]))}catch(ee){o._logger.log(N.Error,`An onreconnected callback called with connectionId '${o.connection.connectionId}; threw error '${ee}'.`)}return}catch(ee){if(o._logger.log(N.Information,`Reconnect attempt failed because of error '${ee}'.`),o._connectionState!==ir.Reconnecting)return o._logger.log(N.Debug,`Connection moved to the '${o._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(o._connectionState===ir.Disconnecting&&o._completeClose());O=ee instanceof Error?ee:new Error(ee.toString()),K=o._getNextRetryDelay(m++,Date.now()-c,O)}}o._logger.log(N.Information,`Reconnect retries have been exhausted after ${Date.now()-c} ms and ${m} failed attempts. Connection disconnecting.`),o._completeClose()})()}_getNextRetryDelay(i,o,c){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:o,previousRetryCount:i,retryReason:c})}catch(m){return this._logger.log(N.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${i}, ${o}) threw error '${m}'.`),null}}_cancelCallbacksWithError(i){const o=this._callbacks;this._callbacks={},Object.keys(o).forEach(c=>{const m=o[c];try{m(null,i)}catch(O){this._logger.log(N.Error,`Stream 'error' callback called with '${i}' threw error: ${Ki(O)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(i,o,c,m){if(c)return 0!==m.length?{arguments:o,streamIds:m,target:i,type:rn.Invocation}:{arguments:o,target:i,type:rn.Invocation};{const O=this._invocationId;return this._invocationId++,0!==m.length?{arguments:o,invocationId:O.toString(),streamIds:m,target:i,type:rn.Invocation}:{arguments:o,invocationId:O.toString(),target:i,type:rn.Invocation}}}_launchStreams(i,o){if(0!==i.length){o||(o=Promise.resolve());for(const c in i)i[c].subscribe({complete:()=>{o=o.then(()=>this._sendWithProtocol(this._createCompletionMessage(c)))},error:m=>{let O;O=m instanceof Error?m.message:m&&m.toString?m.toString():"Unknown error",o=o.then(()=>this._sendWithProtocol(this._createCompletionMessage(c,O)))},next:m=>{o=o.then(()=>this._sendWithProtocol(this._createStreamItemMessage(c,m)))}})}}_replaceStreamingParams(i){const o=[],c=[];for(let m=0;m<i.length;m++){const O=i[m];if(this._isObservable(O)){const K=this._invocationId;this._invocationId++,o[K]=O,c.push(K.toString()),i.splice(m,1)}}return[o,c]}_isObservable(i){return i&&i.subscribe&&"function"==typeof i.subscribe}_createStreamInvocation(i,o,c){const m=this._invocationId;return this._invocationId++,0!==c.length?{arguments:o,invocationId:m.toString(),streamIds:c,target:i,type:rn.StreamInvocation}:{arguments:o,invocationId:m.toString(),target:i,type:rn.StreamInvocation}}_createCancelInvocation(i){return{invocationId:i,type:rn.CancelInvocation}}_createStreamItemMessage(i,o){return{invocationId:i,item:o,type:rn.StreamItem}}_createCompletionMessage(i,o,c){return o?{error:o,invocationId:i,type:rn.Completion}:{invocationId:i,result:c,type:rn.Completion}}_createCloseMessage(){return{type:rn.Close}}}class zt{constructor(){this.name="json",this.version=2,this.transferFormat=rr.Text}parseMessages(i,o){if("string"!=typeof i)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!i)return[];null===o&&(o=ie.instance);const c=ur.parse(i),m=[];for(const O of c){const K=JSON.parse(O);if("number"!=typeof K.type)throw new Error("Invalid payload.");switch(K.type){case rn.Invocation:this._isInvocationMessage(K);break;case rn.StreamItem:this._isStreamItemMessage(K);break;case rn.Completion:this._isCompletionMessage(K);break;case rn.Ping:case rn.Close:break;case rn.Ack:this._isAckMessage(K);break;case rn.Sequence:this._isSequenceMessage(K);break;default:o.log(N.Information,"Unknown message type '"+K.type+"' ignored.");continue}m.push(K)}return m}writeMessage(i){return ur.write(JSON.stringify(i))}_isInvocationMessage(i){this._assertNotEmptyString(i.target,"Invalid payload for Invocation message."),void 0!==i.invocationId&&this._assertNotEmptyString(i.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(i){if(this._assertNotEmptyString(i.invocationId,"Invalid payload for StreamItem message."),void 0===i.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(i){if(i.result&&i.error)throw new Error("Invalid payload for Completion message.");!i.result&&i.error&&this._assertNotEmptyString(i.error,"Invalid payload for Completion message."),this._assertNotEmptyString(i.invocationId,"Invalid payload for Completion message.")}_isAckMessage(i){if("number"!=typeof i.sequenceId)throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(i){if("number"!=typeof i.sequenceId)throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(i,o){if("string"!=typeof i||""===i)throw new Error(o)}}const oa={trace:N.Trace,debug:N.Debug,info:N.Information,information:N.Information,warn:N.Warning,warning:N.Warning,error:N.Error,critical:N.Critical,none:N.None};class ge{configureLogging(i){if(Qe.isRequired(i,"logging"),function ja(f){return void 0!==f.log}(i))this.logger=i;else if("string"==typeof i){const o=function gd(f){const i=oa[f.toLowerCase()];if(typeof i<"u")return i;throw new Error(`Unknown log level: ${f}`)}(i);this.logger=new cr(o)}else this.logger=new cr(i);return this}withUrl(i,o){return Qe.isRequired(i,"url"),Qe.isNotEmpty(i,"url"),this.url=i,this.httpConnectionOptions="object"==typeof o?{...this.httpConnectionOptions,...o}:{...this.httpConnectionOptions,transport:o},this}withHubProtocol(i){return Qe.isRequired(i,"protocol"),this.protocol=i,this}withAutomaticReconnect(i){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=i?Array.isArray(i)?new en(i):i:new en,this}withServerTimeout(i){return Qe.isRequired(i,"milliseconds"),this._serverTimeoutInMilliseconds=i,this}withKeepAliveInterval(i){return Qe.isRequired(i,"milliseconds"),this._keepAliveIntervalInMilliseconds=i,this}withStatefulReconnect(i){return void 0===this.httpConnectionOptions&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=i?.bufferSize,this}build(){const i=this.httpConnectionOptions||{};if(void 0===i.logger&&(i.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const o=new Cl(this.url,i);return Ha.create(o,this.logger||ie.instance,this.protocol||new zt,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}const gi=["verbose","debug","information","warning","error","fatal"];let gn=(()=>{class f{constructor(){this.command="server-logs",this.description="Show live logs",this.processors=[],this.metadata={requireServer:!0,icon:"\u{1f4dc}",requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.parameters=[{name:"pattern",type:"string",description:"The regex pattern to search for in the logs",required:!1,validator:o=>{const c=this.isValidRegex(o);return{valid:c,message:c?void 0:"Invalid regex pattern provided"}}},{name:"level",type:"string",description:"The log level to filter by, e.g. "+gi.join(", "),required:!1,validator:o=>{const c=gi.includes(o);return{valid:c,message:c?void 0:"Invalid log level provided, must be one of: "+gi.join(", ")}}},{name:"server",type:"string",description:'The server to connect to, e.g. "http://localhost:5000"',required:!1},{name:"hub",type:"string",description:'The hub to connect to, e.g. "loghub" (default) or "loghub2"',required:!1},{name:"file",type:"boolean",description:"Export logs to a file",required:!1}],this.author=ze.ep,this.version="1.0.8",this.processors?.push({command:"live",description:this.description,parameters:this.parameters,processCommand:this.processCommand.bind(this),writeDescription:this.writeDescription.bind(this)})}processCommand(o,c){var m=this;return(0,Se.A)(function*(){let O="?";const K=m.excludeKeys(o.args,["server","hub","file"]);Object.keys(K).length>0&&(O+=(0,ze.zJ)(K));const ee=o.args.hub||"loghub";let he=o.args.server||"";he=he.replace(/\/+$/,"");const ye=`${he}/${ee}${O}`;console.log("Connecting to:",ye),m.hubConnection=(new ge).withUrl(ye).build();const ke=[];yield m.hubConnection.start().then(()=>{console.log("SignalR connection started"),c.writer.writeWarning("Connected to live logs"),O.length&&Object.keys(K).forEach(ot=>{c.writer.writeWarning(`Filtering logs by: ${ot}=${o.args[ot]}`)});let Ve=!0,mt=0;m.hubConnection.on("log",ot=>{Ve&&c.writer.writeln(),ke.push(ot),c.writer.writeln(`\x1b[33m${++mt}\x1b[0m. `+(o.args.pattern?(0,ze.PK)(ot,new RegExp(o.args.pattern,"g")):ot)),Ve=!1});const Pt=c.onAbort.subscribe(()=>{if(m.hubConnection.stop(),c.writer.writeWarning("Disconnected from live logs"),o.args.file){const ot=`logs-${(new Date).toISOString()}.txt`;c.writer.writeToFile(ot,ke.join("\n"))}Pt.unsubscribe()})}).catch(Ve=>{console.error("Error starting SignalR connection:",Ve),c.writer.writeError("Failed to connect to live logs"),c.writer.writeError(Ve?.toString())})})()}writeDescription(o){const{writer:c}=o;c.writeln("Stream live server logs via SignalR"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("server-logs",ze.tT.Cyan)}                                     Start streaming`),c.writeln(`  ${c.wrapInColor("server-logs --level=error",ze.tT.Cyan)}                        Filter by level`),c.writeln(`  ${c.wrapInColor('server-logs --pattern="Exception"',ze.tT.Cyan)}                Filter by regex`),c.writeln(`  ${c.wrapInColor("server-logs --server=http://localhost:5000",ze.tT.Cyan)}       Custom server`),c.writeln(),c.writeln("\u2699\ufe0f  Options:"),c.writeln(`  ${c.wrapInColor("--level",ze.tT.Yellow)}      Log level: verbose, debug, information, warning, error, fatal`),c.writeln(`  ${c.wrapInColor("--pattern",ze.tT.Yellow)}    Regex pattern to highlight matches`),c.writeln(`  ${c.wrapInColor("--server",ze.tT.Yellow)}     Server URL to connect to`),c.writeln(`  ${c.wrapInColor("--hub",ze.tT.Yellow)}        Hub name (default: loghub)`),c.writeln(`  ${c.wrapInColor("--file",ze.tT.Yellow)}       Export logs to a file on disconnect`),c.writeln(),c.writeln(`\u{1f4a1} Press ${c.wrapInColor("Ctrl+C",ze.tT.Yellow)} to stop streaming`)}excludeKeys(o,c){return Object.fromEntries(Object.entries(o).filter(([m])=>!c.includes(m)))}isValidRegex(o){try{return new RegExp(o),!0}catch{return!1}}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),md=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(gn)]})}}return f})();class Cd{constructor(){var i;this.command="guid",this.description="Generate and validate GUIDs",this.author=ze.ep,this.version="1.0.9",this.processors=[],this.metadata={icon:"\u{1f194}",requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.processors=[{command:"new",description:"Generate a new GUID",parameters:[{name:"copy",aliases:["c"],description:"Copy the GUID to the clipboard",required:!1,type:"boolean"},{name:"count",description:"Number of GUIDs to generate, default is 1",defaultValue:"1",required:!1,type:"number"}],processCommand:(i=(0,Se.A)(function*(o,c){const m=o.args.count?parseInt(o.args.count):1,O=o.args.copy||o.args.c,K=[];for(let ee=0;ee<m;ee++){const he="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,f=>{const i=16*Math.random()|0;return("x"===f?i:3&i|8).toString(16)});c.writer.writeln(he),K.push(he)}O&&(yield c.clipboard.write(K.join("\n")),c.writer.writeInfo("The GUID has been copied to the clipboard"))}),function(c,m){return i.apply(this,arguments)})},{command:"validate",allowUnlistedCommands:!0,description:"Validate a GUID",processCommand:function(){var i=(0,Se.A)(function*(o,c){o.value?/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(o.value)?c.writer.writeSuccess("Yes, that is GUID!"):c.writer.writeError(`The GUID <${o.value}> is not valid`):c.writer.writeError("Please specify a GUID to validate")});return function(c,m){return i.apply(this,arguments)}}()}]}processCommand(i,o){return(0,Se.A)(function*(){yield o.executor.showHelp(i,o)})()}writeDescription(i){const{writer:o}=i;o.writeln(this.description),o.writeln(),o.writeln("\u{1f4cb} Commands:"),o.writeln(`  ${o.wrapInColor("guid new",ze.tT.Cyan)}                        Generate a new GUID`),o.writeln(`  ${o.wrapInColor("guid new --copy",ze.tT.Cyan)}                  Generate and copy to clipboard`),o.writeln(`  ${o.wrapInColor("guid new --count=5",ze.tT.Cyan)}               Generate multiple GUIDs`),o.writeln(`  ${o.wrapInColor("guid validate <guid>",ze.tT.Cyan)}              Validate a GUID`),o.writeln(),o.writeln("\u{1f4dd} Examples:"),o.writeln(`  guid new                                                 ${o.wrapInColor("# Single GUID",ze.tT.Green)}`),o.writeln(`  guid new --copy --count=3                                ${o.wrapInColor("# 3 GUIDs, copied",ze.tT.Green)}`),o.writeln(`  guid validate 123e4567-e89b-12d3-a456-426614174000       ${o.wrapInColor("# Validate",ze.tT.Green)}`)}}let ft=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(Cd)]})}}return f})();class fu{constructor(){this.command="text-to-image",this.description="Convert text to image",this.author=ze.ep,this.valueRequired=!0,this.metadata={icon:"\u{1f5bc}\ufe0f",requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.parameters=[{name:"fileName",description:"Name of the file",type:"string",required:!1},{name:"width",description:"Width of the image",type:"integer",required:!1},{name:"height",description:"Height of the image",type:"integer",required:!1},{name:"bgColor",description:"Background color of the image, in hex format",type:"string",required:!1},{name:"textColor",description:"Text color of the image, in hex format",type:"string",required:!1},{name:"font",description:"Font style and size",type:"string",required:!1}],this.allowUnlistedCommands=!0,this.version="0.0.4"}processCommand(i,o){return(0,Se.A)(function*(){const c=i.value||"",m=i.args.width??window.innerWidth,O=i.args.height??window.innerHeight,K=i.args.fileName??"text-image.png",ee=document.createElement("canvas");ee.width=m,ee.height=O;const he=ee.getContext("2d");if(!he)return console.error("Failed to get canvas context"),void o.writer.writeError("Failed to get canvas context");he.fillStyle=i.args.bgColor||"#ffffff",he.fillRect(0,0,m,O),he.fillStyle=i.args.textColor||"#000000",he.font=i.args.font||"30px Arial",he.textAlign="center",he.textBaseline="middle",he.fillText(c,m/2,O/2);const Ve=ee.toDataURL("image/png"),mt=document.createElement("a");mt.href=Ve,mt.download=K,document.body.appendChild(mt),mt.click(),document.body.removeChild(mt),o.writer.writeInfo("Options: "),o.writer.writeInfo(`- ${o.writer.wrapInColor("Text",ze.tT.Yellow)}: ${c}`),o.writer.writeInfo(`- ${o.writer.wrapInColor("Width",ze.tT.Yellow)}: ${m}`),o.writer.writeInfo(`- ${o.writer.wrapInColor("Height",ze.tT.Yellow)}: ${O}`),o.writer.writeInfo(`- ${o.writer.wrapInColor("Filename",ze.tT.Yellow)}: ${K}`),o.writer.writeInfo(`- ${o.writer.wrapInColor("Background color",ze.tT.Yellow)}: ${he.fillStyle}`),o.writer.writeInfo(`- ${o.writer.wrapInColor("Text color",ze.tT.Yellow)}: ${he.fillStyle}`),o.writer.writeInfo(`- ${o.writer.wrapInColor("Font",ze.tT.Yellow)}: ${he.font}`),o.writer.writeSuccess("Image created successfully")})()}writeDescription(i){const{writer:o}=i;o.writeln("Convert text into a downloadable PNG image"),o.writeln(),o.writeln("\u{1f4cb} Usage:"),o.writeln(`  ${o.wrapInColor("text-to-image <text> [options]",ze.tT.Cyan)}`),o.writeln(),o.writeln("\u2699\ufe0f  Options:"),o.writeln(`  ${o.wrapInColor("--width",ze.tT.Yellow)}          Image width (default: window width)`),o.writeln(`  ${o.wrapInColor("--height",ze.tT.Yellow)}         Image height (default: window height)`),o.writeln(`  ${o.wrapInColor("--bgColor",ze.tT.Yellow)}        Background color in hex (default: #ffffff)`),o.writeln(`  ${o.wrapInColor("--textColor",ze.tT.Yellow)}      Text color in hex (default: #000000)`),o.writeln(`  ${o.wrapInColor("--font",ze.tT.Yellow)}           Font style (default: 30px Arial)`),o.writeln(`  ${o.wrapInColor("--fileName",ze.tT.Yellow)}       Output filename (default: text-image.png)`),o.writeln(),o.writeln("\u{1f4dd} Examples:"),o.writeln(`  text-to-image "Hello World"                                      ${o.wrapInColor("# Basic",ze.tT.Green)}`),o.writeln(`  text-to-image "Banner" --bgColor=#1a1a2e --textColor=#e0e0e0     ${o.wrapInColor("# Custom colors",ze.tT.Green)}`)}}let pu=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(fu)]})}}return f})();class gu{constructor(){this.command="regex",this.description="Provide utilities for working with regular expressions",this.author=ze.ep,this.processors=[],this.version="0.0.3",this.metadata={icon:"\u{1f50d}",requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.processors=[{command:"match",description:"Match a regular expression against a string",allowUnlistedCommands:!0,processCommand:(i,o)=>(0,Se.A)(function*(){const[c,m]=i.command.split(" ").slice(2),O=new RegExp(c,"gm");if(O.exec(m)){let ee=(0,ze.PK)(m,O);o.writer.writeln("Match: "+ee)}else o.writer.writeInfo("No match")})(),writeDescription(i){i.writer.writeln("Usage: regex match <pattern> <text>")}}]}processCommand(i,o){return(0,Se.A)(function*(){yield o.executor.showHelp(i,o)})()}writeDescription(i){const{writer:o}=i;o.writeln(this.description),o.writeln(),o.writeln("\u{1f4cb} Usage:"),o.writeln(`  ${o.wrapInColor("regex match <pattern> <text>",ze.tT.Cyan)}`),o.writeln(),o.writeln("\u{1f4dd} Examples:"),o.writeln(`  regex match "\\d+" "abc123def"        ${o.wrapInColor("# Match numbers",ze.tT.Green)}`),o.writeln(`  regex match "hello" "hello world"    ${o.wrapInColor("# Match text",ze.tT.Green)}`),o.writeln(),o.writeln("\u{1f4a1} Matches are highlighted in the output")}}let la=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(gu)]})}}return f})();function Cs(f,i){return function(){return f.apply(i,arguments)}}const{toString:Sc}=Object.prototype,{getPrototypeOf:yl}=Object,cs=(f=Object.create(null),i=>{const o=Sc.call(i);return f[o]||(f[o]=o.slice(8,-1).toLowerCase())}),Vs=f=>(f=f.toLowerCase(),i=>cs(i)===f),El=f=>i=>typeof i===f,{isArray:Nr}=Array,P=El("undefined");var f;const S=Vs("ArrayBuffer"),J=El("string"),de=El("function"),Pe=El("number"),et=f=>null!==f&&"object"==typeof f,wt=f=>{if("object"!==cs(f))return!1;const i=yl(f);return!(null!==i&&i!==Object.prototype&&null!==Object.getPrototypeOf(i)||Symbol.toStringTag in f||Symbol.iterator in f)},un=Vs("Date"),zn=Vs("File"),On=Vs("Blob"),ys=Vs("FileList"),_o=Vs("URLSearchParams"),[Es,Mc,Tc,Oh]=["ReadableStream","Request","Response","Headers"].map(Vs);function Ur(f,i,{allOwnKeys:o=!1}={}){if(null===f||typeof f>"u")return;let c,m;if("object"!=typeof f&&(f=[f]),Nr(f))for(c=0,m=f.length;c<m;c++)i.call(null,f[c],c,f);else{const O=o?Object.getOwnPropertyNames(f):Object.keys(f),K=O.length;let ee;for(c=0;c<K;c++)ee=O[c],i.call(null,f[ee],ee,f)}}function Vi(f,i){i=i.toLowerCase();const o=Object.keys(f);let m,c=o.length;for(;c-- >0;)if(m=o[c],i===m.toLowerCase())return m;return null}const wn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mu=f=>!P(f)&&f!==wn,Ah=(f=>i=>f&&i instanceof f)(typeof Uint8Array<"u"&&yl(Uint8Array)),Dl=Vs("HTMLFormElement"),Ds=(({hasOwnProperty:f})=>(i,o)=>f.call(i,o))(Object.prototype),Ac=Vs("RegExp"),Jl=(f,i)=>{const o=Object.getOwnPropertyDescriptors(f),c={};Ur(o,(m,O)=>{let K;!1!==(K=i(m,O,f))&&(c[O]=K||m)}),Object.defineProperties(f,c)},Zl="abcdefghijklmnopqrstuvwxyz",Rh="0123456789",Ed={DIGIT:Rh,ALPHA:Zl,ALPHA_DIGIT:Zl+Zl.toUpperCase()+Rh},Lc=Vs("AsyncFunction"),Dd=((f,i)=>{return f?setImmediate:i?(o=`axios@${Math.random()}`,c=[],wn.addEventListener("message",({source:m,data:O})=>{m===wn&&O===o&&c.length&&c.shift()()},!1),m=>{c.push(m),wn.postMessage(o,"*")}):o=>setTimeout(o);var o,c})("function"==typeof setImmediate,de(wn.postMessage)),ko=typeof queueMicrotask<"u"?queueMicrotask.bind(wn):typeof process<"u"&&process.nextTick||Dd,rt={isArray:Nr,isArrayBuffer:S,isBuffer:function L(f){return null!==f&&!P(f)&&null!==f.constructor&&!P(f.constructor)&&de(f.constructor.isBuffer)&&f.constructor.isBuffer(f)},isFormData:f=>{let i;return f&&("function"==typeof FormData&&f instanceof FormData||de(f.append)&&("formdata"===(i=cs(f))||"object"===i&&de(f.toString)&&"[object FormData]"===f.toString()))},isArrayBufferView:function B(f){let i;return i=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(f):f&&f.buffer&&S(f.buffer),i},isString:J,isNumber:Pe,isBoolean:f=>!0===f||!1===f,isObject:et,isPlainObject:wt,isReadableStream:Es,isRequest:Mc,isResponse:Tc,isHeaders:Oh,isUndefined:P,isDate:un,isFile:zn,isBlob:On,isRegExp:Ac,isFunction:de,isStream:f=>et(f)&&de(f.pipe),isURLSearchParams:_o,isTypedArray:Ah,isFileList:ys,forEach:Ur,merge:function Ic(){const{caseless:f}=mu(this)&&this||{},i={},o=(c,m)=>{const O=f&&Vi(i,m)||m;i[O]=wt(i[O])&&wt(c)?Ic(i[O],c):wt(c)?Ic({},c):Nr(c)?c.slice():c};for(let c=0,m=arguments.length;c<m;c++)arguments[c]&&Ur(arguments[c],o);return i},extend:(f,i,o,{allOwnKeys:c}={})=>(Ur(i,(m,O)=>{f[O]=o&&de(m)?Cs(m,o):m},{allOwnKeys:c}),f),trim:f=>f.trim?f.trim():f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:f=>(65279===f.charCodeAt(0)&&(f=f.slice(1)),f),inherits:(f,i,o,c)=>{f.prototype=Object.create(i.prototype,c),f.prototype.constructor=f,Object.defineProperty(f,"super",{value:i.prototype}),o&&Object.assign(f.prototype,o)},toFlatObject:(f,i,o,c)=>{let m,O,K;const ee={};if(i=i||{},null==f)return i;do{for(m=Object.getOwnPropertyNames(f),O=m.length;O-- >0;)K=m[O],(!c||c(K,f,i))&&!ee[K]&&(i[K]=f[K],ee[K]=!0);f=!1!==o&&yl(f)}while(f&&(!o||o(f,i))&&f!==Object.prototype);return i},kindOf:cs,kindOfTest:Vs,endsWith:(f,i,o)=>{f=String(f),(void 0===o||o>f.length)&&(o=f.length);const c=f.indexOf(i,o-=i.length);return-1!==c&&c===o},toArray:f=>{if(!f)return null;if(Nr(f))return f;let i=f.length;if(!Pe(i))return null;const o=new Array(i);for(;i-- >0;)o[i]=f[i];return o},forEachEntry:(f,i)=>{const c=(f&&f[Symbol.iterator]).call(f);let m;for(;(m=c.next())&&!m.done;){const O=m.value;i.call(f,O[0],O[1])}},matchAll:(f,i)=>{let o;const c=[];for(;null!==(o=f.exec(i));)c.push(o);return c},isHTMLForm:Dl,hasOwnProperty:Ds,hasOwnProp:Ds,reduceDescriptors:Jl,freezeMethods:f=>{Jl(f,(i,o)=>{if(de(f)&&-1!==["arguments","caller","callee"].indexOf(o))return!1;if(de(f[o])){if(i.enumerable=!1,"writable"in i)return void(i.writable=!1);i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},toObjectSet:(f,i)=>{const o={},c=m=>{m.forEach(O=>{o[O]=!0})};return Nr(f)?c(f):c(String(f).split(i)),o},toCamelCase:f=>f.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,c,m){return c.toUpperCase()+m}),noop:()=>{},toFiniteNumber:(f,i)=>null!=f&&Number.isFinite(f=+f)?f:i,findKey:Vi,global:wn,isContextDefined:mu,ALPHABET:Ed,generateString:(f=16,i=Ed.ALPHA_DIGIT)=>{let o="";const{length:c}=i;for(;f--;)o+=i[Math.random()*c|0];return o},isSpecCompliantForm:function j_(f){return!!(f&&de(f.append)&&"FormData"===f[Symbol.toStringTag]&&f[Symbol.iterator])},toJSONObject:f=>{const i=new Array(10),o=(c,m)=>{if(et(c)){if(i.indexOf(c)>=0)return;if(!("toJSON"in c)){i[m]=c;const O=Nr(c)?[]:{};return Ur(c,(K,ee)=>{const he=o(K,m+1);!P(he)&&(O[ee]=he)}),i[m]=void 0,O}}return c};return o(f,0)},isAsyncFn:Lc,isThenable:f=>f&&(et(f)||de(f))&&de(f.then)&&de(f.catch),setImmediate:Dd,asap:ko};function Bo(f,i,o,c,m){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=f,this.name="AxiosError",i&&(this.code=i),o&&(this.config=o),c&&(this.request=c),m&&(this.response=m,this.status=m.status?m.status:null)}rt.inherits(Bo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}});const yu=Bo.prototype,xc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(f=>{xc[f]={value:f}}),Object.defineProperties(Bo,xc),Object.defineProperty(yu,"isAxiosError",{value:!0}),Bo.from=(f,i,o,c,m,O)=>{const K=Object.create(yu);return rt.toFlatObject(f,K,function(he){return he!==Error.prototype},ee=>"isAxiosError"!==ee),Bo.call(K,f.message,i,o,c,m),K.cause=f,K.name=f.name,O&&Object.assign(K,O),K};const In=Bo;function Ss(f){return rt.isPlainObject(f)||rt.isArray(f)}function Eu(f){return rt.endsWith(f,"[]")?f.slice(0,-2):f}function Ka(f,i,o){return f?f.concat(i).map(function(m,O){return m=Eu(m),!o&&O?"["+m+"]":m}).join(o?".":""):i}const kc=rt.toFlatObject(rt,{},null,function(i){return/^is[A-Z]/.test(i)}),qa=function tc(f,i,o){if(!rt.isObject(f))throw new TypeError("target must be an object");i=i||new FormData;const c=(o=rt.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ct,Dt){return!rt.isUndefined(Dt[Ct])})).metaTokens,m=o.visitor||ke,O=o.dots,K=o.indexes,he=(o.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(i);if(!rt.isFunction(m))throw new TypeError("visitor must be a function");function ye(ot){if(null===ot)return"";if(rt.isDate(ot))return ot.toISOString();if(!he&&rt.isBlob(ot))throw new In("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(ot)||rt.isTypedArray(ot)?he&&"function"==typeof Blob?new Blob([ot]):Buffer.from(ot):ot}function ke(ot,Ct,Dt){let Un=ot;if(ot&&!Dt&&"object"==typeof ot)if(rt.endsWith(Ct,"{}"))Ct=c?Ct:Ct.slice(0,-2),ot=JSON.stringify(ot);else if(rt.isArray(ot)&&function Du(f){return rt.isArray(f)&&!f.some(Ss)}(ot)||(rt.isFileList(ot)||rt.endsWith(Ct,"[]"))&&(Un=rt.toArray(ot)))return Ct=Eu(Ct),Un.forEach(function(yn,Sn){!rt.isUndefined(yn)&&null!==yn&&i.append(!0===K?Ka([Ct],Sn,O):null===K?Ct:Ct+"[]",ye(yn))}),!1;return!!Ss(ot)||(i.append(Ka(Dt,Ct,O),ye(ot)),!1)}const Ve=[],mt=Object.assign(kc,{defaultVisitor:ke,convertValue:ye,isVisitable:Ss});if(!rt.isObject(f))throw new TypeError("data must be an object");return function Pt(ot,Ct){if(!rt.isUndefined(ot)){if(-1!==Ve.indexOf(ot))throw Error("Circular reference detected in "+Ct.join("."));Ve.push(ot),rt.forEach(ot,function(Un,Cn){!0===(!(rt.isUndefined(Un)||null===Un)&&m.call(i,Un,rt.isString(Cn)?Cn.trim():Cn,Ct,mt))&&Pt(Un,Ct?Ct.concat(Cn):[Cn])}),Ve.pop()}}(f),i};function bu(f){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(f).replace(/[!'()~]|%20|%00/g,function(c){return i[c]})}function Sl(f,i){this._pairs=[],f&&qa(f,this,i)}const Su=Sl.prototype;Su.append=function(i,o){this._pairs.push([i,o])},Su.toString=function(i){const o=i?function(c){return i.call(this,c,bu)}:bu;return this._pairs.map(function(m){return o(m[0])+"="+o(m[1])},"").join("&")};const Bc=Sl;function Mu(f){return encodeURIComponent(f).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Sd(f,i,o){if(!i)return f;const c=o&&o.encode||Mu;rt.isFunction(o)&&(o={serialize:o});const m=o&&o.serialize;let O;if(O=m?m(i,o):rt.isURLSearchParams(i)?i.toString():new Bc(i,o).toString(c),O){const K=f.indexOf("#");-1!==K&&(f=f.slice(0,K)),f+=(-1===f.indexOf("?")?"?":"&")+O}return f}const ca=class nc{constructor(){this.handlers=[]}use(i,o,c){return this.handlers.push({fulfilled:i,rejected:o,synchronous:!!c&&c.synchronous,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){rt.forEach(this.handlers,function(c){null!==c&&i(c)})}},Nc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Iu={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Bc,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Vt=typeof window<"u"&&typeof document<"u",Pu="object"==typeof navigator&&navigator||void 0,Td=Vt&&(!Pu||["ReactNative","NativeScript","NS"].indexOf(Pu.product)<0),Va=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Id=Vt&&window.location.href||"http://localhost",ui={...d,...Iu},rc=function No(f){function i(o,c,m,O){let K=o[O++];if("__proto__"===K)return!0;const ee=Number.isFinite(+K),he=O>=o.length;return K=!K&&rt.isArray(m)?m.length:K,he?(m[K]=rt.hasOwnProp(m,K)?[m[K],c]:c,!ee):((!m[K]||!rt.isObject(m[K]))&&(m[K]=[]),i(o,c,m[K],O)&&rt.isArray(m[K])&&(m[K]=function Ml(f){const i={},o=Object.keys(f);let c;const m=o.length;let O;for(c=0;c<m;c++)O=o[c],i[O]=f[O];return i}(m[K])),!ee)}if(rt.isFormData(f)&&rt.isFunction(f.entries)){const o={};return rt.forEachEntry(f,(c,m)=>{i(function di(f){return rt.matchAll(/\w+|\[(\w*)]/g,f).map(i=>"[]"===i[0]?"":i[1]||i[0])}(c),m,o,0)}),o}return null},Uo={transitional:Nc,adapter:["xhr","http","fetch"],transformRequest:[function(i,o){const c=o.getContentType()||"",m=c.indexOf("application/json")>-1,O=rt.isObject(i);if(O&&rt.isHTMLForm(i)&&(i=new FormData(i)),rt.isFormData(i))return m?JSON.stringify(rc(i)):i;if(rt.isArrayBuffer(i)||rt.isBuffer(i)||rt.isStream(i)||rt.isFile(i)||rt.isBlob(i)||rt.isReadableStream(i))return i;if(rt.isArrayBufferView(i))return i.buffer;if(rt.isURLSearchParams(i))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let ee;if(O){if(c.indexOf("application/x-www-form-urlencoded")>-1)return function Ou(f,i){return qa(f,new ui.classes.URLSearchParams,Object.assign({visitor:function(o,c,m,O){return ui.isNode&&rt.isBuffer(o)?(this.append(c,o.toString("base64")),!1):O.defaultVisitor.apply(this,arguments)}},i))}(i,this.formSerializer).toString();if((ee=rt.isFileList(i))||c.indexOf("multipart/form-data")>-1){const he=this.env&&this.env.FormData;return qa(ee?{"files[]":i}:i,he&&new he,this.formSerializer)}}return O||m?(o.setContentType("application/json",!1),function Fc(f,i,o){if(rt.isString(f))try{return(i||JSON.parse)(f),rt.trim(f)}catch(c){if("SyntaxError"!==c.name)throw c}return(o||JSON.stringify)(f)}(i)):i}],transformResponse:[function(i){const o=this.transitional||Uo.transitional,c=o&&o.forcedJSONParsing,m="json"===this.responseType;if(rt.isResponse(i)||rt.isReadableStream(i))return i;if(i&&rt.isString(i)&&(c&&!this.responseType||m)){const K=!(o&&o.silentJSONParsing)&&m;try{return JSON.parse(i)}catch(ee){if(K)throw"SyntaxError"===ee.name?In.from(ee,In.ERR_BAD_RESPONSE,this,null,this.response):ee}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],f=>{Uo.headers[f]={}});const zi=Uo,ua=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Od=Symbol("internals");function za(f){return f&&String(f).trim().toLowerCase()}function $c(f){return!1===f||null==f?f:rt.isArray(f)?f.map($c):String(f)}function fo(f,i,o,c,m){if(rt.isFunction(c))return c.call(this,i,o);if(m&&(i=o),rt.isString(i)){if(rt.isString(c))return-1!==i.indexOf(c);if(rt.isRegExp(c))return c.test(i)}}class Or{constructor(i){i&&this.set(i)}set(i,o,c){const m=this;function O(ee,he,ye){const ke=za(he);if(!ke)throw new Error("header name must be a non-empty string");const Ve=rt.findKey(m,ke);(!Ve||void 0===m[Ve]||!0===ye||void 0===ye&&!1!==m[Ve])&&(m[Ve||he]=$c(ee))}const K=(ee,he)=>rt.forEach(ee,(ye,ke)=>O(ye,ke,he));if(rt.isPlainObject(i)||i instanceof this.constructor)K(i,o);else if(rt.isString(i)&&(i=i.trim())&&!(f=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(f.trim()))(i))K((f=>{const i={};let o,c,m;return f&&f.split("\n").forEach(function(K){m=K.indexOf(":"),o=K.substring(0,m).trim().toLowerCase(),c=K.substring(m+1).trim(),!(!o||i[o]&&ua[o])&&("set-cookie"===o?i[o]?i[o].push(c):i[o]=[c]:i[o]=i[o]?i[o]+", "+c:c)}),i})(i),o);else if(rt.isHeaders(i))for(const[ee,he]of i.entries())O(he,ee,c);else null!=i&&O(o,i,c);return this}get(i,o){if(i=za(i)){const c=rt.findKey(this,i);if(c){const m=this[c];if(!o)return m;if(!0===o)return function Ad(f){const i=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=o.exec(f);)i[c[1]]=c[2];return i}(m);if(rt.isFunction(o))return o.call(this,m,c);if(rt.isRegExp(o))return o.exec(m);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,o){if(i=za(i)){const c=rt.findKey(this,i);return!(!c||void 0===this[c]||o&&!fo(0,this[c],c,o))}return!1}delete(i,o){const c=this;let m=!1;function O(K){if(K=za(K)){const ee=rt.findKey(c,K);ee&&(!o||fo(0,c[ee],ee,o))&&(delete c[ee],m=!0)}}return rt.isArray(i)?i.forEach(O):O(i),m}clear(i){const o=Object.keys(this);let c=o.length,m=!1;for(;c--;){const O=o[c];(!i||fo(0,this[O],O,i,!0))&&(delete this[O],m=!0)}return m}normalize(i){const o=this,c={};return rt.forEach(this,(m,O)=>{const K=rt.findKey(c,O);if(K)return o[K]=$c(m),void delete o[O];const ee=i?function Au(f){return f.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,o,c)=>o.toUpperCase()+c)}(O):String(O).trim();ee!==O&&delete o[O],o[ee]=$c(m),c[ee]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const o=Object.create(null);return rt.forEach(this,(c,m)=>{null!=c&&!1!==c&&(o[m]=i&&rt.isArray(c)?c.join(", "):c)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,o])=>i+": "+o).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...o){const c=new this(i);return o.forEach(m=>c.set(m)),c}static accessor(i){const c=(this[Od]=this[Od]={accessors:{}}).accessors,m=this.prototype;function O(K){const ee=za(K);c[ee]||(function da(f,i){const o=rt.toCamelCase(" "+i);["get","set","has"].forEach(c=>{Object.defineProperty(f,c+o,{value:function(m,O,K){return this[c].call(this,i,m,O,K)},configurable:!0})})}(m,K),c[ee]=!0)}return rt.isArray(i)?i.forEach(O):O(i),this}}Or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),rt.reduceDescriptors(Or.prototype,({value:f},i)=>{let o=i[0].toUpperCase()+i.slice(1);return{get:()=>f,set(c){this[o]=c}}}),rt.freezeMethods(Or);const ti=Or;function ha(f,i){const o=this||zi,c=i||o,m=ti.from(c.headers);let O=c.data;return rt.forEach(f,function(ee){O=ee.call(o,O,m.normalize(),i?i.status:void 0)}),m.normalize(),O}function Ru(f){return!(!f||!f.__CANCEL__)}function Ai(f,i,o){In.call(this,f??"canceled",In.ERR_CANCELED,i,o),this.name="CanceledError"}rt.inherits(Ai,In,{__CANCEL__:!0});const po=Ai;function Lu(f,i,o){const c=o.config.validateStatus;o.status&&c&&!c(o.status)?i(new In("Request failed with status code "+o.status,[In.ERR_BAD_REQUEST,In.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o)):f(o)}const Hc=(f,i,o=3)=>{let c=0;const m=function Tl(f,i){f=f||10;const o=new Array(f),c=new Array(f);let K,m=0,O=0;return i=void 0!==i?i:1e3,function(he){const ye=Date.now(),ke=c[O];K||(K=ye),o[m]=he,c[m]=ye;let Ve=O,mt=0;for(;Ve!==m;)mt+=o[Ve++],Ve%=f;if(m=(m+1)%f,m===O&&(O=(O+1)%f),ye-K<i)return;const Pt=ke&&ye-ke;return Pt?Math.round(1e3*mt/Pt):void 0}}(50,250);return function K_(f,i){let m,O,o=0,c=1e3/i;const K=(ye,ke=Date.now())=>{o=ke,m=null,O&&(clearTimeout(O),O=null),f.apply(null,ye)};return[(...ye)=>{const ke=Date.now(),Ve=ke-o;Ve>=c?K(ye,ke):(m=ye,O||(O=setTimeout(()=>{O=null,K(m)},c-Ve)))},()=>m&&K(m)]}(O=>{const K=O.loaded,ee=O.lengthComputable?O.total:void 0,he=K-c,ye=m(he);c=K,f({loaded:K,total:ee,progress:ee?K/ee:void 0,bytes:he,rate:ye||void 0,estimated:ye&&ee&&K<=ee?(ee-K)/ye:void 0,event:O,lengthComputable:null!=ee,[i?"download":"upload"]:!0})},o)},sr=(f,i)=>{const o=null!=f;return[c=>i[0]({lengthComputable:o,total:f,loaded:c}),i[1]]},us=f=>(...i)=>rt.asap(()=>f(...i)),Il=ui.hasStandardBrowserEnv?((f,i)=>o=>(o=new URL(o,ui.origin),f.protocol===o.protocol&&f.host===o.host&&(i||f.port===o.port)))(new URL(ui.origin),ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent)):()=>!0,q_=ui.hasStandardBrowserEnv?{write(f,i,o,c,m,O){const K=[f+"="+encodeURIComponent(i)];rt.isNumber(o)&&K.push("expires="+new Date(o).toGMTString()),rt.isString(c)&&K.push("path="+c),rt.isString(m)&&K.push("domain="+m),!0===O&&K.push("secure"),document.cookie=K.join("; ")},read(f){const i=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(f){this.write(f,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xu(f,i){return f&&!function ic(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)}(i)?function Pl(f,i){return i?f.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):f}(f,i):i}const ku=f=>f instanceof ti?{...f}:f;function Ga(f,i){i=i||{};const o={};function c(ye,ke,Ve,mt){return rt.isPlainObject(ye)&&rt.isPlainObject(ke)?rt.merge.call({caseless:mt},ye,ke):rt.isPlainObject(ke)?rt.merge({},ke):rt.isArray(ke)?ke.slice():ke}function m(ye,ke,Ve,mt){return rt.isUndefined(ke)?rt.isUndefined(ye)?void 0:c(void 0,ye,0,mt):c(ye,ke,0,mt)}function O(ye,ke){if(!rt.isUndefined(ke))return c(void 0,ke)}function K(ye,ke){return rt.isUndefined(ke)?rt.isUndefined(ye)?void 0:c(void 0,ye):c(void 0,ke)}function ee(ye,ke,Ve){return Ve in i?c(ye,ke):Ve in f?c(void 0,ye):void 0}const he={url:O,method:O,data:O,baseURL:K,transformRequest:K,transformResponse:K,paramsSerializer:K,timeout:K,timeoutMessage:K,withCredentials:K,withXSRFToken:K,adapter:K,responseType:K,xsrfCookieName:K,xsrfHeaderName:K,onUploadProgress:K,onDownloadProgress:K,decompress:K,maxContentLength:K,maxBodyLength:K,beforeRedirect:K,transport:K,httpAgent:K,httpsAgent:K,cancelToken:K,socketPath:K,responseEncoding:K,validateStatus:ee,headers:(ye,ke,Ve)=>m(ku(ye),ku(ke),0,!0)};return rt.forEach(Object.keys(Object.assign({},f,i)),function(ke){const Ve=he[ke]||m,mt=Ve(f[ke],i[ke],ke);rt.isUndefined(mt)&&Ve!==ee||(o[ke]=mt)}),o}const Bu=f=>{const i=Ga({},f);let he,{data:o,withXSRFToken:c,xsrfHeaderName:m,xsrfCookieName:O,headers:K,auth:ee}=i;if(i.headers=K=ti.from(K),i.url=Sd(xu(i.baseURL,i.url),f.params,f.paramsSerializer),ee&&K.set("Authorization","Basic "+btoa((ee.username||"")+":"+(ee.password?unescape(encodeURIComponent(ee.password)):""))),rt.isFormData(o))if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)K.setContentType(void 0);else if(!1!==(he=K.getContentType())){const[ye,...ke]=he?he.split(";").map(Ve=>Ve.trim()).filter(Boolean):[];K.setContentType([ye||"multipart/form-data",...ke].join("; "))}if(ui.hasStandardBrowserEnv&&(c&&rt.isFunction(c)&&(c=c(i)),c||!1!==c&&Il(i.url))){const ye=m&&O&&q_.read(O);ye&&K.set(m,ye)}return i},Ya=typeof XMLHttpRequest<"u"&&function(f){return new Promise(function(o,c){const m=Bu(f);let O=m.data;const K=ti.from(m.headers).normalize();let ke,Ve,mt,Pt,ot,{responseType:ee,onUploadProgress:he,onDownloadProgress:ye}=m;function Ct(){Pt&&Pt(),ot&&ot(),m.cancelToken&&m.cancelToken.unsubscribe(ke),m.signal&&m.signal.removeEventListener("abort",ke)}let Dt=new XMLHttpRequest;function Un(){if(!Dt)return;const yn=ti.from("getAllResponseHeaders"in Dt&&Dt.getAllResponseHeaders());Lu(function(er){o(er),Ct()},function(er){c(er),Ct()},{data:ee&&"text"!==ee&&"json"!==ee?Dt.response:Dt.responseText,status:Dt.status,statusText:Dt.statusText,headers:yn,config:f,request:Dt}),Dt=null}Dt.open(m.method.toUpperCase(),m.url,!0),Dt.timeout=m.timeout,"onloadend"in Dt?Dt.onloadend=Un:Dt.onreadystatechange=function(){!Dt||4!==Dt.readyState||0===Dt.status&&(!Dt.responseURL||0!==Dt.responseURL.indexOf("file:"))||setTimeout(Un)},Dt.onabort=function(){Dt&&(c(new In("Request aborted",In.ECONNABORTED,f,Dt)),Dt=null)},Dt.onerror=function(){c(new In("Network Error",In.ERR_NETWORK,f,Dt)),Dt=null},Dt.ontimeout=function(){let Sn=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";m.timeoutErrorMessage&&(Sn=m.timeoutErrorMessage),c(new In(Sn,(m.transitional||Nc).clarifyTimeoutError?In.ETIMEDOUT:In.ECONNABORTED,f,Dt)),Dt=null},void 0===O&&K.setContentType(null),"setRequestHeader"in Dt&&rt.forEach(K.toJSON(),function(Sn,Gi){Dt.setRequestHeader(Gi,Sn)}),rt.isUndefined(m.withCredentials)||(Dt.withCredentials=!!m.withCredentials),ee&&"json"!==ee&&(Dt.responseType=m.responseType),ye&&([mt,ot]=Hc(ye,!0),Dt.addEventListener("progress",mt)),he&&Dt.upload&&([Ve,Pt]=Hc(he),Dt.upload.addEventListener("progress",Ve),Dt.upload.addEventListener("loadend",Pt)),(m.cancelToken||m.signal)&&(ke=yn=>{Dt&&(c(!yn||yn.type?new po(null,f,Dt):yn),Dt.abort(),Dt=null)},m.cancelToken&&m.cancelToken.subscribe(ke),m.signal&&(m.signal.aborted?ke():m.signal.addEventListener("abort",ke)));const Cn=function Wc(f){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f);return i&&i[1]||""}(m.url);Cn&&-1===ui.protocols.indexOf(Cn)?c(new In("Unsupported protocol "+Cn+":",In.ERR_BAD_REQUEST,f)):Dt.send(O||null)})},xd=(f,i)=>{const{length:o}=f=f?f.filter(Boolean):[];if(i||o){let m,c=new AbortController;const O=function(ye){if(!m){m=!0,ee();const ke=ye instanceof Error?ye:this.reason;c.abort(ke instanceof In?ke:new po(ke instanceof Error?ke.message:ke))}};let K=i&&setTimeout(()=>{K=null,O(new In(`timeout ${i} of ms exceeded`,In.ETIMEDOUT))},i);const ee=()=>{f&&(K&&clearTimeout(K),K=null,f.forEach(ye=>{ye.unsubscribe?ye.unsubscribe(O):ye.removeEventListener("abort",O)}),f=null)};f.forEach(ye=>ye.addEventListener("abort",O));const{signal:he}=c;return he.unsubscribe=()=>rt.asap(ee),he}};function Ol(f,i){this.v=f,this.k=i}function _a(f){var i,o;function c(O,K){try{var ee=f[O](K),he=ee.value,ye=he instanceof Ol;Promise.resolve(ye?he.v:he).then(function(ke){if(ye){var Ve="return"===O?"return":"next";if(!he.k||ke.done)return c(Ve,ke);ke=f[Ve](ke).value}m(ee.done?"return":"normal",ke)},function(ke){c("throw",ke)})}catch(ke){m("throw",ke)}}function m(O,K){switch(O){case"return":i.resolve({value:K,done:!0});break;case"throw":i.reject(K);break;default:i.resolve({value:K,done:!1})}(i=i.next)?c(i.key,i.arg):o=null}this._invoke=function(O,K){return new Promise(function(ee,he){var ye={key:O,arg:K,resolve:ee,reject:he,next:null};o?o=o.next=ye:(i=o=ye,c(O,K))})},"function"!=typeof f.return&&(this.return=void 0)}function oc(f){return function(){return new _a(f.apply(this,arguments))}}function Fo(f){return new Ol(f,0)}function ac(f){var i={},o=!1;function c(m,O){return o=!0,{done:!1,value:new Ol(O=new Promise(function(K){K(f[m](O))}),1)}}return i[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},i.next=function(m){return o?(o=!1,m):c("next",m)},"function"==typeof f.throw&&(i.throw=function(m){if(o)throw o=!1,m;return c("throw",m)}),"function"==typeof f.return&&(i.return=function(m){return o?(o=!1,m):c("return",m)}),i}function fa(f){var i,o,c,m=2;for(typeof Symbol<"u"&&(o=Symbol.asyncIterator,c=Symbol.iterator);m--;){if(o&&null!=(i=f[o]))return i.call(f);if(c&&null!=(i=f[c]))return new Xa(i.call(f));o="@@asyncIterator",c="@@iterator"}throw new TypeError("Object is not async iterable")}function Xa(f){function i(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var c=o.done;return Promise.resolve(o.value).then(function(m){return{value:m,done:c}})}return(Xa=function(c){this.s=c,this.n=c.next}).prototype={s:null,n:null,next:function(){return i(this.n.apply(this.s,arguments))},return:function(c){var m=this.s.return;return void 0===m?Promise.resolve({value:c,done:!0}):i(m.apply(this.s,arguments))},throw:function(c){var m=this.s.return;return void 0===m?Promise.reject(c):i(m.apply(this.s,arguments))}},new Xa(f)}_a.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_a.prototype.next=function(f){return this._invoke("next",f)},_a.prototype.throw=function(f){return this._invoke("throw",f)},_a.prototype.return=function(f){return this._invoke("return",f)};const Uu=function*(f,i){let o=f.byteLength;if(!i||o<i)return void(yield f);let m,c=0;for(;c<o;)m=c+i,yield f.slice(c,m),c=m},jc=function(){var f=oc(function*(i,o){var O,c=!1,m=!1;try{for(var ee,K=fa(kd(i));c=!(ee=yield Fo(K.next())).done;c=!1){const he=ee.value;yield*ac(fa(Uu(he,o)))}}catch(he){m=!0,O=he}finally{try{c&&null!=K.return&&(yield Fo(K.return()))}finally{if(m)throw O}}});return function(o,c){return f.apply(this,arguments)}}(),kd=function(){var f=oc(function*(i){if(i[Symbol.asyncIterator])return void(yield*ac(fa(i)));const o=i.getReader();try{for(;;){const{done:c,value:m}=yield Fo(o.read());if(c)break;yield m}}finally{yield Fo(o.cancel())}});return function(o){return f.apply(this,arguments)}}(),$o=(f,i,o,c)=>{const m=jc(f,i);let K,O=0,ee=he=>{K||(K=!0,c&&c(he))};return new ReadableStream({pull:he=>(0,Se.A)(function*(){try{const{done:ye,value:ke}=yield m.next();if(ye)return ee(),void he.close();if(o){let mt=O+=ke.byteLength;o(mt)}he.enqueue(new Uint8Array(ke))}catch(ye){throw ee(ye),ye}})(),cancel:he=>(ee(he),m.return())},{highWaterMark:2})},pa="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Fu=pa&&"function"==typeof ReadableStream,ga=pa&&("function"==typeof TextEncoder?(f=>i=>f.encode(i))(new TextEncoder):function(){var f=(0,Se.A)(function*(i){return new Uint8Array(yield new Response(i).arrayBuffer())});return function(i){return f.apply(this,arguments)}}()),Kc=(f,...i)=>{try{return!!f(...i)}catch{return!1}},Bd=Fu&&Kc(()=>{let f=!1;const i=new Request(ui.origin,{body:new ReadableStream,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!i}),qc=Fu&&Kc(()=>rt.isReadableStream(new Response("").body)),Vc={stream:qc&&(f=>f.body)};pa&&(f=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!Vc[i]&&(Vc[i]=rt.isFunction(f[i])?o=>o[i]():(o,c)=>{throw new In(`Response type '${i}' is not supported`,In.ERR_NOT_SUPPORT,c)})})})(new Response);const kh=function(){var f=(0,Se.A)(function*(i){return null==i?0:rt.isBlob(i)?i.size:rt.isSpecCompliantForm(i)?(yield new Request(ui.origin,{method:"POST",body:i}).arrayBuffer()).byteLength:rt.isArrayBufferView(i)||rt.isArrayBuffer(i)?i.byteLength:(rt.isURLSearchParams(i)&&(i+=""),rt.isString(i)?(yield ga(i)).byteLength:void 0)});return function(o){return f.apply(this,arguments)}}(),Ms=function(){var f=(0,Se.A)(function*(i,o){return rt.toFiniteNumber(i.getContentLength())??kh(o)});return function(o,c){return f.apply(this,arguments)}}(),lc={http:null,xhr:Ya,fetch:pa&&function(){var f=(0,Se.A)(function*(i){let{url:o,method:c,data:m,signal:O,cancelToken:K,timeout:ee,onDownloadProgress:he,onUploadProgress:ye,responseType:ke,headers:Ve,withCredentials:mt="same-origin",fetchOptions:Pt}=Bu(i);ke=ke?(ke+"").toLowerCase():"text";let Ct,ot=xd([O,K&&K.toAbortSignal()],ee);const Dt=ot&&ot.unsubscribe&&(()=>{ot.unsubscribe()});let Un;try{if(ye&&Bd&&"get"!==c&&"head"!==c&&0!==(Un=yield Ms(Ve,m))){let er,Ar=new Request(o,{method:"POST",body:m,duplex:"half"});if(rt.isFormData(m)&&(er=Ar.headers.get("content-type"))&&Ve.setContentType(er),Ar.body){const[mi,vi]=sr(Un,Hc(us(ye)));m=$o(Ar.body,65536,mi,vi)}}rt.isString(mt)||(mt=mt?"include":"omit");const Cn="credentials"in Request.prototype;Ct=new Request(o,{...Pt,signal:ot,method:c.toUpperCase(),headers:Ve.normalize().toJSON(),body:m,duplex:"half",credentials:Cn?mt:void 0});let yn=yield fetch(Ct);const Sn=qc&&("stream"===ke||"response"===ke);if(qc&&(he||Sn&&Dt)){const Ar={};["status","statusText","headers"].forEach(Is=>{Ar[Is]=yn[Is]});const er=rt.toFiniteNumber(yn.headers.get("content-length")),[mi,vi]=he&&sr(er,Hc(us(he),!0))||[];yn=new Response($o(yn.body,65536,mi,()=>{vi&&vi(),Dt&&Dt()}),Ar)}ke=ke||"text";let Gi=yield Vc[rt.findKey(Vc,ke)||"text"](yn,i);return!Sn&&Dt&&Dt(),yield new Promise((Ar,er)=>{Lu(Ar,er,{data:Gi,headers:ti.from(yn.headers),status:yn.status,statusText:yn.statusText,config:i,request:Ct})})}catch(Cn){throw Dt&&Dt(),Cn&&"TypeError"===Cn.name&&/fetch/i.test(Cn.message)?Object.assign(new In("Network Error",In.ERR_NETWORK,i,Ct),{cause:Cn.cause||Cn}):In.from(Cn,Cn&&Cn.code,i,Ct)}});return function(i){return f.apply(this,arguments)}}()};rt.forEach(lc,(f,i)=>{if(f){try{Object.defineProperty(f,"name",{value:i})}catch{}Object.defineProperty(f,"adapterName",{value:i})}});const cc=f=>`- ${f}`,Wu=f=>rt.isFunction(f)||null===f||!1===f,ma_getAdapter=f=>{f=rt.isArray(f)?f:[f];const{length:i}=f;let o,c;const m={};for(let O=0;O<i;O++){let K;if(o=f[O],c=o,!Wu(o)&&(c=lc[(K=String(o)).toLowerCase()],void 0===c))throw new In(`Unknown adapter '${K}'`);if(c)break;m[K||"#"+O]=c}if(!c){const O=Object.entries(m).map(([ee,he])=>`adapter ${ee} `+(!1===he?"is not supported by the environment":"is not available in the build"));let K=i?O.length>1?"since :\n"+O.map(cc).join("\n"):" "+cc(O[0]):"as no adapter specified";throw new In("There is no suitable adapter to dispatch the request "+K,"ERR_NOT_SUPPORT")}return c};function Qt(f){if(f.cancelToken&&f.cancelToken.throwIfRequested(),f.signal&&f.signal.aborted)throw new po(null,f)}function uc(f){return Qt(f),f.headers=ti.from(f.headers),f.data=ha.call(f,f.transformRequest),-1!==["post","put","patch"].indexOf(f.method)&&f.headers.setContentType("application/x-www-form-urlencoded",!1),ma_getAdapter(f.adapter||zi.adapter)(f).then(function(c){return Qt(f),c.data=ha.call(f,f.transformResponse,c),c.headers=ti.from(c.headers),c},function(c){return Ru(c)||(Qt(f),c&&c.response&&(c.response.data=ha.call(f,f.transformResponse,c.response),c.response.headers=ti.from(c.response.headers))),Promise.reject(c)})}const Ts={};["object","boolean","number","function","string","symbol"].forEach((f,i)=>{Ts[f]=function(c){return typeof c===f||"a"+(i<1?"n ":" ")+f}});const Bh={};Ts.transitional=function(i,o,c){function m(O,K){return"[Axios v1.7.9] Transitional option '"+O+"'"+K+(c?". "+c:"")}return(O,K,ee)=>{if(!1===i)throw new In(m(K," has been removed"+(o?" in "+o:"")),In.ERR_DEPRECATED);return o&&!Bh[K]&&(Bh[K]=!0,console.warn(m(K," has been deprecated since v"+o+" and will be removed in the near future"))),!i||i(O,K,ee)}},Ts.spelling=function(i){return(o,c)=>(console.warn(`${c} is likely a misspelling of ${i}`),!0)};const Qa={assertOptions:function Nd(f,i,o){if("object"!=typeof f)throw new In("options must be an object",In.ERR_BAD_OPTION_VALUE);const c=Object.keys(f);let m=c.length;for(;m-- >0;){const O=c[m],K=i[O];if(K){const ee=f[O],he=void 0===ee||K(ee,O,f);if(!0!==he)throw new In("option "+O+" must be "+he,In.ERR_BAD_OPTION_VALUE)}else if(!0!==o)throw new In("Unknown option "+O,In.ERR_BAD_OPTION)}},validators:Ts},vr=Qa.validators;class Hu{constructor(i){this.defaults=i,this.interceptors={request:new ca,response:new ca}}request(i,o){var c=this;return(0,Se.A)(function*(){try{return yield c._request(i,o)}catch(m){if(m instanceof Error){let O={};Error.captureStackTrace?Error.captureStackTrace(O):O=new Error;const K=O.stack?O.stack.replace(/^.+\n/,""):"";try{m.stack?K&&!String(m.stack).endsWith(K.replace(/^.+\n.+\n/,""))&&(m.stack+="\n"+K):m.stack=K}catch{}}throw m}})()}_request(i,o){"string"==typeof i?(o=o||{}).url=i:o=i||{},o=Ga(this.defaults,o);const{transitional:c,paramsSerializer:m,headers:O}=o;void 0!==c&&Qa.assertOptions(c,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),null!=m&&(rt.isFunction(m)?o.paramsSerializer={serialize:m}:Qa.assertOptions(m,{encode:vr.function,serialize:vr.function},!0)),Qa.assertOptions(o,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let K=O&&rt.merge(O.common,O[o.method]);O&&rt.forEach(["delete","get","head","post","put","patch","common"],ot=>{delete O[ot]}),o.headers=ti.concat(K,O);const ee=[];let he=!0;this.interceptors.request.forEach(function(Ct){"function"==typeof Ct.runWhen&&!1===Ct.runWhen(o)||(he=he&&Ct.synchronous,ee.unshift(Ct.fulfilled,Ct.rejected))});const ye=[];this.interceptors.response.forEach(function(Ct){ye.push(Ct.fulfilled,Ct.rejected)});let ke,mt,Ve=0;if(!he){const ot=[uc.bind(this),void 0];for(ot.unshift.apply(ot,ee),ot.push.apply(ot,ye),mt=ot.length,ke=Promise.resolve(o);Ve<mt;)ke=ke.then(ot[Ve++],ot[Ve++]);return ke}mt=ee.length;let Pt=o;for(Ve=0;Ve<mt;){const ot=ee[Ve++],Ct=ee[Ve++];try{Pt=ot(Pt)}catch(Dt){Ct.call(this,Dt);break}}try{ke=uc.call(this,Pt)}catch(ot){return Promise.reject(ot)}for(Ve=0,mt=ye.length;Ve<mt;)ke=ke.then(ye[Ve++],ye[Ve++]);return ke}getUri(i){return Sd(xu((i=Ga(this.defaults,i)).baseURL,i.url),i.params,i.paramsSerializer)}}rt.forEach(["delete","get","head","options"],function(i){Hu.prototype[i]=function(o,c){return this.request(Ga(c||{},{method:i,url:o,data:(c||{}).data}))}}),rt.forEach(["post","put","patch"],function(i){function o(c){return function(O,K,ee){return this.request(Ga(ee||{},{method:i,headers:c?{"Content-Type":"multipart/form-data"}:{},url:O,data:K}))}}Hu.prototype[i]=o(),Hu.prototype[i+"Form"]=o(!0)});const ju=Hu;class Ku{constructor(i){if("function"!=typeof i)throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(O){o=O});const c=this;this.promise.then(m=>{if(!c._listeners)return;let O=c._listeners.length;for(;O-- >0;)c._listeners[O](m);c._listeners=null}),this.promise.then=m=>{let O;const K=new Promise(ee=>{c.subscribe(ee),O=ee}).then(m);return K.cancel=function(){c.unsubscribe(O)},K},i(function(O,K,ee){c.reason||(c.reason=new po(O,K,ee),o(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){this.reason?i(this.reason):this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const o=this._listeners.indexOf(i);-1!==o&&this._listeners.splice(o,1)}toAbortSignal(){const i=new AbortController,o=c=>{i.abort(c)};return this.subscribe(o),i.signal.unsubscribe=()=>this.unsubscribe(o),i.signal}static source(){let i;return{token:new Ku(function(m){i=m}),cancel:i}}}const V_=Ku,Al={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Al).forEach(([f,i])=>{Al[i]=f});const Fd=Al,Nn=function Gs(f){const i=new ju(f),o=Cs(ju.prototype.request,i);return rt.extend(o,ju.prototype,i,{allOwnKeys:!0}),rt.extend(o,i,null,{allOwnKeys:!0}),o.create=function(m){return Gs(Ga(f,m))},o}(zi);Nn.Axios=ju,Nn.CanceledError=po,Nn.CancelToken=V_,Nn.isCancel=Ru,Nn.VERSION="1.7.9",Nn.toFormData=qa,Nn.AxiosError=In,Nn.Cancel=Nn.CanceledError,Nn.all=function(i){return Promise.all(i)},Nn.spread=function Ud(f){return function(o){return f.apply(null,o)}},Nn.isAxiosError=function Gc(f){return rt.isObject(f)&&!0===f.isAxiosError},Nn.mergeConfig=Ga,Nn.AxiosHeaders=ti,Nn.formToJSON=f=>rc(rt.isHTMLForm(f)?new FormData(f):f),Nn.getAdapter=ma_getAdapter,Nn.HttpStatusCode=Fd,Nn.default=Nn;const Ys=Nn;class Yc{constructor(){var o,i=this;this.command="speed-test",this.description="Run an internet speed test",this.author=ze.ep,this.processors=[],this.version="0.0.4",this.metadata={icon:"\u{1f680}",requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.processors=[{command:"run",description:"Run the internet speed test",parameters:[{name:"download-url",description:"URL to download the file",type:"string",required:!1},{name:"upload-url",description:"URL to upload the file",type:"string",required:!1}],processCommand:(o=(0,Se.A)(function*(c,m){const O=Ys.CancelToken.source(),K=m.onAbort.subscribe(()=>{O.cancel("Speed test aborted by user"),K.unsubscribe()});new Promise(function(){var ee=(0,Se.A)(function*(he,ye){m.writer.writeInfo("Starting live speed test...");const ke=c.args["download-url"]||"https://proxy.qodalis.com/proxy/https/nbg1-speed.hetzner.com/100MB.bin",Ve=c.args["upload-url"]||"https://httpbin.org/post";try{yield i.runDownloadSpeedTest(ke,m,O.token),yield i.runUploadSpeedTest(Ve,m,O),m.writer.writeInfo("Speed test completed"),he()}catch(mt){m.writer.writeError(`Speed test failed: ${mt?.toString()}`),ye(mt)}K.unsubscribe(),m.showPrompt()});return function(he,ye){return ee.apply(this,arguments)}}())}),function(m,O){return o.apply(this,arguments)})}]}processCommand(i,o){return(0,Se.A)(function*(){yield o.executor.showHelp(i,o)})()}writeDescription(i){const{writer:o}=i;o.writeln(this.description),o.writeln(),o.writeln("\u{1f4cb} Usage:"),o.writeln(`  ${o.wrapInColor("speed-test run",ze.tT.Cyan)}                          Run download & upload test`),o.writeln(`  ${o.wrapInColor("speed-test run --download-url=<url>",ze.tT.Cyan)}     Custom download URL`),o.writeln(`  ${o.wrapInColor("speed-test run --upload-url=<url>",ze.tT.Cyan)}       Custom upload URL`),o.writeln(),o.writeln(`\u{1f4a1} Press ${o.wrapInColor("Ctrl+C",ze.tT.Yellow)} to abort the test`)}runDownloadSpeedTest(i,o,c){return(0,Se.A)(function*(){const m=performance.now();let O=m,K=0;yield Ys.get(i,{responseType:"arraybuffer",cancelToken:c,headers:{Origin:null},onDownloadProgress:ye=>{if(c.reason)throw new Error("Speed test aborted by user");const ke=performance.now(),Ve=(ke-O)/1e3;Ve>0&&o.writer.writeln(`Download Speed: ${((ye.loaded-K)/Ve*8/1048576).toFixed(2)} Mbps (Progress: ${(ye.loaded/ye.total*100).toFixed(2)}%)`),O=ke,K=ye.loaded}});const he=(performance.now()-m)/1e3;o.writer.writeSuccess(`Download test completed in ${he.toFixed(2)} seconds`)})()}runUploadSpeedTest(i,o,c){return(0,Se.A)(function*(){const m=new Uint8Array(20971520);m.fill(0);const O=performance.now();let K=O,ee=0,he=!1;try{yield Ys.post(i,m,{headers:{"Content-Type":"application/octet-stream"},cancelToken:c.token,responseType:"stream",onUploadProgress:ye=>{if(c.token.reason)throw new Error("Speed test aborted by user");const ke=performance.now(),Ve=(ke-K)/1e3;Ve>0&&o.writer.writeln(`Upload Speed: ${((ye.loaded-ee)/Ve*8/1048576).toFixed(2)} Mbps (Progress: ${(ye.loaded/ye.total*100).toFixed(2)}%)`),K=ke,ee=ye.loaded,ye.loaded>=ye.total&&(he=!0,c.cancel("Upload test completed"))}})}catch(ye){if(!Ys.isCancel(ye))throw ye;if(he){const Ve=(performance.now()-O)/1e3;o.writer.writeSuccess(`Upload test completed in ${Ve.toFixed(2)} seconds`)}else o.writer.writeError("Upload test aborted by user")}})()}}let Xc=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(Yc)]})}}return f})(),va=(()=>{class f{constructor(){var o;this.command="cookies",this.description="Interact with the cookies",this.author=ze.ep,this.processors=[],this.version="0.0.3",this.metadata={requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.processors=[{command:"list",allowUnlistedCommands:!0,description:"List all cookies",processCommand:(o=(0,Se.A)(function*(c,m){const O=document.cookie.split("; ").reduce((K,ee)=>{const[he,ye]=ee.split("=");return K[he]=decodeURIComponent(ye||""),K},{});for(const[K,ee]of Object.entries(O))m.writer.writeln(`${K}: ${ee}`)}),function(m,O){return o.apply(this,arguments)})},{command:"get",allowUnlistedCommands:!0,description:"Get the value of a key",processCommand:function(){var o=(0,Se.A)(function*(c,m){const[O]=c.chainCommands.slice(2),ee=document.cookie.split("; ").reduce((he,ye)=>{const[ke,Ve]=ye.split("=");return he[ke]=decodeURIComponent(Ve||""),he},{})[O];m.writer.writeln(ee||"null")});return function(m,O){return o.apply(this,arguments)}}()},{command:"set",allowUnlistedCommands:!0,description:"Set the value of a key",processCommand:function(){var o=(0,Se.A)(function*(c,m){const[O,...K]=c.chainCommands.slice(1),ee=new Date;ee.setFullYear(ee.getFullYear()+1),document.cookie=`${O}=${encodeURIComponent(K.join(" "))};expires=${ee.toUTCString()};path=/`,m.writer.writeSuccess("Cookie set successfully")});return function(m,O){return o.apply(this,arguments)}}()},{command:"remove",allowUnlistedCommands:!0,description:"Remove a key",processCommand:function(){var o=(0,Se.A)(function*(c,m){const[O]=c.chainCommands.slice(1);document.cookie=`${O}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/`,m.writer.writeSuccess("Cookie removed successfully")});return function(m,O){return o.apply(this,arguments)}}()}]}processCommand(o,c){return(0,Se.A)(function*(){yield c.executor.showHelp(o,c)})()}writeDescription(o){const{writer:c}=o;c.writeln("Read, write, and delete browser cookies"),c.writeln(),c.writeln("\u{1f4cb} Commands:"),c.writeln(`  ${c.wrapInColor("cookies list",ze.tT.Cyan)}                    \u{1f36a} List all cookies`),c.writeln(`  ${c.wrapInColor("cookies get <key>",ze.tT.Cyan)}                Read a cookie value`),c.writeln(`  ${c.wrapInColor("cookies set <key> <value>",ze.tT.Cyan)}        Write a cookie`),c.writeln(`  ${c.wrapInColor("cookies remove <key>",ze.tT.Cyan)}             Delete a cookie`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln(`  cookies set lang en              ${c.wrapInColor("# Set a cookie",ze.tT.Green)}`),c.writeln(`  cookies get lang                 ${c.wrapInColor("# Read a cookie",ze.tT.Green)}`),c.writeln(`  cookies list                     ${c.wrapInColor("# Show all cookies",ze.tT.Green)}`)}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),Wd=(()=>{class f{constructor(){var o;this.command="local-storage",this.description="Interact with the local storage",this.author=ze.ep,this.processors=[],this.version="0.0.3",this.metadata={requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.processors=[{command:"get",allowUnlistedCommands:!0,description:"Get the value of a key",processCommand:(o=(0,Se.A)(function*(c,m){const[O]=c.chainCommands.slice(1),K=localStorage.getItem(O);m.writer.writeln(K||"null")}),function(m,O){return o.apply(this,arguments)})},{command:"set",allowUnlistedCommands:!0,description:"Set the value of a key",processCommand:function(){var o=(0,Se.A)(function*(c,m){const[O,...K]=c.chainCommands.slice(1);localStorage.setItem(O,K.join(" ")),m.writer.writeSuccess("Value set successfully")});return function(m,O){return o.apply(this,arguments)}}()},{command:"remove",allowUnlistedCommands:!0,description:"Remove a key",processCommand:function(){var o=(0,Se.A)(function*(c,m){const[O]=c.chainCommands.slice(2);localStorage.removeItem(O),m.writer.writeSuccess("Key removed successfully")});return function(m,O){return o.apply(this,arguments)}}()}]}processCommand(o,c){return(0,Se.A)(function*(){yield c.executor.showHelp(o,c)})()}writeDescription(o){const{writer:c}=o;c.writeln("Read, write, and delete keys from the browser local storage"),c.writeln(),c.writeln("\u{1f4cb} Commands:"),c.writeln(`  ${c.wrapInColor("local-storage get <key>",ze.tT.Cyan)}             Read a value`),c.writeln(`  ${c.wrapInColor("local-storage set <key> <value>",ze.tT.Cyan)}     Write a value`),c.writeln(`  ${c.wrapInColor("local-storage remove <key>",ze.tT.Cyan)}          Delete a key`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln(`  local-storage set theme dark          ${c.wrapInColor("# Store a value",ze.tT.Green)}`),c.writeln(`  local-storage get theme               ${c.wrapInColor("# Read a value",ze.tT.Green)}`),c.writeln(`  local-storage remove theme            ${c.wrapInColor("# Delete a key",ze.tT.Green)}`)}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),Hd=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(va),(0,Er.P7)(Wd)]})}}return f})();var Nh=a(7673);class jd{constructor(){}canView(){return(0,Nh.of)(!0)}}var Qc=a(7376);const go=Qc||a.t(Qc,2);function Ri(f,i,o,c){return{command:f,aliases:c?.aliases,description:i,allowUnlistedCommands:!0,valueRequired:!0,processCommand:(m=(0,Se.A)(function*(O,K){const he=o(O.value||O.data||"");K.writer.writeln(`${K.writer.wrapInColor("Result: ",ze.tT.Yellow)}${he}`),K.process.output(he)}),function(K,ee){return m.apply(this,arguments)}),writeDescription:m=>{const{writer:O}=m;O.writeln(i),O.writeln(),O.writeln("\u{1f4cb} Usage:"),O.writeln(`  ${O.wrapInColor(`string ${f} <text>`,ze.tT.Cyan)}`),c?.example&&(O.writeln(),O.writeln("\u{1f4dd} Examples:"),O.writeln(`  string ${f} ${c.example.input.padEnd(20)} ${O.wrapInColor(`# \u2192 ${c.example.output}`,ze.tT.Green)}`))}};var m}let qu=(()=>{class f{constructor(){var o;this.command="string",this.aliases=["str"],this.description="String manipulation commands",this.author=ze.ep,this.version="0.0.3",this.processors=[],this.metadata={icon:"\u{1f524}",requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.processors=[Ri("upper","Convert to UPPERCASE",o=>o.toUpperCase(),{aliases:["uppercase","toUpper"],example:{input:"hello world",output:"HELLO WORLD"}}),Ri("lower","Convert to lowercase",o=>o.toLowerCase(),{aliases:["lowercase","toLower"],example:{input:"HELLO WORLD",output:"hello world"}}),Ri("capitalize","Capitalize the first letter",o=>go.capitalize(o),{aliases:["cap"],example:{input:"hello world",output:"Hello world"}}),Ri("camelCase","Convert to camelCase",o=>go.camelCase(o),{aliases:["camel"],example:{input:"hello world",output:"helloWorld"}}),Ri("kebabCase","Convert to kebab-case",o=>go.kebabCase(o),{aliases:["kebab"],example:{input:"Hello World",output:"hello-world"}}),Ri("snakeCase","Convert to snake_case",o=>go.snakeCase(o),{aliases:["snake"],example:{input:"Hello World",output:"hello_world"}}),Ri("startCase","Convert to Start Case",o=>go.startCase(o),{aliases:["title","titleCase"],example:{input:"hello-world",output:"Hello World"}}),Ri("trim","Remove whitespace from both ends",o=>o.trim(),{example:{input:'"  hello  "',output:"hello"}}),Ri("trimStart","Remove whitespace from the start",o=>o.trimStart(),{aliases:["ltrim"],example:{input:'"  hello"',output:"hello"}}),Ri("trimEnd","Remove whitespace from the end",o=>o.trimEnd(),{aliases:["rtrim"],example:{input:'"hello  "',output:"hello"}}),Ri("reverse","Reverse a string",o=>[...o].reverse().join(""),{aliases:["rev"],example:{input:"Hello",output:"olleH"}}),Ri("slug","Convert to URL-friendly slug",o=>o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),{aliases:["slugify"],example:{input:'"Hello World!"',output:"hello-world"}}),Ri("escape","Escape HTML entities",o=>go.escape(o),{aliases:["escapeHtml"],example:{input:'"<b>hi</b>"',output:"&lt;b&gt;hi&lt;/b&gt;"}}),Ri("unescape","Unescape HTML entities",o=>go.unescape(o),{aliases:["unescapeHtml"],example:{input:'"&lt;b&gt;"',output:"<b>"}}),{command:"repeat",description:"Repeat a string N times",allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"count",aliases:["n"],description:"Number of repetitions (default: 2)",type:"number",required:!1},{name:"separator",aliases:["sep"],description:"Separator between repetitions (default: none)",type:"string",required:!1}],processCommand:(o=(0,Se.A)(function*(c,m){const O=c.value||c.data||"",K=Math.min(parseInt(c.args.count||c.args.n)||2,1e3),ee=c.args.separator||c.args.sep||"",he=Array(K).fill(O).join(ee);m.writer.writeln(`${m.writer.wrapInColor("Result: ",ze.tT.Yellow)}${he}`),m.process.output(he)}),function(m,O){return o.apply(this,arguments)}),writeDescription:o=>{const{writer:c}=o;c.writeln("Repeat a string multiple times"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string repeat <text> [--count=N] [--sep=S]",ze.tT.Cyan)}`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln(`  string repeat ha --count=3        ${c.wrapInColor("# \u2192 hahaha",ze.tT.Green)}`),c.writeln(`  string repeat ab --n=3 --sep=-    ${c.wrapInColor("# \u2192 ab-ab-ab",ze.tT.Green)}`)}},{command:"replace",description:"Replace occurrences in a string",allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"find",aliases:["f"],description:"Text to find",type:"string",required:!0},{name:"with",aliases:["w"],description:"Replacement text",type:"string",required:!0}],processCommand:function(){var o=(0,Se.A)(function*(c,m){const O=c.value||c.data||"",K=c.args.find||c.args.f||"",ee=c.args.with||c.args.w||"";if(!K)return m.writer.writeError("--find is required"),void m.process.exit(-1);const he=O.split(K).join(ee);m.writer.writeln(`${m.writer.wrapInColor("Result: ",ze.tT.Yellow)}${he}`),m.process.output(he)});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Replace all occurrences of a substring"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string replace <text> --find=<search> --with=<replacement>",ze.tT.Cyan)}`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln('  string replace "hello world" --find=world --with=there'),c.writeln(`  ${c.wrapInColor("# \u2192 hello there",ze.tT.Green)}`)}},{command:"truncate",aliases:["trunc"],description:"Truncate a string to a max length",allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"length",aliases:["l"],description:"Maximum length (default: 30)",type:"number",required:!1},{name:"suffix",description:"Omission suffix (default: ...)",type:"string",required:!1}],processCommand:function(){var o=(0,Se.A)(function*(c,m){const O=c.value||c.data||"",K=parseInt(c.args.length||c.args.l)||30,ee=c.args.suffix??"...",he=O.length>K?O.substring(0,K-ee.length)+ee:O;m.writer.writeln(`${m.writer.wrapInColor("Result: ",ze.tT.Yellow)}${he}`),m.process.output(he)});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Truncate a string to a maximum length with an ellipsis"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string truncate <text> [--length=N] [--suffix=S]",ze.tT.Cyan)}`)}},{command:"pad",description:"Pad a string to a target length",allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"length",aliases:["l"],description:"Target length",type:"number",required:!0},{name:"char",aliases:["c"],description:"Padding character (default: space)",type:"string",required:!1},{name:"side",description:"Pad side: left, right, both (default: both)",type:"string",required:!1}],processCommand:function(){var o=(0,Se.A)(function*(c,m){const O=c.value||c.data||"",K=parseInt(c.args.length||c.args.l),ee=c.args.char||c.args.c||" ",he=c.args.side||"both";if(isNaN(K))return m.writer.writeError("--length is required"),void m.process.exit(-1);let ye;switch(he){case"left":case"start":ye=O.padStart(K,ee);break;case"right":case"end":ye=O.padEnd(K,ee);break;default:ye=go.pad(O,K,ee)}m.writer.writeln(`${m.writer.wrapInColor("Result: ",ze.tT.Yellow)}"${ye}"`),m.process.output(ye)});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Pad a string to a target length"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string pad <text> --length=N [--char=C] [--side=left|right|both]",ze.tT.Cyan)}`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln("  string pad hello --length=10 --char=. --side=right"),c.writeln(`  ${c.wrapInColor('# \u2192 "hello....."',ze.tT.Green)}`)}},{command:"split",description:"Split a string by a delimiter",allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"by",aliases:["d","delimiter"],description:"Delimiter to split by (default: space)",type:"string",required:!1}],processCommand:function(){var o=(0,Se.A)(function*(c,m){const ee=(c.value||c.data||"").split(c.args.by||c.args.d||c.args.delimiter||" "),{writer:he}=m;ee.forEach((ye,ke)=>{he.writeln(`  ${he.wrapInColor(String(ke).padStart(3),ze.tT.Yellow)}  ${ye}`)}),m.process.output(ee)});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Split a string into parts by a delimiter"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string split <text> [--by=<delimiter>]",ze.tT.Cyan)}`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln(`  string split "a,b,c" --by=,      ${c.wrapInColor("# \u2192 a  b  c",ze.tT.Green)}`)}},{command:"words",description:"Split a string into words",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var o=(0,Se.A)(function*(c,m){const K=go.words(c.value||c.data||""),{writer:ee}=m;ee.writeln(`${ee.wrapInColor(`${K.length} words:`,ze.tT.Yellow)} ${K.join(", ")}`),m.process.output(K)});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Split a string into its component words"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string words <text>",ze.tT.Cyan)}`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln(`  string words "helloWorld"         ${c.wrapInColor("# \u2192 hello, World",ze.tT.Green)}`),c.writeln(`  string words "foo-bar_baz"        ${c.wrapInColor("# \u2192 foo, bar, baz",ze.tT.Green)}`)}},{command:"length",aliases:["len"],description:"Get the length of a string",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var o=(0,Se.A)(function*(c,m){const O=c.value||c.data||"";m.writer.writeln(`${m.writer.wrapInColor("Result: ",ze.tT.Yellow)}${O.length}`),m.process.output(O.length)});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Get the character count of a string"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string length <text>",ze.tT.Cyan)}`)}},{command:"wc",aliases:["wordcount","count"],description:"Count lines, words, characters, and bytes",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var o=(0,Se.A)(function*(c,m){const O=c.value||c.data||"",{writer:K}=m,ee=O.split(/\r?\n/).length,he=O.trim()?O.trim().split(/\s+/).length:0,ye=O.length,ke=(new TextEncoder).encode(O).length;K.writeln(`  ${K.wrapInColor("Lines:",ze.tT.Cyan)}       ${ee}`),K.writeln(`  ${K.wrapInColor("Words:",ze.tT.Cyan)}       ${he}`),K.writeln(`  ${K.wrapInColor("Characters:",ze.tT.Cyan)}  ${ye}`),K.writeln(`  ${K.wrapInColor("Bytes:",ze.tT.Cyan)}       ${ke}`),m.process.output({lines:ee,words:he,chars:ye,bytes:ke})});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Count lines, words, characters, and bytes in text"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string wc <text>",ze.tT.Cyan)}`)}},{command:"includes",aliases:["contains","has"],description:"Check if a string contains a substring",allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"find",aliases:["f"],description:"Substring to search for",type:"string",required:!0}],processCommand:function(){var o=(0,Se.A)(function*(c,m){const K=c.args.find||c.args.f||"",ee=(c.value||c.data||"").includes(K),{writer:he}=m;ee?he.writeSuccess(`"${K}" found in string`):he.writeError(`"${K}" not found in string`),m.process.output(ee)});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Check if a string contains a given substring"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string includes <text> --find=<substring>",ze.tT.Cyan)}`)}},{command:"startsWith",description:"Check if a string starts with a prefix",allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"find",aliases:["f"],description:"Prefix to check",type:"string",required:!0}],processCommand:function(){var o=(0,Se.A)(function*(c,m){const ee=(c.value||c.data||"").startsWith(c.args.find||c.args.f||""),{writer:he}=m;he.writeln(`${he.wrapInColor("Result: ",ze.tT.Yellow)}${ee}`),m.process.output(ee)});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Check if a string starts with a given prefix"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string startsWith <text> --find=<prefix>",ze.tT.Cyan)}`)}},{command:"endsWith",description:"Check if a string ends with a suffix",allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"find",aliases:["f"],description:"Suffix to check",type:"string",required:!0}],processCommand:function(){var o=(0,Se.A)(function*(c,m){const ee=(c.value||c.data||"").endsWith(c.args.find||c.args.f||""),{writer:he}=m;he.writeln(`${he.wrapInColor("Result: ",ze.tT.Yellow)}${ee}`),m.process.output(ee)});return function(m,O){return o.apply(this,arguments)}}(),writeDescription:o=>{const{writer:c}=o;c.writeln("Check if a string ends with a given suffix"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("string endsWith <text> --find=<suffix>",ze.tT.Cyan)}`)}}]}processCommand(o,c){return(0,Se.A)(function*(){c.executor.showHelp(o,c)})()}writeDescription(o){const{writer:c}=o;c.writeln("String manipulation and analysis commands"),c.writeln(),c.writeln(c.wrapInColor("\u{1f520} Case Conversions:",ze.tT.Yellow)),c.writeln(`  ${c.wrapInColor("string upper",ze.tT.Cyan)} / ${c.wrapInColor("lower",ze.tT.Cyan)} / ${c.wrapInColor("capitalize",ze.tT.Cyan)}`),c.writeln(`  ${c.wrapInColor("string camelCase",ze.tT.Cyan)} / ${c.wrapInColor("kebabCase",ze.tT.Cyan)} / ${c.wrapInColor("snakeCase",ze.tT.Cyan)} / ${c.wrapInColor("startCase",ze.tT.Cyan)}`),c.writeln(),c.writeln(c.wrapInColor("\u{1f527} Transform:",ze.tT.Yellow)),c.writeln(`  ${c.wrapInColor("string reverse",ze.tT.Cyan)} / ${c.wrapInColor("trim",ze.tT.Cyan)} / ${c.wrapInColor("slug",ze.tT.Cyan)} / ${c.wrapInColor("repeat",ze.tT.Cyan)} / ${c.wrapInColor("replace",ze.tT.Cyan)} / ${c.wrapInColor("truncate",ze.tT.Cyan)}`),c.writeln(`  ${c.wrapInColor("string pad",ze.tT.Cyan)} / ${c.wrapInColor("escape",ze.tT.Cyan)} / ${c.wrapInColor("unescape",ze.tT.Cyan)}`),c.writeln(),c.writeln(c.wrapInColor("\u{1f50d} Analysis:",ze.tT.Yellow)),c.writeln(`  ${c.wrapInColor("string length",ze.tT.Cyan)} / ${c.wrapInColor("wc",ze.tT.Cyan)} / ${c.wrapInColor("includes",ze.tT.Cyan)} / ${c.wrapInColor("startsWith",ze.tT.Cyan)} / ${c.wrapInColor("endsWith",ze.tT.Cyan)}`),c.writeln(`  ${c.wrapInColor("string split",ze.tT.Cyan)} / ${c.wrapInColor("words",ze.tT.Cyan)}`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln(`  string camelCase "hello world"       ${c.wrapInColor("# \u2192 helloWorld",ze.tT.Green)}`),c.writeln(`  string reverse Hello                 ${c.wrapInColor("# \u2192 olleH",ze.tT.Green)}`),c.writeln(`  string slug "Hello World!"           ${c.wrapInColor("# \u2192 hello-world",ze.tT.Green)}`),c.writeln(`  string wc "some text here"           ${c.wrapInColor("# word/char counts",ze.tT.Green)}`)}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})(),qd=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(qu)]})}}return f})(),hc=(()=>{class f{constructor(){this.command="todo",this.description="A command-line tool for managing your tasks efficiently. Add, list, complete, and remove TODO items with simple commands.",this.author=ze.ep,this.version="0.0.6",this.processors=[],this.metadata={icon:"\u{1f4dd}",requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.stateConfiguration={initialState:{todos:this.loadFromOldStorage()??[]}},this.todos=[],this.nextId=1,this.registerSubProcessors()}processCommand(o,c){return(0,Se.A)(function*(){c.executor.showHelp(o,c)})()}writeDescription(o){const{writer:c}=o;c.writeln(this.description),c.writeln(),c.writeln("\u{1f4cb} Commands:"),c.writeln(`  ${c.wrapInColor("todo ls",ze.tT.Cyan)}               \u{1f4c3} List all TODO items`),c.writeln(`  ${c.wrapInColor("todo add <text>",ze.tT.Cyan)}        \u2795 Add a new TODO item`),c.writeln(`  ${c.wrapInColor("todo rm <id>",ze.tT.Cyan)}           \u{1f5d1}  Remove a TODO item by ID`),c.writeln(`  ${c.wrapInColor("todo rm --all",ze.tT.Cyan)}          \u{1f5d1}  Remove all TODO items`),c.writeln(`  ${c.wrapInColor("todo complete <id>",ze.tT.Cyan)}     \u2714  Mark a TODO as completed`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln(`  todo add Buy milk                ${c.wrapInColor("# Add a new task",ze.tT.Green)}`),c.writeln(`  todo ls                          ${c.wrapInColor("# View all tasks",ze.tT.Green)}`),c.writeln(`  todo complete 1                  ${c.wrapInColor("# Mark task #1 done",ze.tT.Green)}`),c.writeln(`  todo rm 2                        ${c.wrapInColor("# Delete task #2",ze.tT.Green)}`)}initialize(o){var c=this;return(0,Se.A)(function*(){o.state.select(m=>m.todos).subscribe(m=>{c.todos=m,c.nextId=c.todos.length>0?Math.max(...c.todos.map(O=>O.id))+1:1})})()}lineThroughText(o){return o.split("").map(c=>c+"\u0336").join("")}registerSubProcessors(){var c,o=this;this.processors=[{command:"ls",description:"List all TODO items",processCommand:(c=(0,Se.A)(function*(m,O){if(0===o.todos.length)return O.writer.writeWarning("No TODO items found."),O.writer.writeln('Use "todo add <text>" to add a new TODO item.'),void O.process.output(JSON.stringify(o.todos));o.todos.forEach(K=>{O.writer.writeln(`[${K.completed?O.writer.wrapInColor(ze.E9.CheckIcon,ze.tT.Green):" "}] #${K.id} - ${K.text}`)}),O.process.output(o.todos)}),function(O,K){return c.apply(this,arguments)})},{command:"add",description:"Add a new TODO item",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var c=(0,Se.A)(function*(m,O){const K=m.value;if(!K)return void O.writer.writeError("Please provide a TODO description.");const ee={id:o.nextId++,text:K,completed:!1};o.todos.push(ee),yield o.saveToStorage(O),O.writer.writeSuccess(`Added TODO: "${K}"`),O.process.output(ee.id.toString())});return function(O,K){return c.apply(this,arguments)}}()},{command:"rm",description:"Remove a TODO item by ID",allowUnlistedCommands:!0,parameters:[{name:"all",description:"Remove all TODO items",type:"boolean",defaultValue:!1,aliases:["a"],required:!1}],processCommand:function(){var c=(0,Se.A)(function*(m,O){if(m.args.all||m.args.a)return o.todos=[],yield o.saveToStorage(O),void O.writer.writeSuccess("Removed all TODO items.");const K=parseInt(m.value,10);if(isNaN(K))return void O.writer.writeError("Please provide a valid TODO ID.");const ee=o.todos.findIndex(he=>he.id===K);-1!==ee?(o.todos.splice(ee,1),yield o.saveToStorage(O),O.writer.writeSuccess(`Removed TODO item with ID ${K}.`)):O.writer.writeInfo(`TODO item with ID ${K} not found.`)});return function(O,K){return c.apply(this,arguments)}}()},{command:"complete",description:"Mark a TODO item as completed by ID",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var c=(0,Se.A)(function*(m,O){const K=parseInt(m.value||"",10);if(isNaN(K))return void O.writer.writeln("Please provide a valid TODO ID.");const ee=o.todos.find(he=>he.id===K);ee?ee.completed?O.writer.writeInfo(`TODO item with ID ${K} is already completed.`):(ee.completed=!0,yield o.saveToStorage(O),O.writer.writeSuccess(`Marked TODO item with ID ${K} as completed.`)):O.writer.writeError(`TODO item with ID ${K} not found.`)});return function(O,K){return c.apply(this,arguments)}}()}]}loadFromOldStorage(){const o=localStorage.getItem("todo-items");return o?JSON.parse(o):[]}saveToStorage(o){var c=this;return(0,Se.A)(function*(){o.state.updateState({todos:c.todos}),yield o.state.persist(),localStorage.removeItem("todo-items")})()}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})(),Vu=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(hc)]})}}return f})(),Xr=(()=>{class f{constructor(){this.command="curl",this.description="A command-line tool to execute HTTP requests on your server. Supports GET, POST, PUT, DELETE, headers, and body data.",this.author=ze.ep,this.version="0.0.4",this.processors=[],this.metadata={icon:"\u{1f310}",requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.registerSubProcessors()}processCommand(o,c){return(0,Se.A)(function*(){c.executor.showHelp(o,c)})()}initialize(o){return(0,Se.A)(function*(){})()}registerSubProcessors(){var c,o=this;this.processors=[{command:"get",description:"Perform an HTTP GET request",valueRequired:!0,parameters:[{name:"header",aliases:["H"],type:"array",description:"Add custom headers. Accept multiple headers.",required:!1},{name:"proxy",type:"boolean",description:"Use procy",required:!1}],processCommand:(c=(0,Se.A)(function*(m,O){yield o.executeRequest("GET",m,O)}),function(O,K){return c.apply(this,arguments)})},{command:"post",description:"Perform an HTTP POST request",valueRequired:!0,parameters:[{name:"header",aliases:["H"],type:"array",description:"Add custom headers",required:!1},{name:"data",aliases:["d"],type:"string",description:"Request body",required:!1},{name:"proxy",type:"boolean",description:"Use procy",required:!1}],processCommand:function(){var c=(0,Se.A)(function*(m,O){yield o.executeRequest("POST",m,O)});return function(O,K){return c.apply(this,arguments)}}()},{command:"put",description:"Perform an HTTP PUT request",valueRequired:!0,parameters:[{name:"header",aliases:["H"],type:"array",description:"Add custom headers",required:!1},{name:"data",aliases:["d"],type:"string",description:"Request body",required:!1},{name:"proxy",type:"boolean",description:"Use procy",required:!1}],processCommand:function(){var c=(0,Se.A)(function*(m,O){yield o.executeRequest("PUT",m,O)});return function(O,K){return c.apply(this,arguments)}}()},{command:"delete",description:"Perform an HTTP DELETE request",valueRequired:!0,parameters:[{name:"header",aliases:["H"],type:"array",description:"Add custom headers",required:!1},{name:"proxy",type:"boolean",description:"Use procy",required:!1}],processCommand:function(){var c=(0,Se.A)(function*(m,O){yield o.executeRequest("DELETE",m,O)});return function(O,K){return c.apply(this,arguments)}}()}]}executeRequest(o,c,m){var O=this;return(0,Se.A)(function*(){const K=c.value,ee=c.args.header||c.args.H||[],he=c.args.data||c.args.d,ye=!!c.args.verbose,ke=!!c.args.proxy;if(!K)return void m.writer.writeError("URL is required.");const Ve=ee.reduce((Pt,ot)=>{const[Ct,Dt]=ot.split(":").map(Un=>Un.trim());return Ct&&Dt&&(Pt[Ct]=Dt),Pt},{}),mt={method:o,headers:Ve,body:he?JSON.stringify(JSON.parse(he)):void 0};try{const Pt=ke?O.rewriteUrlToProxy(K):K,ot=yield fetch(Pt,mt),Ct=yield ot.text();m.writer.writeSuccess("Request successful:"),ye&&(m.writer.writeln(`Status: ${ot.status}`),m.writer.writeln(`Headers: ${JSON.stringify(ot.headers,null,2)}`)),m.writer.writeln(Ct),m.process.output(Ct)}catch(Pt){m.writer.writeError(`Request failed: ${Pt}`),m.process.exit(-1)}finally{m.writer.writeln(),m.writer.writeInfo("Equivalent curl command:"),m.writer.writeln(O.generateCurlCommand(K,o,ee,he))}})()}generateCurlCommand(o,c,m,O){return`curl -X ${c} ${m.map(he=>`-H "${he}"`).join(" ")} ${O?`-d '${O}'`:""} "${o}"`}rewriteUrlToProxy(o){const m=o.match(/^(https?):\/\/([^\/]+)(\/.*)?$/i);if(!m)throw new Error("Invalid URL provided");return`https://proxy.qodalis.com/proxy/${m[1]}/${m[2]}${m[3]||"/"}`}writeDescription(o){const{writer:c}=o;c.writeln(this.description),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("curl <method> <url> [options]",ze.tT.Cyan)}`),c.writeln(),c.writeln("\u2699\ufe0f  Options:"),c.writeln(`  ${c.wrapInColor("-H, --header",ze.tT.Yellow)}     Add custom headers`),c.writeln(`  ${c.wrapInColor("-d, --data",ze.tT.Yellow)}       Add request body (JSON)`),c.writeln(`  ${c.wrapInColor("--verbose",ze.tT.Yellow)}        Print detailed response (status, headers)`),c.writeln(`  ${c.wrapInColor("--proxy",ze.tT.Yellow)}          Route request through proxy`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln("  curl get https://api.example.com/users"),c.writeln('  curl post https://api.example.com/users -d=\'{"name":"John"}\' -H="Content-Type: application/json"'),c.writeln("  curl delete https://api.example.com/users/1 --proxy"),c.writeln(),c.writeWarning("\u26a0\ufe0f  The server must allow CORS for this tool to work")}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})(),Rl=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(Xr)]})}}return f})(),wa=(()=>{class f{constructor(){this.command="generate-password",this.description="Generate a secure password",this.author=ze.ep,this.version="0.0.3",this.processors=[],this.metadata={requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.parameters=[{name:"length",description:"Length of the password",type:"number",required:!1,defaultValue:16},{name:"symbols",description:"Include symbols (!@#$%)",type:"boolean",required:!1,defaultValue:!1},{name:"uppercase",description:"Include uppercase letters",type:"boolean",required:!1,defaultValue:!0},{name:"numbers",description:"Include numbers (0-9)",type:"boolean",required:!1,defaultValue:!0}]}processCommand(o,c){var m=this;return(0,Se.A)(function*(){const ye=m.generatePassword(o.args.length||m.parameters[0].defaultValue,o.args.symbols||m.parameters[1].defaultValue,o.args.uppercase??m.parameters[2].defaultValue,o.args.numbers??m.parameters[3].defaultValue);c.writer.writeSuccess(`Generated Password: ${c.writer.wrapInColor(ye,ze.tT.White)}`),c.process.output(ye)})()}generatePassword(o,c,m,O){let ke="abcdefghijklmnopqrstuvwxyz";m&&(ke+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),O&&(ke+="0123456789"),c&&(ke+="!@#$%^&*()_+[]{}|;:,.<>?");let Ve="";for(let mt=0;mt<o;mt++)Ve+=ke.charAt(Math.floor(Math.random()*ke.length));return Ve}writeDescription(o){const{writer:c}=o;c.writeln(this.description),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor("generate-password [options]",ze.tT.Cyan)}`),c.writeln(),c.writeln("\u2699\ufe0f  Options:"),c.writeln(`  ${c.wrapInColor("--length=<n>",ze.tT.Yellow)}          Password length (default: 16)`),c.writeln(`  ${c.wrapInColor("--symbols",ze.tT.Yellow)}             Include symbols (!@#$%)`),c.writeln(`  ${c.wrapInColor("--uppercase",ze.tT.Yellow)}           Include uppercase (default: true)`),c.writeln(`  ${c.wrapInColor("--numbers",ze.tT.Yellow)}             Include numbers (default: true)`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln(`  generate-password                            ${c.wrapInColor("# 16-char password",ze.tT.Green)}`),c.writeln(`  generate-password --length=32 --symbols      ${c.wrapInColor("# 32-char with symbols",ze.tT.Green)}`)}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})(),Fh=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(wa)]})}}return f})();var zu=a(3524);let Vd=(()=>{class f{constructor(){var o;this.command="qr",this.description='Provide utility functions to generate QR codes. Usage: qr generate --text "https://example.com" --fileName "my-qr"',this.author=ze.ep,this.version="0.0.3",this.processors=[],this.metadata={requiredCoreVersion:"0.0.16",requiredCliVersion:"1.0.37"},this.processors=[{command:"generate",description:'Generate a QR code and download it as PNG. Usage: qr generate --text "https://example.com"',parameters:[{name:"text",description:"Text or URL to encode as a QR code",type:"string",required:!0},{name:"fileName",description:"the file name",type:"string",required:!1}],processCommand:(o=(0,Se.A)(function*(c,m){const O=c.args.text;if(!O)return void m.writer.writeError("Missing required parameter: --text");const K=c.args.fileName||"qr-code";try{yield new zu({width:300,height:300,data:O,type:"svg"}).download({name:K,extension:"png"}),m.writer.writeSuccess(`QR Code for "${O}" downloaded as ${K}.png`)}catch(ee){m.writer.writeError(`Failed to generate QR code: ${ee}`)}}),function(m,O){return o.apply(this,arguments)})}]}processCommand(o,c){return(0,Se.A)(function*(){c.executor.showHelp(o,c)})()}writeDescription(o){const{writer:c}=o;c.writeln("Generate QR codes from text or URLs and download as PNG"),c.writeln(),c.writeln("\u{1f4cb} Usage:"),c.writeln(`  ${c.wrapInColor('qr generate --text="<content>"',ze.tT.Cyan)}`),c.writeln(),c.writeln("\u2699\ufe0f  Options:"),c.writeln(`  ${c.wrapInColor("--text",ze.tT.Yellow)}          Text or URL to encode (required)`),c.writeln(`  ${c.wrapInColor("--fileName",ze.tT.Yellow)}      Output filename (default: qr-code)`),c.writeln(),c.writeln("\u{1f4dd} Examples:"),c.writeln(`  qr generate --text="https://example.com"                ${c.wrapInColor("# URL QR code",ze.tT.Green)}`),c.writeln(`  qr generate --text="Hello!" --fileName="my-qr"          ${c.wrapInColor("# Custom filename",ze.tT.Green)}`)}static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})(),Wh=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({providers:[(0,Er.P7)(Vd)]})}}return f})(),zd=(()=>{class f{static{this.\u0275fac=function(c){return new(c||f)}}static{this.\u0275mod=w.$C({type:f,bootstrap:[uo]})}static{this.\u0275inj=w.G2t({providers:[{useClass:tt,provide:Er.Go},{useClass:jd,provide:Er.N9},(0,Er.P7)(st)],imports:[p.Bb,gl,Er.Fo,md,ft,pu,la,Xc,Hd,qd,Vu,Rl,Fh,Wh]})}}return f})();p.sG().bootstrapModule(zd).catch(f=>console.error(f))},8389:fe=>{self,fe.exports=(()=>{"use strict";var a,$={};return a=$,Object.defineProperty(a,"__esModule",{value:!0}),a.FitAddon=void 0,a.FitAddon=class{activate(d){this._terminal=d}dispose(){}fit(){const d=this.proposeDimensions();d&&this._terminal&&!isNaN(d.cols)&&!isNaN(d.rows)&&(this._terminal.rows===d.rows&&this._terminal.cols===d.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(d.cols,d.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const d=this._terminal._core,p=d._renderService.dimensions;if(0===p.css.cell.width||0===p.css.cell.height)return;const w=0===this._terminal.options.scrollback?0:d.viewport.scrollBarWidth,_=window.getComputedStyle(this._terminal.element.parentElement),g=parseInt(_.getPropertyValue("height")),b=Math.max(0,parseInt(_.getPropertyValue("width"))),A=window.getComputedStyle(this._terminal.element),T=g-(parseInt(A.getPropertyValue("padding-top"))+parseInt(A.getPropertyValue("padding-bottom"))),k=b-(parseInt(A.getPropertyValue("padding-right"))+parseInt(A.getPropertyValue("padding-left")))-w;return{cols:Math.max(2,Math.floor(k/p.css.cell.width)),rows:Math.max(1,Math.floor(T/p.css.cell.height))}}},$})()},3205:function(fe){fe.exports=(()=>{"use strict";var $={433:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.UnicodeV11=void 0;const b=g(938),A=[[768,879],[1155,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1541],[1552,1562],[1564,1564],[1611,1631],[1648,1648],[1750,1757],[1759,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2045,2045],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2259,2306],[2362,2362],[2364,2364],[2369,2376],[2381,2381],[2385,2391],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2558,2558],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2641,2641],[2672,2673],[2677,2677],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2810,2815],[2817,2817],[2876,2876],[2879,2879],[2881,2884],[2893,2893],[2902,2902],[2914,2915],[2946,2946],[3008,3008],[3021,3021],[3072,3072],[3076,3076],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3170,3171],[3201,3201],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3328,3329],[3387,3388],[3393,3396],[3405,3405],[3426,3427],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3981,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4151],[4153,4154],[4157,4158],[4184,4185],[4190,4192],[4209,4212],[4226,4226],[4229,4230],[4237,4237],[4253,4253],[4448,4607],[4957,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6158],[6277,6278],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6683,6683],[6742,6742],[6744,6750],[6752,6752],[6754,6754],[6757,6764],[6771,6780],[6783,6783],[6832,6846],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7040,7041],[7074,7077],[7080,7081],[7083,7085],[7142,7142],[7144,7145],[7149,7149],[7151,7153],[7212,7219],[7222,7223],[7376,7378],[7380,7392],[7394,7400],[7405,7405],[7412,7412],[7416,7417],[7616,7673],[7675,7679],[8203,8207],[8234,8238],[8288,8292],[8294,8303],[8400,8432],[11503,11505],[11647,11647],[11744,11775],[12330,12333],[12441,12442],[42607,42610],[42612,42621],[42654,42655],[42736,42737],[43010,43010],[43014,43014],[43019,43019],[43045,43046],[43204,43205],[43232,43249],[43263,43263],[43302,43309],[43335,43345],[43392,43394],[43443,43443],[43446,43449],[43452,43453],[43493,43493],[43561,43566],[43569,43570],[43573,43574],[43587,43587],[43596,43596],[43644,43644],[43696,43696],[43698,43700],[43703,43704],[43710,43711],[43713,43713],[43756,43757],[43766,43766],[44005,44005],[44008,44008],[44013,44013],[64286,64286],[65024,65039],[65056,65071],[65279,65279],[65529,65531]],T=[[66045,66045],[66272,66272],[66422,66426],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[68325,68326],[68900,68903],[69446,69456],[69633,69633],[69688,69702],[69759,69761],[69811,69814],[69817,69818],[69821,69821],[69837,69837],[69888,69890],[69927,69931],[69933,69940],[70003,70003],[70016,70017],[70070,70078],[70089,70092],[70191,70193],[70196,70196],[70198,70199],[70206,70206],[70367,70367],[70371,70378],[70400,70401],[70459,70460],[70464,70464],[70502,70508],[70512,70516],[70712,70719],[70722,70724],[70726,70726],[70750,70750],[70835,70840],[70842,70842],[70847,70848],[70850,70851],[71090,71093],[71100,71101],[71103,71104],[71132,71133],[71219,71226],[71229,71229],[71231,71232],[71339,71339],[71341,71341],[71344,71349],[71351,71351],[71453,71455],[71458,71461],[71463,71467],[71727,71735],[71737,71738],[72148,72151],[72154,72155],[72160,72160],[72193,72202],[72243,72248],[72251,72254],[72263,72263],[72273,72278],[72281,72283],[72330,72342],[72344,72345],[72752,72758],[72760,72765],[72767,72767],[72850,72871],[72874,72880],[72882,72883],[72885,72886],[73009,73014],[73018,73018],[73020,73021],[73023,73029],[73031,73031],[73104,73105],[73109,73109],[73111,73111],[73459,73460],[78896,78904],[92912,92916],[92976,92982],[94031,94031],[94095,94098],[113821,113822],[113824,113827],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[121344,121398],[121403,121452],[121461,121461],[121476,121476],[121499,121503],[121505,121519],[122880,122886],[122888,122904],[122907,122913],[122915,122916],[122918,122922],[123184,123190],[123628,123631],[125136,125142],[125252,125258],[917505,917505],[917536,917631],[917760,917999]],k=[[4352,4447],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9725,9726],[9748,9749],[9800,9811],[9855,9855],[9875,9875],[9889,9889],[9898,9899],[9917,9918],[9924,9925],[9934,9934],[9940,9940],[9962,9962],[9970,9971],[9973,9973],[9978,9978],[9981,9981],[9989,9989],[9994,9995],[10024,10024],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11093],[11904,11929],[11931,12019],[12032,12245],[12272,12283],[12288,12329],[12334,12350],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12730],[12736,12771],[12784,12830],[12832,12871],[12880,19903],[19968,42124],[42128,42182],[43360,43388],[44032,55203],[63744,64255],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65281,65376],[65504,65510]],U=[[94176,94179],[94208,100343],[100352,101106],[110592,110878],[110928,110930],[110948,110951],[110960,111355],[126980,126980],[127183,127183],[127374,127374],[127377,127386],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128725,128725],[128747,128748],[128756,128762],[128992,129003],[129293,129393],[129395,129398],[129402,129442],[129445,129450],[129454,129482],[129485,129535],[129648,129651],[129656,129658],[129664,129666],[129680,129685],[131072,196605],[196608,262141]];let j;function F(D,E){let y,M=0,W=E.length-1;if(D<E[0][0]||D>E[W][1])return!1;for(;W>=M;)if(y=M+W>>1,D>E[y][1])M=y+1;else{if(!(D<E[y][0]))return!0;W=y-1}return!1}_.UnicodeV11=class{constructor(){if(this.version="11",!j){j=new Uint8Array(65536),j.fill(1),j[0]=0,j.fill(0,1,32),j.fill(0,127,160);for(let D=0;D<A.length;++D)j.fill(0,A[D][0],A[D][1]+1);for(let D=0;D<k.length;++D)j.fill(2,k[D][0],k[D][1]+1)}}wcwidth(D){return D<32?0:D<127?1:D<65536?j[D]:F(D,T)?0:F(D,U)?2:1}charProperties(D,E){let y=this.wcwidth(D),M=0===y&&0!==E;if(M){const W=b.UnicodeService.extractWidth(E);0===W?M=!1:W>y&&(y=W)}return b.UnicodeService.createPropertyValue(0,y,M)}}},345:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.runAndSubscribe=_.forwardEvent=_.EventEmitter=void 0,_.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=g=>(this._listeners.push(g),{dispose:()=>{if(!this._disposed)for(let b=0;b<this._listeners.length;b++)if(this._listeners[b]===g)return void this._listeners.splice(b,1)}})),this._event}fire(g,b){const A=[];for(let T=0;T<this._listeners.length;T++)A.push(this._listeners[T]);for(let T=0;T<A.length;T++)A[T].call(void 0,g,b)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},_.forwardEvent=function(g,b){return g(A=>b.fire(A))},_.runAndSubscribe=function(g,b){return b(void 0),g(A=>b(A))}},490:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.UnicodeV6=void 0;const b=g(938),A=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],T=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let k;_.UnicodeV6=class{constructor(){if(this.version="6",!k){k=new Uint8Array(65536),k.fill(1),k[0]=0,k.fill(0,1,32),k.fill(0,127,160),k.fill(2,4352,4448),k[9001]=2,k[9002]=2,k.fill(2,11904,42192),k[12351]=1,k.fill(2,44032,55204),k.fill(2,63744,64256),k.fill(2,65040,65050),k.fill(2,65072,65136),k.fill(2,65280,65377),k.fill(2,65504,65511);for(let U=0;U<A.length;++U)k.fill(0,A[U][0],A[U][1]+1)}}wcwidth(U){return U<32?0:U<127?1:U<65536?k[U]:function(j,F){let D,E=0,y=F.length-1;if(j<F[0][0]||j>F[y][1])return!1;for(;y>=E;)if(D=E+y>>1,j>F[D][1])E=D+1;else{if(!(j<F[D][0]))return!0;y=D-1}return!1}(U,T)?0:U>=131072&&U<=196605||U>=196608&&U<=262141?2:1}charProperties(U,j){let F=this.wcwidth(U),D=0===F&&0!==j;if(D){const E=b.UnicodeService.extractWidth(j);0===E?D=!1:E>F&&(F=E)}return b.UnicodeService.createPropertyValue(0,F,D)}}},938:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.UnicodeService=void 0;const b=g(345),A=g(490);class T{static extractShouldJoin(U){return 0!=(1&U)}static extractWidth(U){return U>>1&3}static extractCharKind(U){return U>>3}static createPropertyValue(U,j,F=!1){return(16777215&U)<<3|(3&j)<<1|(F?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new b.EventEmitter,this.onChange=this._onChange.event;const U=new A.UnicodeV6;this.register(U),this._active=U.version,this._activeProvider=U}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(U){if(!this._providers[U])throw new Error(`unknown Unicode version "${U}"`);this._active=U,this._activeProvider=this._providers[U],this._onChange.fire(U)}register(U){this._providers[U.version]=U}wcwidth(U){return this._activeProvider.wcwidth(U)}getStringCellWidth(U){let j=0,F=0;const D=U.length;for(let E=0;E<D;++E){let y=U.charCodeAt(E);if(55296<=y&&y<=56319){if(++E>=D)return j+this.wcwidth(y);const G=U.charCodeAt(E);56320<=G&&G<=57343?y=1024*(y-55296)+G-56320+65536:j+=this.wcwidth(G)}const M=this.charProperties(y,F);let W=T.extractWidth(M);T.extractShouldJoin(M)&&(W-=T.extractWidth(F)),j+=W,F=M}return j}charProperties(U,j){return this._activeProvider.charProperties(U,j)}}_.UnicodeService=T}},a={};function d(w){var _=a[w];if(void 0!==_)return _.exports;var g=a[w]={exports:{}};return $[w](g,g.exports,d),g.exports}var p={};return(()=>{var w=p;Object.defineProperty(w,"__esModule",{value:!0}),w.Unicode11Addon=void 0;const _=d(433);w.Unicode11Addon=class{activate(g){g.unicode.register(new _.UnicodeV11)}dispose(){}}})(),p})()},8829:fe=>{self,fe.exports=(()=>{"use strict";var $={6:(w,_)=>{function g(A){try{const T=new URL(A),k=T.password&&T.username?`${T.protocol}//${T.username}:${T.password}@${T.host}`:T.username?`${T.protocol}//${T.username}@${T.host}`:`${T.protocol}//${T.host}`;return A.toLocaleLowerCase().startsWith(k.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(_,"__esModule",{value:!0}),_.LinkComputer=_.WebLinkProvider=void 0,_.WebLinkProvider=class{constructor(A,T,k,U={}){this._terminal=A,this._regex=T,this._handler=k,this._options=U}provideLinks(A,T){const k=b.computeLink(A,this._regex,this._terminal,this._handler);T(this._addCallbacks(k))}_addCallbacks(A){return A.map(T=>(T.leave=this._options.leave,T.hover=(k,U)=>{if(this._options.hover){const{range:j}=T;this._options.hover(k,U,j)}},T))}};class b{static computeLink(T,k,U,j){const F=new RegExp(k.source,(k.flags||"")+"g"),[D,E]=b._getWindowedLineStrings(T-1,U),y=D.join("");let M;const W=[];for(;M=F.exec(y);){const G=M[0];if(!g(G))continue;const[Z,ne]=b._mapStrIdx(U,E,0,M.index),[H,te]=b._mapStrIdx(U,Z,ne,G.length);-1!==Z&&-1!==ne&&-1!==H&&-1!==te&&W.push({range:{start:{x:ne+1,y:Z+1},end:{x:te,y:H+1}},text:G,activate:j})}return W}static _getWindowedLineStrings(T,k){let U,j=T,F=T,D=0,E="";const y=[];if(U=k.buffer.active.getLine(T)){const M=U.translateToString(!0);if(U.isWrapped&&" "!==M[0]){for(D=0;(U=k.buffer.active.getLine(--j))&&D<2048&&(E=U.translateToString(!0),D+=E.length,y.push(E),U.isWrapped&&-1===E.indexOf(" ")););y.reverse()}for(y.push(M),D=0;(U=k.buffer.active.getLine(++F))&&U.isWrapped&&D<2048&&(E=U.translateToString(!0),D+=E.length,y.push(E),-1===E.indexOf(" ")););}return[y,j]}static _mapStrIdx(T,k,U,j){const F=T.buffer.active,D=F.getNullCell();let E=U;for(;j;){const y=F.getLine(k);if(!y)return[-1,-1];for(let M=E;M<y.length;++M){y.getCell(M,D);const W=D.getChars();if(D.getWidth()&&(j-=W.length||1,M===y.length-1&&""===W)){const G=F.getLine(k+1);G&&G.isWrapped&&(G.getCell(0,D),2===D.getWidth()&&(j+=1))}if(j<0)return[k,M]}k++,E=0}return[k,E]}}_.LinkComputer=b}},a={};function d(w){var _=a[w];if(void 0!==_)return _.exports;var g=a[w]={exports:{}};return $[w](g,g.exports,d),g.exports}var p={};return(()=>{var w=p;Object.defineProperty(w,"__esModule",{value:!0}),w.WebLinksAddon=void 0;const _=d(6),g=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function b(A,T){const k=window.open();if(k){try{k.opener=null}catch{}k.location.href=T}else console.warn("Opening link blocked as opener could not be cleared")}w.WebLinksAddon=class{constructor(A=b,T={}){this._handler=A,this._options=T}activate(A){this._terminal=A;const T=this._options;this._linkProvider=this._terminal.registerLinkProvider(new _.WebLinkProvider(this._terminal,T.urlRegex||g,this._handler,T))}dispose(){this._linkProvider?.dispose()}}})(),p})()},8069:fe=>{globalThis,fe.exports=(()=>{"use strict";var $={4567:function(w,_,g){var b=this&&this.__decorate||function(y,M,W,G){var Z,ne=arguments.length,H=ne<3?M:null===G?G=Object.getOwnPropertyDescriptor(M,W):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(y,M,W,G);else for(var te=y.length-1;te>=0;te--)(Z=y[te])&&(H=(ne<3?Z(H):ne>3?Z(M,W,H):Z(M,W))||H);return ne>3&&H&&Object.defineProperty(M,W,H),H},A=this&&this.__param||function(y,M){return function(W,G){M(W,G,y)}};Object.defineProperty(_,"__esModule",{value:!0}),_.AccessibilityManager=void 0;const T=g(9042),k=g(9924),U=g(844),j=g(4725),F=g(2585),D=g(3656);let E=_.AccessibilityManager=class extends U.Disposable{constructor(y,M,W,G){super(),this._terminal=y,this._coreBrowserService=W,this._renderService=G,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let Z=0;Z<this._terminal.rows;Z++)this._rowElements[Z]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[Z]);if(this._topBoundaryFocusListener=Z=>this._handleBoundaryFocus(Z,0),this._bottomBoundaryFocusListener=Z=>this._handleBoundaryFocus(Z,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new k.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(Z=>this._handleResize(Z.rows))),this.register(this._terminal.onRender(Z=>this._refreshRows(Z.start,Z.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(Z=>this._handleChar(Z))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(Z=>this._handleTab(Z))),this.register(this._terminal.onKey(Z=>this._handleKey(Z.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,D.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,U.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(y){for(let M=0;M<y;M++)this._handleChar(" ")}_handleChar(y){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==y&&(this._charsToAnnounce+=y):this._charsToAnnounce+=y,"\n"===y&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=T.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(y){this._clearLiveRegion(),/\p{Control}/u.test(y)||this._charsToConsume.push(y)}_refreshRows(y,M){this._liveRegionDebouncer.refresh(y,M,this._terminal.rows)}_renderRows(y,M){const W=this._terminal.buffer,G=W.lines.length.toString();for(let Z=y;Z<=M;Z++){const ne=W.lines.get(W.ydisp+Z),H=[],te=ne?.translateToString(!0,void 0,void 0,H)||"",De=(W.ydisp+Z+1).toString(),ve=this._rowElements[Z];ve&&(0===te.length?(ve.innerText="\xa0",this._rowColumns.set(ve,[0,1])):(ve.textContent=te,this._rowColumns.set(ve,H)),ve.setAttribute("aria-posinset",De),ve.setAttribute("aria-setsize",G))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(y,M){const W=y.target,G=this._rowElements[0===M?1:this._rowElements.length-2];if(W.getAttribute("aria-posinset")===(0===M?"1":`${this._terminal.buffer.lines.length}`)||y.relatedTarget!==G)return;let Z,ne;if(0===M?(Z=W,ne=this._rowElements.pop(),this._rowContainer.removeChild(ne)):(Z=this._rowElements.shift(),ne=W,this._rowContainer.removeChild(Z)),Z.removeEventListener("focus",this._topBoundaryFocusListener),ne.removeEventListener("focus",this._bottomBoundaryFocusListener),0===M){const H=this._createAccessibilityTreeNode();this._rowElements.unshift(H),this._rowContainer.insertAdjacentElement("afterbegin",H)}else{const H=this._createAccessibilityTreeNode();this._rowElements.push(H),this._rowContainer.appendChild(H)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===M?-1:1),this._rowElements[0===M?1:this._rowElements.length-2].focus(),y.preventDefault(),y.stopImmediatePropagation()}_handleSelectionChange(){if(0===this._rowElements.length)return;const y=document.getSelection();if(!y)return;if(y.isCollapsed)return void(this._rowContainer.contains(y.anchorNode)&&this._terminal.clearSelection());if(!y.anchorNode||!y.focusNode)return void console.error("anchorNode and/or focusNode are null");let M={node:y.anchorNode,offset:y.anchorOffset},W={node:y.focusNode,offset:y.focusOffset};if((M.node.compareDocumentPosition(W.node)&Node.DOCUMENT_POSITION_PRECEDING||M.node===W.node&&M.offset>W.offset)&&([M,W]=[W,M]),M.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(M={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(M.node))return;const G=this._rowElements.slice(-1)[0];if(W.node.compareDocumentPosition(G)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(W={node:G,offset:G.textContent?.length??0}),!this._rowContainer.contains(W.node))return;const Z=({node:te,offset:De})=>{const ve=te instanceof Text?te.parentNode:te;let Te=parseInt(ve?.getAttribute("aria-posinset"),10)-1;if(isNaN(Te))return console.warn("row is invalid. Race condition?"),null;const _e=this._rowColumns.get(ve);if(!_e)return console.warn("columns is null. Race condition?"),null;let ue=De<_e.length?_e[De]:_e.slice(-1)[0]+1;return ue>=this._terminal.cols&&(++Te,ue=0),{row:Te,column:ue}},ne=Z(M),H=Z(W);if(ne&&H){if(ne.row>H.row||ne.row===H.row&&ne.column>=H.column)throw new Error("invalid range");this._terminal.select(ne.column,ne.row,(H.row-ne.row)*this._terminal.cols-ne.column+H.column)}}_handleResize(y){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let M=this._rowContainer.children.length;M<this._terminal.rows;M++)this._rowElements[M]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[M]);for(;this._rowElements.length>y;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const y=this._coreBrowserService.mainDocument.createElement("div");return y.setAttribute("role","listitem"),y.tabIndex=-1,this._refreshRowDimensions(y),y}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let y=0;y<this._terminal.rows;y++)this._refreshRowDimensions(this._rowElements[y])}}_refreshRowDimensions(y){y.style.height=`${this._renderService.dimensions.css.cell.height}px`}};_.AccessibilityManager=E=b([A(1,F.IInstantiationService),A(2,j.ICoreBrowserService),A(3,j.IRenderService)],E)},3614:(w,_)=>{function g(k){return k.replace(/\r?\n/g,"\r")}function b(k,U){return U?"\x1b[200~"+k+"\x1b[201~":k}function A(k,U,j,F){k=b(k=g(k),j.decPrivateModes.bracketedPasteMode&&!0!==F.rawOptions.ignoreBracketedPasteMode),j.triggerDataEvent(k,!0),U.value=""}function T(k,U,j){const F=j.getBoundingClientRect(),D=k.clientX-F.left-10,E=k.clientY-F.top-10;U.style.width="20px",U.style.height="20px",U.style.left=`${D}px`,U.style.top=`${E}px`,U.style.zIndex="1000",U.focus()}Object.defineProperty(_,"__esModule",{value:!0}),_.rightClickHandler=_.moveTextAreaUnderMouseCursor=_.paste=_.handlePasteEvent=_.copyHandler=_.bracketTextForPaste=_.prepareTextForTerminal=void 0,_.prepareTextForTerminal=g,_.bracketTextForPaste=b,_.copyHandler=function(k,U){k.clipboardData&&k.clipboardData.setData("text/plain",U.selectionText),k.preventDefault()},_.handlePasteEvent=function(k,U,j,F){k.stopPropagation(),k.clipboardData&&A(k.clipboardData.getData("text/plain"),U,j,F)},_.paste=A,_.moveTextAreaUnderMouseCursor=T,_.rightClickHandler=function(k,U,j,F,D){T(k,U,j),D&&F.rightClickSelect(k),U.value=F.selectionText,U.select()}},7239:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ColorContrastCache=void 0;const b=g(1505);_.ColorContrastCache=class{constructor(){this._color=new b.TwoKeyMap,this._css=new b.TwoKeyMap}setCss(A,T,k){this._css.set(A,T,k)}getCss(A,T){return this._css.get(A,T)}setColor(A,T,k){this._color.set(A,T,k)}getColor(A,T){return this._color.get(A,T)}clear(){this._color.clear(),this._css.clear()}}},3656:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.addDisposableDomListener=void 0,_.addDisposableDomListener=function(g,b,A,T){g.addEventListener(b,A,T);let k=!1;return{dispose:()=>{k||(k=!0,g.removeEventListener(b,A,T))}}}},3551:function(w,_,g){var b=this&&this.__decorate||function(E,y,M,W){var G,Z=arguments.length,ne=Z<3?y:null===W?W=Object.getOwnPropertyDescriptor(y,M):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(E,y,M,W);else for(var H=E.length-1;H>=0;H--)(G=E[H])&&(ne=(Z<3?G(ne):Z>3?G(y,M,ne):G(y,M))||ne);return Z>3&&ne&&Object.defineProperty(y,M,ne),ne},A=this&&this.__param||function(E,y){return function(M,W){y(M,W,E)}};Object.defineProperty(_,"__esModule",{value:!0}),_.Linkifier=void 0;const T=g(3656),k=g(8460),U=g(844),j=g(2585),F=g(4725);let D=_.Linkifier=class extends U.Disposable{get currentLink(){return this._currentLink}constructor(E,y,M,W,G){super(),this._element=E,this._mouseService=y,this._renderService=M,this._bufferService=W,this._linkProviderService=G,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new k.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new k.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,U.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,U.toDisposable)(()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,T.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,T.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,T.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,T.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(E){this._lastMouseEvent=E;const y=this._positionFromMouseEvent(E,this._element,this._mouseService);if(!y)return;this._isMouseOut=!1;const M=E.composedPath();for(let W=0;W<M.length;W++){const G=M[W];if(G.classList.contains("xterm"))break;if(G.classList.contains("xterm-hover"))return}this._lastBufferCell&&y.x===this._lastBufferCell.x&&y.y===this._lastBufferCell.y||(this._handleHover(y),this._lastBufferCell=y)}_handleHover(E){if(this._activeLine!==E.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(E,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,E)||(this._clearCurrentLink(),this._askForLink(E,!0))}_askForLink(E,y){this._activeProviderReplies&&y||(this._activeProviderReplies?.forEach(W=>{W?.forEach(G=>{G.link.dispose&&G.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=E.y);let M=!1;for(const[W,G]of this._linkProviderService.linkProviders.entries())y?this._activeProviderReplies?.get(W)&&(M=this._checkLinkProviderResult(W,E,M)):G.provideLinks(E.y,Z=>{if(this._isMouseOut)return;const ne=Z?.map(H=>({link:H}));this._activeProviderReplies?.set(W,ne),M=this._checkLinkProviderResult(W,E,M),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(E.y,this._activeProviderReplies)})}_removeIntersectingLinks(E,y){const M=new Set;for(let W=0;W<y.size;W++){const G=y.get(W);if(G)for(let Z=0;Z<G.length;Z++){const ne=G[Z],te=ne.link.range.end.y>E?this._bufferService.cols:ne.link.range.end.x;for(let De=ne.link.range.start.y<E?0:ne.link.range.start.x;De<=te;De++){if(M.has(De)){G.splice(Z--,1);break}M.add(De)}}}}_checkLinkProviderResult(E,y,M){if(!this._activeProviderReplies)return M;const W=this._activeProviderReplies.get(E);let G=!1;for(let Z=0;Z<E;Z++)this._activeProviderReplies.has(Z)&&!this._activeProviderReplies.get(Z)||(G=!0);if(!G&&W){const Z=W.find(ne=>this._linkAtPosition(ne.link,y));Z&&(M=!0,this._handleNewLink(Z))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!M)for(let Z=0;Z<this._activeProviderReplies.size;Z++){const ne=this._activeProviderReplies.get(Z)?.find(H=>this._linkAtPosition(H.link,y));if(ne){M=!0,this._handleNewLink(ne);break}}return M}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(E){if(!this._currentLink)return;const y=this._positionFromMouseEvent(E,this._element,this._mouseService);y&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,y)&&this._currentLink.link.activate(E,this._currentLink.link.text)}_clearCurrentLink(E,y){this._currentLink&&this._lastMouseEvent&&(!E||!y||this._currentLink.link.range.start.y>=E&&this._currentLink.link.range.end.y<=y)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,U.disposeArray)(this._linkCacheDisposables))}_handleNewLink(E){if(!this._lastMouseEvent)return;const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._linkAtPosition(E.link,y)&&(this._currentLink=E,this._currentLink.state={decorations:{underline:void 0===E.link.decorations||E.link.decorations.underline,pointerCursor:void 0===E.link.decorations||E.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,E.link,this._lastMouseEvent),E.link.decorations={},Object.defineProperties(E.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:M=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==M&&(this._currentLink.state.decorations.pointerCursor=M,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",M))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:M=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==M&&(this._currentLink.state.decorations.underline=M,this._currentLink.state.isHovered&&this._fireUnderlineEvent(E.link,M))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(M=>{if(!this._currentLink)return;const W=0===M.start?0:M.start+1+this._bufferService.buffer.ydisp,G=this._bufferService.buffer.ydisp+1+M.end;if(this._currentLink.link.range.start.y>=W&&this._currentLink.link.range.end.y<=G&&(this._clearCurrentLink(W,G),this._lastMouseEvent)){const Z=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);Z&&this._askForLink(Z,!1)}})))}_linkHover(E,y,M){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!0),this._currentLink.state.decorations.pointerCursor&&E.classList.add("xterm-cursor-pointer")),y.hover&&y.hover(M,y.text)}_fireUnderlineEvent(E,y){const M=E.range,W=this._bufferService.buffer.ydisp,G=this._createLinkUnderlineEvent(M.start.x-1,M.start.y-W-1,M.end.x,M.end.y-W-1,void 0);(y?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(G)}_linkLeave(E,y,M){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!1),this._currentLink.state.decorations.pointerCursor&&E.classList.remove("xterm-cursor-pointer")),y.leave&&y.leave(M,y.text)}_linkAtPosition(E,y){const G=y.y*this._bufferService.cols+y.x;return E.range.start.y*this._bufferService.cols+E.range.start.x<=G&&G<=E.range.end.y*this._bufferService.cols+E.range.end.x}_positionFromMouseEvent(E,y,M){const W=M.getCoords(E,y,this._bufferService.cols,this._bufferService.rows);if(W)return{x:W[0],y:W[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(E,y,M,W,G){return{x1:E,y1:y,x2:M,y2:W,cols:this._bufferService.cols,fg:G}}};_.Linkifier=D=b([A(1,F.IMouseService),A(2,F.IRenderService),A(3,j.IBufferService),A(4,F.ILinkProviderService)],D)},9042:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.tooMuchOutput=_.promptLabel=void 0,_.promptLabel="Terminal input",_.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(w,_,g){var b=this&&this.__decorate||function(F,D,E,y){var M,W=arguments.length,G=W<3?D:null===y?y=Object.getOwnPropertyDescriptor(D,E):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(F,D,E,y);else for(var Z=F.length-1;Z>=0;Z--)(M=F[Z])&&(G=(W<3?M(G):W>3?M(D,E,G):M(D,E))||G);return W>3&&G&&Object.defineProperty(D,E,G),G},A=this&&this.__param||function(F,D){return function(E,y){D(E,y,F)}};Object.defineProperty(_,"__esModule",{value:!0}),_.OscLinkProvider=void 0;const T=g(511),k=g(2585);let U=_.OscLinkProvider=class{constructor(F,D,E){this._bufferService=F,this._optionsService=D,this._oscLinkService=E}provideLinks(F,D){const E=this._bufferService.buffer.lines.get(F-1);if(!E)return void D(void 0);const y=[],M=this._optionsService.rawOptions.linkHandler,W=new T.CellData,G=E.getTrimmedLength();let Z=-1,ne=-1,H=!1;for(let te=0;te<G;te++)if(-1!==ne||E.hasContent(te)){if(E.loadCell(te,W),W.hasExtendedAttrs()&&W.extended.urlId){if(-1===ne){ne=te,Z=W.extended.urlId;continue}H=W.extended.urlId!==Z}else-1!==ne&&(H=!0);if(H||-1!==ne&&te===G-1){const De=this._oscLinkService.getLinkData(Z)?.uri;if(De){const ve={start:{x:ne+1,y:F},end:{x:te+(H||te!==G-1?0:1),y:F}};let Te=!1;if(!M?.allowNonHttpProtocols)try{const _e=new URL(De);["http:","https:"].includes(_e.protocol)||(Te=!0)}catch{Te=!0}Te||y.push({text:De,range:ve,activate:(_e,ue)=>M?M.activate(_e,ue,ve):j(0,ue),hover:(_e,ue)=>M?.hover?.(_e,ue,ve),leave:(_e,ue)=>M?.leave?.(_e,ue,ve)})}H=!1,W.hasExtendedAttrs()&&W.extended.urlId?(ne=te,Z=W.extended.urlId):(ne=-1,Z=-1)}}D(y)}};function j(F,D){if(confirm(`Do you want to navigate to ${D}?\n\nWARNING: This link could potentially be dangerous`)){const E=window.open();if(E){try{E.opener=null}catch{}E.location.href=D}else console.warn("Opening link blocked as opener could not be cleared")}}_.OscLinkProvider=U=b([A(0,k.IBufferService),A(1,k.IOptionsService),A(2,k.IOscLinkService)],U)},6193:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.RenderDebouncer=void 0,_.RenderDebouncer=class{constructor(g,b){this._renderCallback=g,this._coreBrowserService=b,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(g){return this._refreshCallbacks.push(g),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(g,b,A){this._rowCount=A,g=void 0!==g?g:0,b=void 0!==b?b:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,g):g,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,b):b,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const g=Math.max(this._rowStart,0),b=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(g,b),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const g of this._refreshCallbacks)g(0);this._refreshCallbacks=[]}}},3236:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Terminal=void 0;const b=g(3614),A=g(3656),T=g(3551),k=g(9042),U=g(3730),j=g(1680),F=g(3107),D=g(5744),E=g(2950),y=g(1296),M=g(428),W=g(4269),G=g(5114),Z=g(8934),ne=g(3230),H=g(9312),te=g(4725),De=g(6731),ve=g(8055),Te=g(8969),_e=g(8460),ue=g(844),$e=g(6114),He=g(8437),Be=g(2584),Me=g(7399),Y=g(5941),z=g(9074),V=g(2585),re=g(5435),me=g(4567),pe=g(779);_.Terminal=class ce extends Te.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(ae={}){super(ae),this.browser=$e,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new ue.MutableDisposable),this._onCursorMove=this.register(new _e.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new _e.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new _e.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new _e.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new _e.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new _e.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new _e.EventEmitter),this._onBlur=this.register(new _e.EventEmitter),this._onA11yCharEmitter=this.register(new _e.EventEmitter),this._onA11yTabEmitter=this.register(new _e.EventEmitter),this._onWillOpen=this.register(new _e.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(z.DecorationService),this._instantiationService.setService(V.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(pe.LinkProviderService),this._instantiationService.setService(te.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(U.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((X,Ee)=>this.refresh(X,Ee))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(X=>this._reportWindowsOptions(X))),this.register(this._inputHandler.onColor(X=>this._handleColorEvent(X))),this.register((0,_e.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,_e.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,_e.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,_e.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(X=>this._afterResize(X.cols,X.rows))),this.register((0,ue.toDisposable)(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}_handleColorEvent(ae){if(this._themeService)for(const X of ae){let Ee,Ae="";switch(X.index){case 256:Ee="foreground",Ae="10";break;case 257:Ee="background",Ae="11";break;case 258:Ee="cursor",Ae="12";break;default:Ee="ansi",Ae="4;"+X.index}switch(X.type){case 0:const je=ve.color.toColorRGB("ansi"===Ee?this._themeService.colors.ansi[X.index]:this._themeService.colors[Ee]);this.coreService.triggerDataEvent(`${Be.C0.ESC}]${Ae};${(0,Y.toRgbString)(je)}${Be.C1_ESCAPED.ST}`);break;case 1:if("ansi"===Ee)this._themeService.modifyColors(Ke=>Ke.ansi[X.index]=ve.channels.toColor(...X.color));else{const Ke=Ee;this._themeService.modifyColors(ut=>ut[Ke]=ve.channels.toColor(...X.color))}break;case 2:this._themeService.restoreColor(X.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(ae){ae?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(me.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(ae){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Be.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Be.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const X=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!X)return;const Ee=Math.min(this.buffer.x,this.cols-1),Ae=this._renderService.dimensions.css.cell.height,je=X.getWidth(Ee),Ke=this._renderService.dimensions.css.cell.width*je,ut=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=Ee*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=ut+"px",this.textarea.style.width=Ke+"px",this.textarea.style.height=Ae+"px",this.textarea.style.lineHeight=Ae+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,A.addDisposableDomListener)(this.element,"copy",X=>{this.hasSelection()&&(0,b.copyHandler)(X,this._selectionService)}));const ae=X=>(0,b.handlePasteEvent)(X,this.textarea,this.coreService,this.optionsService);this.register((0,A.addDisposableDomListener)(this.textarea,"paste",ae)),this.register((0,A.addDisposableDomListener)(this.element,"paste",ae)),this.register($e.isFirefox?(0,A.addDisposableDomListener)(this.element,"mousedown",X=>{2===X.button&&(0,b.rightClickHandler)(X,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,A.addDisposableDomListener)(this.element,"contextmenu",X=>{(0,b.rightClickHandler)(X,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),$e.isLinux&&this.register((0,A.addDisposableDomListener)(this.element,"auxclick",X=>{1===X.button&&(0,b.moveTextAreaUnderMouseCursor)(X,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,A.addDisposableDomListener)(this.textarea,"keyup",ae=>this._keyUp(ae),!0)),this.register((0,A.addDisposableDomListener)(this.textarea,"keydown",ae=>this._keyDown(ae),!0)),this.register((0,A.addDisposableDomListener)(this.textarea,"keypress",ae=>this._keyPress(ae),!0)),this.register((0,A.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,A.addDisposableDomListener)(this.textarea,"compositionupdate",ae=>this._compositionHelper.compositionupdate(ae))),this.register((0,A.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,A.addDisposableDomListener)(this.textarea,"input",ae=>this._inputEvent(ae),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(ae){if(!ae)throw new Error("Terminal requires a parent element.");if(ae.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=ae.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),ae.appendChild(this.element);const X=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),X.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,A.addDisposableDomListener)(this.screenElement,"mousemove",Ee=>this.updateCursorStyle(Ee))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),X.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",k.promptLabel),$e.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(G.CoreBrowserService,this.textarea,ae.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(te.ICoreBrowserService,this._coreBrowserService),this.register((0,A.addDisposableDomListener)(this.textarea,"focus",Ee=>this._handleTextAreaFocus(Ee))),this.register((0,A.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(M.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(te.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(De.ThemeService),this._instantiationService.setService(te.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(W.CharacterJoinerService),this._instantiationService.setService(te.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(ne.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(te.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Ee=>this._onRender.fire(Ee))),this.onResize(Ee=>this._renderService.resize(Ee.cols,Ee.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(E.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(Z.MouseService),this._instantiationService.setService(te.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(T.Linkifier,this.screenElement)),this.element.appendChild(X);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(j.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Ee=>this.scrollLines(Ee.amount,Ee.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(H.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(te.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Ee=>this.scrollLines(Ee.amount,Ee.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Ee=>this._renderService.handleSelectionChanged(Ee.start,Ee.end,Ee.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Ee=>{this.textarea.value=Ee,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Ee=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,A.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(F.BufferDecorationRenderer,this.screenElement)),this.register((0,A.addDisposableDomListener)(this.element,"mousedown",Ee=>this._selectionService.handleMouseDown(Ee))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(me.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Ee=>this._handleScreenReaderModeOptionChange(Ee))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(D.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Ee=>{!this._overviewRulerRenderer&&Ee&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(D.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(y.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const ae=this,X=this.element;function Ee(Ke){const ut=ae._mouseService.getMouseReportCoords(Ke,ae.screenElement);if(!ut)return!1;let it,Ne;switch(Ke.overrideType||Ke.type){case"mousemove":Ne=32,void 0===Ke.buttons?(it=3,void 0!==Ke.button&&(it=Ke.button<3?Ke.button:3)):it=1&Ke.buttons?0:4&Ke.buttons?1:2&Ke.buttons?2:3;break;case"mouseup":Ne=0,it=Ke.button<3?Ke.button:3;break;case"mousedown":Ne=1,it=Ke.button<3?Ke.button:3;break;case"wheel":if(ae._customWheelEventHandler&&!1===ae._customWheelEventHandler(Ke)||0===ae.viewport.getLinesScrolled(Ke))return!1;Ne=Ke.deltaY<0?0:1,it=4;break;default:return!1}return!(void 0===Ne||void 0===it||it>4)&&ae.coreMouseService.triggerMouseEvent({col:ut.col,row:ut.row,x:ut.x,y:ut.y,button:it,action:Ne,ctrl:Ke.ctrlKey,alt:Ke.altKey,shift:Ke.shiftKey})}const Ae={mouseup:null,wheel:null,mousedrag:null,mousemove:null},je={mouseup:Ke=>(Ee(Ke),Ke.buttons||(this._document.removeEventListener("mouseup",Ae.mouseup),Ae.mousedrag&&this._document.removeEventListener("mousemove",Ae.mousedrag)),this.cancel(Ke)),wheel:Ke=>(Ee(Ke),this.cancel(Ke,!0)),mousedrag:Ke=>{Ke.buttons&&Ee(Ke)},mousemove:Ke=>{Ke.buttons||Ee(Ke)}};this.register(this.coreMouseService.onProtocolChange(Ke=>{Ke?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Ke)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Ke?Ae.mousemove||(X.addEventListener("mousemove",je.mousemove),Ae.mousemove=je.mousemove):(X.removeEventListener("mousemove",Ae.mousemove),Ae.mousemove=null),16&Ke?Ae.wheel||(X.addEventListener("wheel",je.wheel,{passive:!1}),Ae.wheel=je.wheel):(X.removeEventListener("wheel",Ae.wheel),Ae.wheel=null),2&Ke?Ae.mouseup||(Ae.mouseup=je.mouseup):(this._document.removeEventListener("mouseup",Ae.mouseup),Ae.mouseup=null),4&Ke?Ae.mousedrag||(Ae.mousedrag=je.mousedrag):(this._document.removeEventListener("mousemove",Ae.mousedrag),Ae.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,A.addDisposableDomListener)(X,"mousedown",Ke=>{if(Ke.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Ke))return Ee(Ke),Ae.mouseup&&this._document.addEventListener("mouseup",Ae.mouseup),Ae.mousedrag&&this._document.addEventListener("mousemove",Ae.mousedrag),this.cancel(Ke)})),this.register((0,A.addDisposableDomListener)(X,"wheel",Ke=>{if(!Ae.wheel){if(this._customWheelEventHandler&&!1===this._customWheelEventHandler(Ke))return!1;if(!this.buffer.hasScrollback){const ut=this.viewport.getLinesScrolled(Ke);if(0===ut)return;const it=Be.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Ke.deltaY<0?"A":"B");let Ne="";for(let We=0;We<Math.abs(ut);We++)Ne+=it;return this.coreService.triggerDataEvent(Ne,!0),this.cancel(Ke,!0)}return this.viewport.handleWheel(Ke)?this.cancel(Ke):void 0}},{passive:!1})),this.register((0,A.addDisposableDomListener)(X,"touchstart",Ke=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Ke),this.cancel(Ke)},{passive:!0})),this.register((0,A.addDisposableDomListener)(X,"touchmove",Ke=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Ke)?void 0:this.cancel(Ke)},{passive:!1}))}refresh(ae,X){this._renderService?.refreshRows(ae,X)}updateCursorStyle(ae){this._selectionService?.shouldColumnSelect(ae)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(ae,X,Ee=0){1===Ee?(super.scrollLines(ae,X,Ee),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(ae)}paste(ae){(0,b.paste)(ae,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(ae){this._customKeyEventHandler=ae}attachCustomWheelEventHandler(ae){this._customWheelEventHandler=ae}registerLinkProvider(ae){return this._linkProviderService.registerLinkProvider(ae)}registerCharacterJoiner(ae){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const X=this._characterJoinerService.register(ae);return this.refresh(0,this.rows-1),X}deregisterCharacterJoiner(ae){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(ae)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(ae){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+ae)}registerDecoration(ae){return this._decorationService.registerDecoration(ae)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(ae,X,Ee){this._selectionService.setSelection(ae,X,Ee)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(ae,X){this._selectionService?.selectLines(ae,X)}_keyDown(ae){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(ae))return!1;const X=this.browser.isMac&&this.options.macOptionIsMeta&&ae.altKey;if(!X&&!this._compositionHelper.keydown(ae))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;X||"Dead"!==ae.key&&"AltGraph"!==ae.key||(this._unprocessedDeadKey=!0);const Ee=(0,Me.evaluateKeyboardEvent)(ae,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(ae),3===Ee.type||2===Ee.type){const Ae=this.rows-1;return this.scrollLines(2===Ee.type?-Ae:Ae),this.cancel(ae,!0)}return 1===Ee.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,ae)||(Ee.cancel&&this.cancel(ae,!0),!Ee.key||!!(ae.key&&!ae.ctrlKey&&!ae.altKey&&!ae.metaKey&&1===ae.key.length&&ae.key.charCodeAt(0)>=65&&ae.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Ee.key!==Be.C0.ETX&&Ee.key!==Be.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Ee.key,domEvent:ae}),this._showCursor(),this.coreService.triggerDataEvent(Ee.key,!0),!this.optionsService.rawOptions.screenReaderMode||ae.altKey||ae.ctrlKey?this.cancel(ae,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(ae,X){const Ee=ae.isMac&&!this.options.macOptionIsMeta&&X.altKey&&!X.ctrlKey&&!X.metaKey||ae.isWindows&&X.altKey&&X.ctrlKey&&!X.metaKey||ae.isWindows&&X.getModifierState("AltGraph");return"keypress"===X.type?Ee:Ee&&(!X.keyCode||X.keyCode>47)}_keyUp(ae){var X;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(ae)||(16===(X=ae).keyCode||17===X.keyCode||18===X.keyCode||this.focus(),this.updateCursorStyle(ae),this._keyPressHandled=!1)}_keyPress(ae){let X;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(ae))return!1;if(this.cancel(ae),ae.charCode)X=ae.charCode;else if(null==ae.which)X=ae.keyCode;else{if(0===ae.which||0===ae.charCode)return!1;X=ae.which}return!(!X||(ae.altKey||ae.ctrlKey||ae.metaKey)&&!this._isThirdLevelShift(this.browser,ae)||(X=String.fromCharCode(X),this._onKey.fire({key:X,domEvent:ae}),this._showCursor(),this.coreService.triggerDataEvent(X,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(ae){return!(!ae.data||"insertText"!==ae.inputType||ae.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(ae.data,!0),this.cancel(ae),0))}resize(ae,X){ae!==this.cols||X!==this.rows?super.resize(ae,X):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(ae,X){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let ae=1;ae<this.rows;ae++)this.buffer.lines.push(this.buffer.getBlankLine(He.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const ae=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=ae,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(Be.C0.ESC+"[I"):this.coreService.triggerDataEvent(Be.C0.ESC+"[O")}_reportWindowsOptions(ae){if(this._renderService)switch(ae){case re.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const X=this._renderService.dimensions.css.canvas.width.toFixed(0),Ee=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Be.C0.ESC}[4;${Ee};${X}t`);break;case re.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Ae=this._renderService.dimensions.css.cell.width.toFixed(0),je=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Be.C0.ESC}[6;${je};${Ae}t`)}}cancel(ae,X){if(this.options.cancelEvents||X)return ae.preventDefault(),ae.stopPropagation(),!1}}},9924:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TimeBasedDebouncer=void 0,_.TimeBasedDebouncer=class{constructor(g,b=1e3){this._renderCallback=g,this._debounceThresholdMS=b,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(g,b,A){this._rowCount=A,g=void 0!==g?g:0,b=void 0!==b?b:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,g):g,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,b):b;const T=Date.now();if(T-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=T,this._innerRefresh();else if(!this._additionalRefreshRequested){const U=this._debounceThresholdMS-(T-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},U)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const g=Math.max(this._rowStart,0),b=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(g,b)}}},1680:function(w,_,g){var b=this&&this.__decorate||function(E,y,M,W){var G,Z=arguments.length,ne=Z<3?y:null===W?W=Object.getOwnPropertyDescriptor(y,M):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(E,y,M,W);else for(var H=E.length-1;H>=0;H--)(G=E[H])&&(ne=(Z<3?G(ne):Z>3?G(y,M,ne):G(y,M))||ne);return Z>3&&ne&&Object.defineProperty(y,M,ne),ne},A=this&&this.__param||function(E,y){return function(M,W){y(M,W,E)}};Object.defineProperty(_,"__esModule",{value:!0}),_.Viewport=void 0;const T=g(3656),k=g(4725),U=g(8460),j=g(844),F=g(2585);let D=_.Viewport=class extends j.Disposable{constructor(E,y,M,W,G,Z,ne,H){super(),this._viewportElement=E,this._scrollArea=y,this._bufferService=M,this._optionsService=W,this._charSizeService=G,this._renderService=Z,this._coreBrowserService=ne,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new U.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,T.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(te=>this._activeBuffer=te.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(te=>this._renderDimensions=te)),this._handleThemeChange(H.colors),this.register(H.onChangeColors(te=>this._handleThemeChange(te))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(E){this._viewportElement.style.backgroundColor=E.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(E){if(E)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const y=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==y&&(this._lastRecordedBufferHeight=y,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const E=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==E&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=E),this._refreshAnimationFrame=null}syncScrollArea(E=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(E);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(E)}_handleScroll(E){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const y=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const E=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(E*(this._smoothScrollState.target-this._smoothScrollState.origin)),E<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(E,y){return!(y<0&&0!==this._viewportElement.scrollTop||y>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(E.cancelable&&E.preventDefault(),!1)}handleWheel(E){const y=this._getPixelsScrolled(E);return 0!==y&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+y:this._smoothScrollState.target+=y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=y,this._bubbleScroll(E,y))}scrollLines(E){if(0!==E)if(this._optionsService.rawOptions.smoothScrollDuration){const y=E*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:E,suppressScrollEvent:!1})}_getPixelsScrolled(E){if(0===E.deltaY||E.shiftKey)return 0;let y=this._applyScrollModifier(E.deltaY,E);return E.deltaMode===WheelEvent.DOM_DELTA_LINE?y*=this._currentRowHeight:E.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._currentRowHeight*this._bufferService.rows),y}getBufferElements(E,y){let M,W="";const G=[],Z=y??this._bufferService.buffer.lines.length,ne=this._bufferService.buffer.lines;for(let H=E;H<Z;H++){const te=ne.get(H);if(!te)continue;const De=ne.get(H+1)?.isWrapped;if(W+=te.translateToString(!De),!De||H===ne.length-1){const ve=document.createElement("div");ve.textContent=W,G.push(ve),W.length>0&&(M=ve),W=""}}return{bufferElements:G,cursorElement:M}}getLinesScrolled(E){if(0===E.deltaY||E.shiftKey)return 0;let y=this._applyScrollModifier(E.deltaY,E);return E.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(y/=this._currentRowHeight+0,this._wheelPartialScroll+=y,y=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):E.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._bufferService.rows),y}_applyScrollModifier(E,y){const M=this._optionsService.rawOptions.fastScrollModifier;return"alt"===M&&y.altKey||"ctrl"===M&&y.ctrlKey||"shift"===M&&y.shiftKey?E*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:E*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(E){this._lastTouchY=E.touches[0].pageY}handleTouchMove(E){const y=this._lastTouchY-E.touches[0].pageY;return this._lastTouchY=E.touches[0].pageY,0!==y&&(this._viewportElement.scrollTop+=y,this._bubbleScroll(E,y))}};_.Viewport=D=b([A(2,F.IBufferService),A(3,F.IOptionsService),A(4,k.ICharSizeService),A(5,k.IRenderService),A(6,k.ICoreBrowserService),A(7,k.IThemeService)],D)},3107:function(w,_,g){var b=this&&this.__decorate||function(F,D,E,y){var M,W=arguments.length,G=W<3?D:null===y?y=Object.getOwnPropertyDescriptor(D,E):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(F,D,E,y);else for(var Z=F.length-1;Z>=0;Z--)(M=F[Z])&&(G=(W<3?M(G):W>3?M(D,E,G):M(D,E))||G);return W>3&&G&&Object.defineProperty(D,E,G),G},A=this&&this.__param||function(F,D){return function(E,y){D(E,y,F)}};Object.defineProperty(_,"__esModule",{value:!0}),_.BufferDecorationRenderer=void 0;const T=g(4725),k=g(844),U=g(2585);let j=_.BufferDecorationRenderer=class extends k.Disposable{constructor(F,D,E,y,M){super(),this._screenElement=F,this._bufferService=D,this._coreBrowserService=E,this._decorationService=y,this._renderService=M,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(W=>this._removeDecoration(W))),this.register((0,k.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const F of this._decorationService.decorations)this._renderDecoration(F);this._dimensionsChanged=!1}_renderDecoration(F){this._refreshStyle(F),this._dimensionsChanged&&this._refreshXPosition(F)}_createElement(F){const D=this._coreBrowserService.mainDocument.createElement("div");D.classList.add("xterm-decoration"),D.classList.toggle("xterm-decoration-top-layer","top"===F?.options?.layer),D.style.width=`${Math.round((F.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,D.style.height=(F.options.height||1)*this._renderService.dimensions.css.cell.height+"px",D.style.top=(F.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",D.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const E=F.options.x??0;return E&&E>this._bufferService.cols&&(D.style.display="none"),this._refreshXPosition(F,D),D}_refreshStyle(F){const D=F.marker.line-this._bufferService.buffers.active.ydisp;if(D<0||D>=this._bufferService.rows)F.element&&(F.element.style.display="none",F.onRenderEmitter.fire(F.element));else{let E=this._decorationElements.get(F);E||(E=this._createElement(F),F.element=E,this._decorationElements.set(F,E),this._container.appendChild(E),F.onDispose(()=>{this._decorationElements.delete(F),E.remove()})),E.style.top=D*this._renderService.dimensions.css.cell.height+"px",E.style.display=this._altBufferIsActive?"none":"block",F.onRenderEmitter.fire(E)}}_refreshXPosition(F,D=F.element){if(!D)return;const E=F.options.x??0;"right"===(F.options.anchor||"left")?D.style.right=E?E*this._renderService.dimensions.css.cell.width+"px":"":D.style.left=E?E*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(F){this._decorationElements.get(F)?.remove(),this._decorationElements.delete(F),F.dispose()}};_.BufferDecorationRenderer=j=b([A(1,U.IBufferService),A(2,T.ICoreBrowserService),A(3,U.IDecorationService),A(4,T.IRenderService)],j)},5871:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ColorZoneStore=void 0,_.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(g){if(g.options.overviewRulerOptions){for(const b of this._zones)if(b.color===g.options.overviewRulerOptions.color&&b.position===g.options.overviewRulerOptions.position){if(this._lineIntersectsZone(b,g.marker.line))return;if(this._lineAdjacentToZone(b,g.marker.line,g.options.overviewRulerOptions.position))return void this._addLineToZone(b,g.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=g.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=g.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=g.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=g.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:g.options.overviewRulerOptions.color,position:g.options.overviewRulerOptions.position,startBufferLine:g.marker.line,endBufferLine:g.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(g){this._linePadding=g}_lineIntersectsZone(g,b){return b>=g.startBufferLine&&b<=g.endBufferLine}_lineAdjacentToZone(g,b,A){return b>=g.startBufferLine-this._linePadding[A||"full"]&&b<=g.endBufferLine+this._linePadding[A||"full"]}_addLineToZone(g,b){g.startBufferLine=Math.min(g.startBufferLine,b),g.endBufferLine=Math.max(g.endBufferLine,b)}}},5744:function(w,_,g){var b=this&&this.__decorate||function(M,W,G,Z){var ne,H=arguments.length,te=H<3?W:null===Z?Z=Object.getOwnPropertyDescriptor(W,G):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(M,W,G,Z);else for(var De=M.length-1;De>=0;De--)(ne=M[De])&&(te=(H<3?ne(te):H>3?ne(W,G,te):ne(W,G))||te);return H>3&&te&&Object.defineProperty(W,G,te),te},A=this&&this.__param||function(M,W){return function(G,Z){W(G,Z,M)}};Object.defineProperty(_,"__esModule",{value:!0}),_.OverviewRulerRenderer=void 0;const T=g(5871),k=g(4725),U=g(844),j=g(2585),F={full:0,left:0,center:0,right:0},D={full:0,left:0,center:0,right:0},E={full:0,left:0,center:0,right:0};let y=_.OverviewRulerRenderer=class extends U.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(M,W,G,Z,ne,H,te){super(),this._viewportElement=M,this._screenElement=W,this._bufferService=G,this._decorationService=Z,this._renderService=ne,this._optionsService=H,this._coreBrowserService=te,this._colorZoneStore=new T.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const De=this._canvas.getContext("2d");if(!De)throw new Error("Ctx cannot be null");this._ctx=De,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,U.toDisposable)(()=>{this._canvas?.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const M=Math.floor(this._canvas.width/3),W=Math.ceil(this._canvas.width/3);D.full=this._canvas.width,D.left=M,D.center=W,D.right=M,this._refreshDrawHeightConstants(),E.full=0,E.left=0,E.center=D.left,E.right=D.left+D.center}_refreshDrawHeightConstants(){F.full=Math.round(2*this._coreBrowserService.dpr);const W=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowserService.dpr);F.left=W,F.center=W,F.right=W}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*F.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*F.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*F.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*F.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const W of this._decorationService.decorations)this._colorZoneStore.addDecoration(W);this._ctx.lineWidth=1;const M=this._colorZoneStore.zones;for(const W of M)"full"!==W.position&&this._renderColorZone(W);for(const W of M)"full"===W.position&&this._renderColorZone(W);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(M){this._ctx.fillStyle=M.color,this._ctx.fillRect(E[M.position||"full"],Math.round(M.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-F[M.position||"full"]/2),D[M.position||"full"],Math.round((M.endBufferLine-M.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+F[M.position||"full"]))}_queueRefresh(M,W){this._shouldUpdateDimensions=M||this._shouldUpdateDimensions,this._shouldUpdateAnchor=W||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};_.OverviewRulerRenderer=y=b([A(2,j.IBufferService),A(3,j.IDecorationService),A(4,k.IRenderService),A(5,j.IOptionsService),A(6,k.ICoreBrowserService)],y)},2950:function(w,_,g){var b=this&&this.__decorate||function(F,D,E,y){var M,W=arguments.length,G=W<3?D:null===y?y=Object.getOwnPropertyDescriptor(D,E):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(F,D,E,y);else for(var Z=F.length-1;Z>=0;Z--)(M=F[Z])&&(G=(W<3?M(G):W>3?M(D,E,G):M(D,E))||G);return W>3&&G&&Object.defineProperty(D,E,G),G},A=this&&this.__param||function(F,D){return function(E,y){D(E,y,F)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CompositionHelper=void 0;const T=g(4725),k=g(2585),U=g(2584);let j=_.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(F,D,E,y,M,W){this._textarea=F,this._compositionView=D,this._bufferService=E,this._optionsService=y,this._coreService=M,this._renderService=W,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(F){this._compositionView.textContent=F.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(F){if(this._isComposing||this._isSendingComposition){if(229===F.keyCode||16===F.keyCode||17===F.keyCode||18===F.keyCode)return!1;this._finalizeComposition(!1)}return 229!==F.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(F){if(this._compositionView.classList.remove("active"),this._isComposing=!1,F){const D={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let E;this._isSendingComposition=!1,D.start+=this._dataAlreadySent.length,E=this._isComposing?this._textarea.value.substring(D.start,D.end):this._textarea.value.substring(D.start),E.length>0&&this._coreService.triggerDataEvent(E,!0)}},0)}else{this._isSendingComposition=!1;const D=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(D,!0)}}_handleAnyTextareaChanges(){const F=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const D=this._textarea.value,E=D.replace(F,"");this._dataAlreadySent=E,D.length>F.length?this._coreService.triggerDataEvent(E,!0):D.length<F.length?this._coreService.triggerDataEvent(`${U.C0.DEL}`,!0):D.length===F.length&&D!==F&&this._coreService.triggerDataEvent(D,!0)}},0)}updateCompositionElements(F){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const D=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),E=this._renderService.dimensions.css.cell.height,y=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,M=D*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=M+"px",this._compositionView.style.top=y+"px",this._compositionView.style.height=E+"px",this._compositionView.style.lineHeight=E+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const W=this._compositionView.getBoundingClientRect();this._textarea.style.left=M+"px",this._textarea.style.top=y+"px",this._textarea.style.width=Math.max(W.width,1)+"px",this._textarea.style.height=Math.max(W.height,1)+"px",this._textarea.style.lineHeight=W.height+"px"}F||setTimeout(()=>this.updateCompositionElements(!0),0)}}};_.CompositionHelper=j=b([A(2,k.IBufferService),A(3,k.IOptionsService),A(4,k.ICoreService),A(5,T.IRenderService)],j)},9806:(w,_)=>{function g(b,A,T){const k=T.getBoundingClientRect(),U=b.getComputedStyle(T),j=parseInt(U.getPropertyValue("padding-left")),F=parseInt(U.getPropertyValue("padding-top"));return[A.clientX-k.left-j,A.clientY-k.top-F]}Object.defineProperty(_,"__esModule",{value:!0}),_.getCoords=_.getCoordsRelativeToElement=void 0,_.getCoordsRelativeToElement=g,_.getCoords=function(b,A,T,k,U,j,F,D,E){if(!j)return;const y=g(b,A,T);return y?(y[0]=Math.ceil((y[0]+(E?F/2:0))/F),y[1]=Math.ceil(y[1]/D),y[0]=Math.min(Math.max(y[0],1),k+(E?1:0)),y[1]=Math.min(Math.max(y[1],1),U),y):void 0}},9504:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.moveToCellSequence=void 0;const b=g(2584);function A(D,E,y,M){const W=D-T(D,y),G=E-T(E,y);return F(Math.abs(W-G)-function(ne,H,te){let De=0;const ve=ne-T(ne,te),Te=H-T(H,te);for(let _e=0;_e<Math.abs(ve-Te);_e++){const ue="A"===k(ne,H)?-1:1;te.buffer.lines.get(ve+ue*_e)?.isWrapped&&De++}return De}(D,E,y),j(k(D,E),M))}function T(D,E){let y=0,M=E.buffer.lines.get(D),W=M?.isWrapped;for(;W&&D>=0&&D<E.rows;)y++,M=E.buffer.lines.get(--D),W=M?.isWrapped;return y}function k(D,E){return D>E?"A":"B"}function U(D,E,y,M,W,G){let Z=D,ne=E,H="";for(;Z!==y||ne!==M;)Z+=W?1:-1,W&&Z>G.cols-1?(H+=G.buffer.translateBufferLineToString(ne,!1,D,Z),Z=0,D=0,ne++):!W&&Z<0&&(H+=G.buffer.translateBufferLineToString(ne,!1,0,D+1),Z=G.cols-1,D=Z,ne--);return H+G.buffer.translateBufferLineToString(ne,!1,D,Z)}function j(D,E){return b.C0.ESC+(E?"O":"[")+D}function F(D,E){D=Math.floor(D);let y="";for(let M=0;M<D;M++)y+=E;return y}_.moveToCellSequence=function(D,E,y,M){const W=y.buffer.x,G=y.buffer.y;if(!y.buffer.hasScrollback)return H=W,(0===A(te=G,E,Te=y,_e=M).length?"":F(U(H,te,H,te-T(te,Te),!1,Te).length,j("D",_e)))+A(G,E,y,M)+function(H,te,De,ve,Te,_e){let ue;ue=A(te,ve,Te,_e).length>0?ve-T(ve,Te):te;const $e=ve,He=function(Be,Me,Y,z,V,re){let me;return me=A(Y,z,V,re).length>0?z-T(z,V):Me,Be<Y&&me<=z||Be>=Y&&me<z?"C":"D"}(H,te,De,ve,Te,_e);return F(U(H,ue,De,$e,"C"===He,Te).length,j(He,_e))}(W,G,D,E,y,M);var H,te,Te,_e;let Z;if(G===E)return Z=W>D?"D":"C",F(Math.abs(W-D),j(Z,M));Z=G>E?"D":"C";const ne=Math.abs(G-E);return F(function(H,te){return te.cols-H}(G>E?D:W,y)+(ne-1)*y.cols+1+((G>E?W:D)-1),j(Z,M))}},1296:function(w,_,g){var b=this&&this.__decorate||function(_e,ue,$e,He){var Be,Me=arguments.length,Y=Me<3?ue:null===He?He=Object.getOwnPropertyDescriptor(ue,$e):He;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(_e,ue,$e,He);else for(var z=_e.length-1;z>=0;z--)(Be=_e[z])&&(Y=(Me<3?Be(Y):Me>3?Be(ue,$e,Y):Be(ue,$e))||Y);return Me>3&&Y&&Object.defineProperty(ue,$e,Y),Y},A=this&&this.__param||function(_e,ue){return function($e,He){ue($e,He,_e)}};Object.defineProperty(_,"__esModule",{value:!0}),_.DomRenderer=void 0;const T=g(3787),k=g(2550),U=g(2223),j=g(6171),F=g(6052),D=g(4725),E=g(8055),y=g(8460),M=g(844),W=g(2585),G="xterm-dom-renderer-owner-",Z="xterm-rows",ne="xterm-fg-",H="xterm-bg-",te="xterm-focus",De="xterm-selection";let ve=1,Te=_.DomRenderer=class extends M.Disposable{constructor(_e,ue,$e,He,Be,Me,Y,z,V,re,me,pe,ce){super(),this._terminal=_e,this._document=ue,this._element=$e,this._screenElement=He,this._viewportElement=Be,this._helperContainer=Me,this._linkifier2=Y,this._charSizeService=V,this._optionsService=re,this._bufferService=me,this._coreBrowserService=pe,this._themeService=ce,this._terminalClass=ve++,this._rowElements=[],this._selectionRenderModel=(0,F.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new y.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(Z),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(De),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,j.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Ce=>this._injectCss(Ce))),this._injectCss(this._themeService.colors),this._rowFactory=z.createInstance(T.DomRendererRowFactory,document),this._element.classList.add(G+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Ce=>this._handleLinkHover(Ce))),this.register(this._linkifier2.onHideLinkUnderline(Ce=>this._handleLinkLeave(Ce))),this.register((0,M.toDisposable)(()=>{this._element.classList.remove(G+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new k.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const _e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*_e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*_e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/_e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/_e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const $e of this._rowElements)$e.style.width=`${this.dimensions.css.canvas.width}px`,$e.style.height=`${this.dimensions.css.cell.height}px`,$e.style.lineHeight=`${this.dimensions.css.cell.height}px`,$e.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .${Z} span { display: inline-block; height: 100%; vertical-align: top;}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(_e){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let ue=`${this._terminalSelector} .${Z} { color: ${_e.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;ue+=`${this._terminalSelector} .${Z} .xterm-dim { color: ${E.color.multiplyOpacity(_e.foreground,.5).css};}`,ue+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const $e=`blink_underline_${this._terminalClass}`,He=`blink_bar_${this._terminalClass}`,Be=`blink_block_${this._terminalClass}`;ue+=`@keyframes ${$e} { 50% {  border-bottom-style: hidden; }}`,ue+=`@keyframes ${He} { 50% {  box-shadow: none; }}`,ue+=`@keyframes ${Be} { 0% {  background-color: ${_e.cursor.css};  color: ${_e.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${_e.cursor.css}; }}`,ue+=`${this._terminalSelector} .${Z}.${te} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${$e} 1s step-end infinite;}${this._terminalSelector} .${Z}.${te} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${He} 1s step-end infinite;}${this._terminalSelector} .${Z}.${te} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${Be} 1s step-end infinite;}${this._terminalSelector} .${Z} .xterm-cursor.xterm-cursor-block { background-color: ${_e.cursor.css}; color: ${_e.cursorAccent.css};}${this._terminalSelector} .${Z} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${_e.cursor.css} !important; color: ${_e.cursorAccent.css} !important;}${this._terminalSelector} .${Z} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${_e.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${Z} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${_e.cursor.css} inset;}${this._terminalSelector} .${Z} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${_e.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,ue+=`${this._terminalSelector} .${De} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${De} div { position: absolute; background-color: ${_e.selectionBackgroundOpaque.css};}${this._terminalSelector} .${De} div { position: absolute; background-color: ${_e.selectionInactiveBackgroundOpaque.css};}`;for(const[Me,Y]of _e.ansi.entries())ue+=`${this._terminalSelector} .${ne}${Me} { color: ${Y.css}; }${this._terminalSelector} .${ne}${Me}.xterm-dim { color: ${E.color.multiplyOpacity(Y,.5).css}; }${this._terminalSelector} .${H}${Me} { background-color: ${Y.css}; }`;ue+=`${this._terminalSelector} .${ne}${U.INVERTED_DEFAULT_COLOR} { color: ${E.color.opaque(_e.background).css}; }${this._terminalSelector} .${ne}${U.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${E.color.multiplyOpacity(E.color.opaque(_e.background),.5).css}; }${this._terminalSelector} .${H}${U.INVERTED_DEFAULT_COLOR} { background-color: ${_e.foreground.css}; }`,this._themeStyleElement.textContent=ue}_setDefaultSpacing(){const _e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${_e}px`,this._rowFactory.defaultSpacing=_e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(_e,ue){for(let $e=this._rowElements.length;$e<=ue;$e++){const He=this._document.createElement("div");this._rowContainer.appendChild(He),this._rowElements.push(He)}for(;this._rowElements.length>ue;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(_e,ue){this._refreshRowElements(_e,ue),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(te),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(te),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(_e,ue,$e){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(_e,ue,$e),this.renderRows(0,this._bufferService.rows-1),!_e||!ue)return;this._selectionRenderModel.update(this._terminal,_e,ue,$e);const He=this._selectionRenderModel.viewportStartRow,Be=this._selectionRenderModel.viewportEndRow,Me=this._selectionRenderModel.viewportCappedStartRow,Y=this._selectionRenderModel.viewportCappedEndRow;if(Me>=this._bufferService.rows||Y<0)return;const z=this._document.createDocumentFragment();if($e){const V=_e[0]>ue[0];z.appendChild(this._createSelectionElement(Me,V?ue[0]:_e[0],V?_e[0]:ue[0],Y-Me+1))}else z.appendChild(this._createSelectionElement(Me,He===Me?_e[0]:0,Me===Be?ue[0]:this._bufferService.cols)),z.appendChild(this._createSelectionElement(Me+1,0,this._bufferService.cols,Y-Me-1)),Me!==Y&&z.appendChild(this._createSelectionElement(Y,0,Be===Y?ue[0]:this._bufferService.cols));this._selectionContainer.appendChild(z)}_createSelectionElement(_e,ue,$e,He=1){const Be=this._document.createElement("div"),Me=ue*this.dimensions.css.cell.width;let Y=this.dimensions.css.cell.width*($e-ue);return Me+Y>this.dimensions.css.canvas.width&&(Y=this.dimensions.css.canvas.width-Me),Be.style.height=He*this.dimensions.css.cell.height+"px",Be.style.top=_e*this.dimensions.css.cell.height+"px",Be.style.left=`${Me}px`,Be.style.width=`${Y}px`,Be}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const _e of this._rowElements)_e.replaceChildren()}renderRows(_e,ue){const $e=this._bufferService.buffer,He=$e.ybase+$e.y,Be=Math.min($e.x,this._bufferService.cols-1),Me=this._optionsService.rawOptions.cursorBlink,Y=this._optionsService.rawOptions.cursorStyle,z=this._optionsService.rawOptions.cursorInactiveStyle;for(let V=_e;V<=ue;V++){const re=V+$e.ydisp,me=this._rowElements[V],pe=$e.lines.get(re);if(!me||!pe)break;me.replaceChildren(...this._rowFactory.createRow(pe,re,re===He,Y,z,Be,Me,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${G}${this._terminalClass}`}_handleLinkHover(_e){this._setCellUnderline(_e.x1,_e.x2,_e.y1,_e.y2,_e.cols,!0)}_handleLinkLeave(_e){this._setCellUnderline(_e.x1,_e.x2,_e.y1,_e.y2,_e.cols,!1)}_setCellUnderline(_e,ue,$e,He,Be,Me){$e<0&&(_e=0),He<0&&(ue=0);const Y=this._bufferService.rows-1;$e=Math.max(Math.min($e,Y),0),He=Math.max(Math.min(He,Y),0),Be=Math.min(Be,this._bufferService.cols);const z=this._bufferService.buffer,V=z.ybase+z.y,re=Math.min(z.x,Be-1),me=this._optionsService.rawOptions.cursorBlink,pe=this._optionsService.rawOptions.cursorStyle,ce=this._optionsService.rawOptions.cursorInactiveStyle;for(let Ce=$e;Ce<=He;++Ce){const ae=Ce+z.ydisp,X=this._rowElements[Ce],Ee=z.lines.get(ae);if(!X||!Ee)break;X.replaceChildren(...this._rowFactory.createRow(Ee,ae,ae===V,pe,ce,re,me,this.dimensions.css.cell.width,this._widthCache,Me?Ce===$e?_e:0:-1,Me?(Ce===He?ue:Be)-1:-1))}}};_.DomRenderer=Te=b([A(7,W.IInstantiationService),A(8,D.ICharSizeService),A(9,W.IOptionsService),A(10,W.IBufferService),A(11,D.ICoreBrowserService),A(12,D.IThemeService)],Te)},3787:function(w,_,g){var b=this&&this.__decorate||function(Z,ne,H,te){var De,ve=arguments.length,Te=ve<3?ne:null===te?te=Object.getOwnPropertyDescriptor(ne,H):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Te=Reflect.decorate(Z,ne,H,te);else for(var _e=Z.length-1;_e>=0;_e--)(De=Z[_e])&&(Te=(ve<3?De(Te):ve>3?De(ne,H,Te):De(ne,H))||Te);return ve>3&&Te&&Object.defineProperty(ne,H,Te),Te},A=this&&this.__param||function(Z,ne){return function(H,te){ne(H,te,Z)}};Object.defineProperty(_,"__esModule",{value:!0}),_.DomRendererRowFactory=void 0;const T=g(2223),k=g(643),U=g(511),j=g(2585),F=g(8055),D=g(4725),E=g(4269),y=g(6171),M=g(3734);let W=_.DomRendererRowFactory=class{constructor(Z,ne,H,te,De,ve,Te){this._document=Z,this._characterJoinerService=ne,this._optionsService=H,this._coreBrowserService=te,this._coreService=De,this._decorationService=ve,this._themeService=Te,this._workCell=new U.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(Z,ne,H){this._selectionStart=Z,this._selectionEnd=ne,this._columnSelectMode=H}createRow(Z,ne,H,te,De,ve,Te,_e,ue,$e,He){const Be=[],Me=this._characterJoinerService.getJoinedCharacters(ne),Y=this._themeService.colors;let z,V=Z.getNoBgTrimmedLength();H&&V<ve+1&&(V=ve+1);let re=0,me="",pe=0,ce=0,Ce=0,ae=!1,X=0,Ee=!1,Ae=0;const je=[],Ke=-1!==$e&&-1!==He;for(let ut=0;ut<V;ut++){Z.loadCell(ut,this._workCell);let it=this._workCell.getWidth();if(0===it)continue;let Ne=!1,We=ut,Oe=this._workCell;if(Me.length>0&&ut===Me[0][0]){Ne=!0;const Ht=Me.shift();Oe=new E.JoinedCellData(this._workCell,Z.translateToString(!0,Ht[0],Ht[1]),Ht[1]-Ht[0]),We=Ht[1]-1,it=Oe.getWidth()}const xe=this._isCellInSelection(ut,ne),Ze=H&&ut===ve,yt=Ke&&ut>=$e&&ut<=He;let Wt=!1;this._decorationService.forEachDecorationAtCell(ut,ne,void 0,Ht=>{Wt=!0});let vt=Oe.getChars()||k.WHITESPACE_CELL_CHAR;if(" "===vt&&(Oe.isUnderline()||Oe.isOverline())&&(vt="\xa0"),Ae=it*_e-ue.get(vt,Oe.isBold(),Oe.isItalic()),z){if(re&&(xe&&Ee||!xe&&!Ee&&Oe.bg===pe)&&(xe&&Ee&&Y.selectionForeground||Oe.fg===ce)&&Oe.extended.ext===Ce&&yt===ae&&Ae===X&&!Ze&&!Ne&&!Wt){Oe.isInvisible()?me+=k.WHITESPACE_CELL_CHAR:me+=vt,re++;continue}re&&(z.textContent=me),z=this._document.createElement("span"),re=0,me=""}else z=this._document.createElement("span");if(pe=Oe.bg,ce=Oe.fg,Ce=Oe.extended.ext,ae=yt,X=Ae,Ee=xe,Ne&&ve>=ut&&ve<=We&&(ve=ut),!this._coreService.isCursorHidden&&Ze&&this._coreService.isCursorInitialized)if(je.push("xterm-cursor"),this._coreBrowserService.isFocused)Te&&je.push("xterm-cursor-blink"),je.push("bar"===te?"xterm-cursor-bar":"underline"===te?"xterm-cursor-underline":"xterm-cursor-block");else if(De)switch(De){case"outline":je.push("xterm-cursor-outline");break;case"block":je.push("xterm-cursor-block");break;case"bar":je.push("xterm-cursor-bar");break;case"underline":je.push("xterm-cursor-underline")}if(Oe.isBold()&&je.push("xterm-bold"),Oe.isItalic()&&je.push("xterm-italic"),Oe.isDim()&&je.push("xterm-dim"),me=Oe.isInvisible()?k.WHITESPACE_CELL_CHAR:Oe.getChars()||k.WHITESPACE_CELL_CHAR,Oe.isUnderline()&&(je.push(`xterm-underline-${Oe.extended.underlineStyle}`)," "===me&&(me="\xa0"),!Oe.isUnderlineColorDefault()))if(Oe.isUnderlineColorRGB())z.style.textDecorationColor=`rgb(${M.AttributeData.toColorRGB(Oe.getUnderlineColor()).join(",")})`;else{let Ht=Oe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Oe.isBold()&&Ht<8&&(Ht+=8),z.style.textDecorationColor=Y.ansi[Ht].css}Oe.isOverline()&&(je.push("xterm-overline")," "===me&&(me="\xa0")),Oe.isStrikethrough()&&je.push("xterm-strikethrough"),yt&&(z.style.textDecoration="underline");let qt=Oe.getFgColor(),Nt=Oe.getFgColorMode(),kt=Oe.getBgColor(),fn=Oe.getBgColorMode();const $t=!!Oe.isInverse();if($t){const Ht=qt;qt=kt,kt=Ht;const bt=Nt;Nt=fn,fn=bt}let Et,an,It,ln=!1;switch(this._decorationService.forEachDecorationAtCell(ut,ne,void 0,Ht=>{"top"!==Ht.options.layer&&ln||(Ht.backgroundColorRGB&&(fn=50331648,kt=Ht.backgroundColorRGB.rgba>>8&16777215,Et=Ht.backgroundColorRGB),Ht.foregroundColorRGB&&(Nt=50331648,qt=Ht.foregroundColorRGB.rgba>>8&16777215,an=Ht.foregroundColorRGB),ln="top"===Ht.options.layer)}),!ln&&xe&&(Et=this._coreBrowserService.isFocused?Y.selectionBackgroundOpaque:Y.selectionInactiveBackgroundOpaque,kt=Et.rgba>>8&16777215,fn=50331648,ln=!0,Y.selectionForeground&&(Nt=50331648,qt=Y.selectionForeground.rgba>>8&16777215,an=Y.selectionForeground)),ln&&je.push("xterm-decoration-top"),fn){case 16777216:case 33554432:It=Y.ansi[kt],je.push(`xterm-bg-${kt}`);break;case 50331648:It=F.channels.toColor(kt>>16,kt>>8&255,255&kt),this._addStyle(z,`background-color:#${G((kt>>>0).toString(16),"0",6)}`);break;default:$t?(It=Y.foreground,je.push(`xterm-bg-${T.INVERTED_DEFAULT_COLOR}`)):It=Y.background}switch(Et||Oe.isDim()&&(Et=F.color.multiplyOpacity(It,.5)),Nt){case 16777216:case 33554432:Oe.isBold()&&qt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(qt+=8),this._applyMinimumContrast(z,It,Y.ansi[qt],Oe,Et,void 0)||je.push(`xterm-fg-${qt}`);break;case 50331648:const Ht=F.channels.toColor(qt>>16&255,qt>>8&255,255&qt);this._applyMinimumContrast(z,It,Ht,Oe,Et,an)||this._addStyle(z,`color:#${G(qt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(z,It,Y.foreground,Oe,Et,an)||$t&&je.push(`xterm-fg-${T.INVERTED_DEFAULT_COLOR}`)}je.length&&(z.className=je.join(" "),je.length=0),Ze||Ne||Wt?z.textContent=me:re++,Ae!==this.defaultSpacing&&(z.style.letterSpacing=`${Ae}px`),Be.push(z),ut=We}return z&&re&&(z.textContent=me),Be}_applyMinimumContrast(Z,ne,H,te,De,ve){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,y.treatGlyphAsBackgroundColor)(te.getCode()))return!1;const Te=this._getContrastCache(te);let _e;if(De||ve||(_e=Te.getColor(ne.rgba,H.rgba)),void 0===_e){const ue=this._optionsService.rawOptions.minimumContrastRatio/(te.isDim()?2:1);_e=F.color.ensureContrastRatio(De||ne,ve||H,ue),Te.setColor((De||ne).rgba,(ve||H).rgba,_e??null)}return!!_e&&(this._addStyle(Z,`color:${_e.css}`),!0)}_getContrastCache(Z){return Z.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(Z,ne){Z.setAttribute("style",`${Z.getAttribute("style")||""}${ne};`)}_isCellInSelection(Z,ne){const H=this._selectionStart,te=this._selectionEnd;return!(!H||!te)&&(this._columnSelectMode?H[0]<=te[0]?Z>=H[0]&&ne>=H[1]&&Z<te[0]&&ne<=te[1]:Z<H[0]&&ne>=H[1]&&Z>=te[0]&&ne<=te[1]:ne>H[1]&&ne<te[1]||H[1]===te[1]&&ne===H[1]&&Z>=H[0]&&Z<te[0]||H[1]<te[1]&&ne===te[1]&&Z<te[0]||H[1]<te[1]&&ne===H[1]&&Z>=H[0])}};function G(Z,ne,H){for(;Z.length<H;)Z=ne+Z;return Z}_.DomRendererRowFactory=W=b([A(1,D.ICharacterJoinerService),A(2,j.IOptionsService),A(3,D.ICoreBrowserService),A(4,j.ICoreService),A(5,j.IDecorationService),A(6,D.IThemeService)],W)},2550:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WidthCache=void 0,_.WidthCache=class{constructor(g,b){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=g.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const A=g.createElement("span");A.classList.add("xterm-char-measure-element");const T=g.createElement("span");T.classList.add("xterm-char-measure-element"),T.style.fontWeight="bold";const k=g.createElement("span");k.classList.add("xterm-char-measure-element"),k.style.fontStyle="italic";const U=g.createElement("span");U.classList.add("xterm-char-measure-element"),U.style.fontWeight="bold",U.style.fontStyle="italic",this._measureElements=[A,T,k,U],this._container.appendChild(A),this._container.appendChild(T),this._container.appendChild(k),this._container.appendChild(U),b.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(g,b,A,T){g===this._font&&b===this._fontSize&&A===this._weight&&T===this._weightBold||(this._font=g,this._fontSize=b,this._weight=A,this._weightBold=T,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${A}`,this._measureElements[1].style.fontWeight=`${T}`,this._measureElements[2].style.fontWeight=`${A}`,this._measureElements[3].style.fontWeight=`${T}`,this.clear())}get(g,b,A){let T=0;if(!b&&!A&&1===g.length&&(T=g.charCodeAt(0))<256){if(-9999!==this._flat[T])return this._flat[T];const j=this._measure(g,0);return j>0&&(this._flat[T]=j),j}let k=g;b&&(k+="B"),A&&(k+="I");let U=this._holey.get(k);if(void 0===U){let j=0;b&&(j|=1),A&&(j|=2),U=this._measure(g,j),U>0&&this._holey.set(k,U)}return U}_measure(g,b){const A=this._measureElements[b];return A.textContent=g.repeat(32),A.offsetWidth/32}}},2223:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TEXT_BASELINE=_.DIM_OPACITY=_.INVERTED_DEFAULT_COLOR=void 0;const b=g(6114);_.INVERTED_DEFAULT_COLOR=257,_.DIM_OPACITY=.5,_.TEXT_BASELINE=b.isFirefox||b.isLegacyEdge?"bottom":"ideographic"},6171:(w,_)=>{function g(A){return 57508<=A&&A<=57558}function b(A){return A>=128512&&A<=128591||A>=127744&&A<=128511||A>=128640&&A<=128767||A>=9728&&A<=9983||A>=9984&&A<=10175||A>=65024&&A<=65039||A>=129280&&A<=129535||A>=127462&&A<=127487}Object.defineProperty(_,"__esModule",{value:!0}),_.computeNextVariantOffset=_.createRenderDimensions=_.treatGlyphAsBackgroundColor=_.allowRescaling=_.isEmoji=_.isRestrictedPowerlineGlyph=_.isPowerlineGlyph=_.throwIfFalsy=void 0,_.throwIfFalsy=function(A){if(!A)throw new Error("value must not be falsy");return A},_.isPowerlineGlyph=g,_.isRestrictedPowerlineGlyph=function(A){return 57520<=A&&A<=57527},_.isEmoji=b,_.allowRescaling=function(A,T,k,U){return 1===T&&k>Math.ceil(1.5*U)&&void 0!==A&&A>255&&!b(A)&&!g(A)&&!(57344<=(j=A)&&j<=63743);var j},_.treatGlyphAsBackgroundColor=function(A){return g(A)||9472<=(T=A)&&T<=9631;var T},_.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},_.computeNextVariantOffset=function(A,T,k=0){return(A-(2*Math.round(T)-k))%(2*Math.round(T))}},6052:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createSelectionRenderModel=void 0;class g{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(A,T,k,U=!1){if(this.selectionStart=T,this.selectionEnd=k,!T||!k||T[0]===k[0]&&T[1]===k[1])return void this.clear();const j=A.buffers.active.ydisp,F=T[1]-j,D=k[1]-j,E=Math.max(F,0),y=Math.min(D,A.rows-1);E>=A.rows||y<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=U,this.viewportStartRow=F,this.viewportEndRow=D,this.viewportCappedStartRow=E,this.viewportCappedEndRow=y,this.startCol=T[0],this.endCol=k[0])}isCellSelected(A,T,k){return!!this.hasSelection&&(k-=A.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?T>=this.startCol&&k>=this.viewportCappedStartRow&&T<this.endCol&&k<=this.viewportCappedEndRow:T<this.startCol&&k>=this.viewportCappedStartRow&&T>=this.endCol&&k<=this.viewportCappedEndRow:k>this.viewportStartRow&&k<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&k===this.viewportStartRow&&T>=this.startCol&&T<this.endCol||this.viewportStartRow<this.viewportEndRow&&k===this.viewportEndRow&&T<this.endCol||this.viewportStartRow<this.viewportEndRow&&k===this.viewportStartRow&&T>=this.startCol)}}_.createSelectionRenderModel=function(){return new g}},456:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SelectionModel=void 0,_.SelectionModel=class{constructor(g){this._bufferService=g,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const g=this.selectionStart[0]+this.selectionStartLength;return g>this._bufferService.cols?g%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(g/this._bufferService.cols)-1]:[g%this._bufferService.cols,this.selectionStart[1]+Math.floor(g/this._bufferService.cols)]:[g,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const g=this.selectionStart[0]+this.selectionStartLength;return g>this._bufferService.cols?[g%this._bufferService.cols,this.selectionStart[1]+Math.floor(g/this._bufferService.cols)]:[Math.max(g,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const g=this.selectionStart,b=this.selectionEnd;return!(!g||!b)&&(g[1]>b[1]||g[1]===b[1]&&g[0]>b[0])}handleTrim(g){return this.selectionStart&&(this.selectionStart[1]-=g),this.selectionEnd&&(this.selectionEnd[1]-=g),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(w,_,g){var b=this&&this.__decorate||function(y,M,W,G){var Z,ne=arguments.length,H=ne<3?M:null===G?G=Object.getOwnPropertyDescriptor(M,W):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(y,M,W,G);else for(var te=y.length-1;te>=0;te--)(Z=y[te])&&(H=(ne<3?Z(H):ne>3?Z(M,W,H):Z(M,W))||H);return ne>3&&H&&Object.defineProperty(M,W,H),H},A=this&&this.__param||function(y,M){return function(W,G){M(W,G,y)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CharSizeService=void 0;const T=g(2585),k=g(8460),U=g(844);let j=_.CharSizeService=class extends U.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(y,M,W){super(),this._optionsService=W,this.width=0,this.height=0,this._onCharSizeChange=this.register(new k.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new E(this._optionsService))}catch{this._measureStrategy=this.register(new D(y,M,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const y=this._measureStrategy.measure();y.width===this.width&&y.height===this.height||(this.width=y.width,this.height=y.height,this._onCharSizeChange.fire())}};_.CharSizeService=j=b([A(2,T.IOptionsService)],j);class F extends U.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(M,W){void 0!==M&&M>0&&void 0!==W&&W>0&&(this._result.width=M,this._result.height=W)}}class D extends F{constructor(M,W,G){super(),this._document=M,this._parentElement=W,this._optionsService=G,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class E extends F{constructor(M){super(),this._optionsService=M,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const W=this._ctx.measureText("W");if(!("width"in W&&"fontBoundingBoxAscent"in W&&"fontBoundingBoxDescent"in W))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const M=this._ctx.measureText("W");return this._validateAndSet(M.width,M.fontBoundingBoxAscent+M.fontBoundingBoxDescent),this._result}}},4269:function(w,_,g){var b=this&&this.__decorate||function(E,y,M,W){var G,Z=arguments.length,ne=Z<3?y:null===W?W=Object.getOwnPropertyDescriptor(y,M):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(E,y,M,W);else for(var H=E.length-1;H>=0;H--)(G=E[H])&&(ne=(Z<3?G(ne):Z>3?G(y,M,ne):G(y,M))||ne);return Z>3&&ne&&Object.defineProperty(y,M,ne),ne},A=this&&this.__param||function(E,y){return function(M,W){y(M,W,E)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CharacterJoinerService=_.JoinedCellData=void 0;const T=g(3734),k=g(643),U=g(511),j=g(2585);_.JoinedCellData=class F extends T.AttributeData{constructor(y,M,W){super(),this.content=0,this.combinedData="",this.fg=y.fg,this.bg=y.bg,this.combinedData=M,this._width=W}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(y){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let D=_.CharacterJoinerService=class oy{constructor(y){this._bufferService=y,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new U.CellData}register(y){const M={id:this._nextCharacterJoinerId++,handler:y};return this._characterJoiners.push(M),M.id}deregister(y){for(let M=0;M<this._characterJoiners.length;M++)if(this._characterJoiners[M].id===y)return this._characterJoiners.splice(M,1),!0;return!1}getJoinedCharacters(y){if(0===this._characterJoiners.length)return[];const M=this._bufferService.buffer.lines.get(y);if(!M||0===M.length)return[];const W=[],G=M.translateToString(!0);let Z=0,ne=0,H=0,te=M.getFg(0),De=M.getBg(0);for(let ve=0;ve<M.getTrimmedLength();ve++)if(M.loadCell(ve,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==te||this._workCell.bg!==De){if(ve-Z>1){const Te=this._getJoinedRanges(G,H,ne,M,Z);for(let _e=0;_e<Te.length;_e++)W.push(Te[_e])}Z=ve,H=ne,te=this._workCell.fg,De=this._workCell.bg}ne+=this._workCell.getChars().length||k.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-Z>1){const ve=this._getJoinedRanges(G,H,ne,M,Z);for(let Te=0;Te<ve.length;Te++)W.push(ve[Te])}return W}_getJoinedRanges(y,M,W,G,Z){const ne=y.substring(M,W);let H=[];try{H=this._characterJoiners[0].handler(ne)}catch(te){console.error(te)}for(let te=1;te<this._characterJoiners.length;te++)try{const De=this._characterJoiners[te].handler(ne);for(let ve=0;ve<De.length;ve++)oy._mergeRanges(H,De[ve])}catch(De){console.error(De)}return this._stringRangesToCellRanges(H,G,Z),H}_stringRangesToCellRanges(y,M,W){let G=0,Z=!1,ne=0,H=y[G];if(H){for(let te=W;te<this._bufferService.cols;te++){const De=M.getWidth(te),ve=M.getString(te).length||k.WHITESPACE_CELL_CHAR.length;if(0!==De){if(!Z&&H[0]<=ne&&(H[0]=te,Z=!0),H[1]<=ne){if(H[1]=te,H=y[++G],!H)break;H[0]<=ne?(H[0]=te,Z=!0):Z=!1}ne+=ve}}H&&(H[1]=this._bufferService.cols)}}static _mergeRanges(y,M){let W=!1;for(let G=0;G<y.length;G++){const Z=y[G];if(W){if(M[1]<=Z[0])return y[G-1][1]=M[1],y;if(M[1]<=Z[1])return y[G-1][1]=Math.max(M[1],Z[1]),y.splice(G,1),y;y.splice(G,1),G--}else{if(M[1]<=Z[0])return y.splice(G,0,M),y;if(M[1]<=Z[1])return Z[0]=Math.min(M[0],Z[0]),y;M[0]<Z[1]&&(Z[0]=Math.min(M[0],Z[0]),W=!0)}}return W?y[y.length-1][1]=M[1]:y.push(M),y}};_.CharacterJoinerService=D=b([A(0,j.IBufferService)],D)},5114:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CoreBrowserService=void 0;const b=g(844),A=g(8460),T=g(3656);_.CoreBrowserService=class k extends b.Disposable{constructor(F,D,E){super(),this._textarea=F,this._window=D,this.mainDocument=E,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new U(this._window),this._onDprChange=this.register(new A.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new A.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(y=>this._screenDprMonitor.setWindow(y))),this.register((0,A.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(F){this._window!==F&&(this._window=F,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}};class U extends b.Disposable{constructor(F){super(),this._parentWindow=F,this._windowResizeListener=this.register(new b.MutableDisposable),this._onDprChange=this.register(new A.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,b.toDisposable)(()=>this.clearListener()))}setWindow(F){this._parentWindow=F,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,T.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.LinkProviderService=void 0;const b=g(844);_.LinkProviderService=class A extends b.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,b.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(k){return this.linkProviders.push(k),{dispose:()=>{const U=this.linkProviders.indexOf(k);-1!==U&&this.linkProviders.splice(U,1)}}}}},8934:function(w,_,g){var b=this&&this.__decorate||function(j,F,D,E){var y,M=arguments.length,W=M<3?F:null===E?E=Object.getOwnPropertyDescriptor(F,D):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(j,F,D,E);else for(var G=j.length-1;G>=0;G--)(y=j[G])&&(W=(M<3?y(W):M>3?y(F,D,W):y(F,D))||W);return M>3&&W&&Object.defineProperty(F,D,W),W},A=this&&this.__param||function(j,F){return function(D,E){F(D,E,j)}};Object.defineProperty(_,"__esModule",{value:!0}),_.MouseService=void 0;const T=g(4725),k=g(9806);let U=_.MouseService=class{constructor(j,F){this._renderService=j,this._charSizeService=F}getCoords(j,F,D,E,y){return(0,k.getCoords)(window,j,F,D,E,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,y)}getMouseReportCoords(j,F){const D=(0,k.getCoordsRelativeToElement)(window,j,F);if(this._charSizeService.hasValidSize)return D[0]=Math.min(Math.max(D[0],0),this._renderService.dimensions.css.canvas.width-1),D[1]=Math.min(Math.max(D[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(D[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(D[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(D[0]),y:Math.floor(D[1])}}};_.MouseService=U=b([A(0,T.IRenderService),A(1,T.ICharSizeService)],U)},3230:function(w,_,g){var b=this&&this.__decorate||function(y,M,W,G){var Z,ne=arguments.length,H=ne<3?M:null===G?G=Object.getOwnPropertyDescriptor(M,W):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(y,M,W,G);else for(var te=y.length-1;te>=0;te--)(Z=y[te])&&(H=(ne<3?Z(H):ne>3?Z(M,W,H):Z(M,W))||H);return ne>3&&H&&Object.defineProperty(M,W,H),H},A=this&&this.__param||function(y,M){return function(W,G){M(W,G,y)}};Object.defineProperty(_,"__esModule",{value:!0}),_.RenderService=void 0;const T=g(6193),k=g(4725),U=g(8460),j=g(844),F=g(7226),D=g(2585);let E=_.RenderService=class extends j.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(y,M,W,G,Z,ne,H,te){super(),this._rowCount=y,this._charSizeService=G,this._renderer=this.register(new j.MutableDisposable),this._pausedResizeTask=new F.DebouncedIdleTask,this._observerDisposable=this.register(new j.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new U.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new U.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new U.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new U.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new T.RenderDebouncer((De,ve)=>this._renderRows(De,ve),H),this.register(this._renderDebouncer),this.register(H.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(ne.onResize(()=>this._fullRefresh())),this.register(ne.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this.register(W.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(Z.onDecorationRegistered(()=>this._fullRefresh())),this.register(Z.onDecorationRemoved(()=>this._fullRefresh())),this.register(W.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(ne.cols,ne.rows),this._fullRefresh()})),this.register(W.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(ne.buffer.y,ne.buffer.y,!0))),this.register(te.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(H.window,M),this.register(H.onWindowChange(De=>this._registerIntersectionObserver(De,M)))}_registerIntersectionObserver(y,M){if("IntersectionObserver"in y){const W=new y.IntersectionObserver(G=>this._handleIntersectionChange(G[G.length-1]),{threshold:0});W.observe(M),this._observerDisposable.value=(0,j.toDisposable)(()=>W.disconnect())}}_handleIntersectionChange(y){this._isPaused=void 0===y.isIntersecting?0===y.intersectionRatio:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,M,W=!1){this._isPaused?this._needsFullRefresh=!0:(W||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,M,this._rowCount))}_renderRows(y,M){this._renderer.value&&(y=Math.min(y,this._rowCount-1),M=Math.min(M,this._rowCount-1),this._renderer.value.renderRows(y,M),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:M}),this._onRender.fire({start:y,end:M}),this._isNextRenderRedrawOnly=!0)}resize(y,M){this._rowCount=M,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(y){this._renderer.value=y,this._renderer.value&&(this._renderer.value.onRequestRedraw(M=>this.refreshRows(M.start,M.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,M){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(y,M)):this._renderer.value.handleResize(y,M),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(y,M,W){this._selectionState.start=y,this._selectionState.end=M,this._selectionState.columnSelectMode=W,this._renderer.value?.handleSelectionChanged(y,M,W)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};_.RenderService=E=b([A(2,D.IOptionsService),A(3,k.ICharSizeService),A(4,D.IDecorationService),A(5,D.IBufferService),A(6,k.ICoreBrowserService),A(7,k.IThemeService)],E)},9312:function(w,_,g){var b=this&&this.__decorate||function(H,te,De,ve){var Te,_e=arguments.length,ue=_e<3?te:null===ve?ve=Object.getOwnPropertyDescriptor(te,De):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(H,te,De,ve);else for(var $e=H.length-1;$e>=0;$e--)(Te=H[$e])&&(ue=(_e<3?Te(ue):_e>3?Te(te,De,ue):Te(te,De))||ue);return _e>3&&ue&&Object.defineProperty(te,De,ue),ue},A=this&&this.__param||function(H,te){return function(De,ve){te(De,ve,H)}};Object.defineProperty(_,"__esModule",{value:!0}),_.SelectionService=void 0;const T=g(9806),k=g(9504),U=g(456),j=g(4725),F=g(8460),D=g(844),E=g(6114),y=g(4841),M=g(511),W=g(2585),G=String.fromCharCode(160),Z=new RegExp(G,"g");let ne=_.SelectionService=class extends D.Disposable{constructor(H,te,De,ve,Te,_e,ue,$e,He){super(),this._element=H,this._screenElement=te,this._linkifier=De,this._bufferService=ve,this._coreService=Te,this._mouseService=_e,this._optionsService=ue,this._renderService=$e,this._coreBrowserService=He,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new M.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new F.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new F.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new F.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new F.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Be=>this._handleMouseMove(Be),this._mouseUpListener=Be=>this._handleMouseUp(Be),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Be=>this._handleTrim(Be)),this.register(this._bufferService.buffers.onBufferActivate(Be=>this._handleBufferActivate(Be))),this.enable(),this._model=new U.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,D.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const H=this._model.finalSelectionStart,te=this._model.finalSelectionEnd;return!(!H||!te||H[0]===te[0]&&H[1]===te[1])}get selectionText(){const H=this._model.finalSelectionStart,te=this._model.finalSelectionEnd;if(!H||!te)return"";const De=this._bufferService.buffer,ve=[];if(3===this._activeSelectionMode){if(H[0]===te[0])return"";const Te=H[0]<te[0]?H[0]:te[0],_e=H[0]<te[0]?te[0]:H[0];for(let ue=H[1];ue<=te[1];ue++){const $e=De.translateBufferLineToString(ue,!0,Te,_e);ve.push($e)}}else{ve.push(De.translateBufferLineToString(H[1],!0,H[0],H[1]===te[1]?te[0]:void 0));for(let _e=H[1]+1;_e<=te[1]-1;_e++){const ue=De.lines.get(_e),$e=De.translateBufferLineToString(_e,!0);ue?.isWrapped?ve[ve.length-1]+=$e:ve.push($e)}if(H[1]!==te[1]){const _e=De.lines.get(te[1]),ue=De.translateBufferLineToString(te[1],!0,0,te[0]);_e&&_e.isWrapped?ve[ve.length-1]+=ue:ve.push(ue)}}return ve.map(Te=>Te.replace(Z," ")).join(E.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(H){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),E.isLinux&&H&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(H){const te=this._getMouseBufferCoords(H),De=this._model.finalSelectionStart,ve=this._model.finalSelectionEnd;return!!(De&&ve&&te)&&this._areCoordsInSelection(te,De,ve)}isCellInSelection(H,te){const De=this._model.finalSelectionStart,ve=this._model.finalSelectionEnd;return!(!De||!ve)&&this._areCoordsInSelection([H,te],De,ve)}_areCoordsInSelection(H,te,De){return H[1]>te[1]&&H[1]<De[1]||te[1]===De[1]&&H[1]===te[1]&&H[0]>=te[0]&&H[0]<De[0]||te[1]<De[1]&&H[1]===De[1]&&H[0]<De[0]||te[1]<De[1]&&H[1]===te[1]&&H[0]>=te[0]}_selectWordAtCursor(H,te){const De=this._linkifier.currentLink?.link?.range;if(De)return this._model.selectionStart=[De.start.x-1,De.start.y-1],this._model.selectionStartLength=(0,y.getRangeLength)(De,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const ve=this._getMouseBufferCoords(H);return!!ve&&(this._selectWordAt(ve,te),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(H,te){this._model.clearSelection(),H=Math.max(H,0),te=Math.min(te,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,H],this._model.selectionEnd=[this._bufferService.cols,te],this.refresh(),this._onSelectionChange.fire()}_handleTrim(H){this._model.handleTrim(H)&&this.refresh()}_getMouseBufferCoords(H){const te=this._mouseService.getCoords(H,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(te)return te[0]--,te[1]--,te[1]+=this._bufferService.buffer.ydisp,te}_getMouseEventScrollAmount(H){let te=(0,T.getCoordsRelativeToElement)(this._coreBrowserService.window,H,this._screenElement)[1];const De=this._renderService.dimensions.css.canvas.height;return te>=0&&te<=De?0:(te>De&&(te-=De),te=Math.min(Math.max(te,-50),50),te/=50,te/Math.abs(te)+Math.round(14*te))}shouldForceSelection(H){return E.isMac?H.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:H.shiftKey}handleMouseDown(H){if(this._mouseDownTimeStamp=H.timeStamp,(2!==H.button||!this.hasSelection)&&0===H.button){if(!this._enabled){if(!this.shouldForceSelection(H))return;H.stopPropagation()}H.preventDefault(),this._dragScrollAmount=0,this._enabled&&H.shiftKey?this._handleIncrementalClick(H):1===H.detail?this._handleSingleClick(H):2===H.detail?this._handleDoubleClick(H):3===H.detail&&this._handleTripleClick(H),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(H){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(H))}_handleSingleClick(H){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(H)?3:0,this._model.selectionStart=this._getMouseBufferCoords(H),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const te=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);te&&te.length!==this._model.selectionStart[0]&&0===te.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(H){this._selectWordAtCursor(H,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(H){const te=this._getMouseBufferCoords(H);te&&(this._activeSelectionMode=2,this._selectLineAt(te[1]))}shouldColumnSelect(H){return H.altKey&&!(E.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(H){if(H.stopImmediatePropagation(),!this._model.selectionStart)return;const te=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(H),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(H),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const De=this._bufferService.buffer;if(this._model.selectionEnd[1]<De.lines.length){const ve=De.lines.get(this._model.selectionEnd[1]);ve&&0===ve.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}te&&te[0]===this._model.selectionEnd[0]&&te[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const H=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(H.ydisp+this._bufferService.rows,H.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=H.ydisp),this.refresh()}}_handleMouseUp(H){const te=H.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&te<500&&H.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const De=this._mouseService.getCoords(H,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(De&&void 0!==De[0]&&void 0!==De[1]){const ve=(0,k.moveToCellSequence)(De[0]-1,De[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(ve,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const H=this._model.finalSelectionStart,te=this._model.finalSelectionEnd,De=!(!H||!te||H[0]===te[0]&&H[1]===te[1]);De?H&&te&&(this._oldSelectionStart&&this._oldSelectionEnd&&H[0]===this._oldSelectionStart[0]&&H[1]===this._oldSelectionStart[1]&&te[0]===this._oldSelectionEnd[0]&&te[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(H,te,De)):this._oldHasSelection&&this._fireOnSelectionChange(H,te,De)}_fireOnSelectionChange(H,te,De){this._oldSelectionStart=H,this._oldSelectionEnd=te,this._oldHasSelection=De,this._onSelectionChange.fire()}_handleBufferActivate(H){this.clearSelection(),this._trimListener.dispose(),this._trimListener=H.activeBuffer.lines.onTrim(te=>this._handleTrim(te))}_convertViewportColToCharacterIndex(H,te){let De=te;for(let ve=0;te>=ve;ve++){const Te=H.loadCell(ve,this._workCell).getChars().length;0===this._workCell.getWidth()?De--:Te>1&&te!==ve&&(De+=Te-1)}return De}setSelection(H,te,De){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[H,te],this._model.selectionStartLength=De,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(H){this._isClickInSelection(H)||(this._selectWordAtCursor(H,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(H,te,De=!0,ve=!0){if(H[0]>=this._bufferService.cols)return;const Te=this._bufferService.buffer,_e=Te.lines.get(H[1]);if(!_e)return;const ue=Te.translateBufferLineToString(H[1],!1);let $e=this._convertViewportColToCharacterIndex(_e,H[0]),He=$e;const Be=H[0]-$e;let Me=0,Y=0,z=0,V=0;if(" "===ue.charAt($e)){for(;$e>0&&" "===ue.charAt($e-1);)$e--;for(;He<ue.length&&" "===ue.charAt(He+1);)He++}else{let pe=H[0],ce=H[0];0===_e.getWidth(pe)&&(Me++,pe--),2===_e.getWidth(ce)&&(Y++,ce++);const Ce=_e.getString(ce).length;for(Ce>1&&(V+=Ce-1,He+=Ce-1);pe>0&&$e>0&&!this._isCharWordSeparator(_e.loadCell(pe-1,this._workCell));){_e.loadCell(pe-1,this._workCell);const ae=this._workCell.getChars().length;0===this._workCell.getWidth()?(Me++,pe--):ae>1&&(z+=ae-1,$e-=ae-1),$e--,pe--}for(;ce<_e.length&&He+1<ue.length&&!this._isCharWordSeparator(_e.loadCell(ce+1,this._workCell));){_e.loadCell(ce+1,this._workCell);const ae=this._workCell.getChars().length;2===this._workCell.getWidth()?(Y++,ce++):ae>1&&(V+=ae-1,He+=ae-1),He++,ce++}}He++;let re=$e+Be-Me+z,me=Math.min(this._bufferService.cols,He-$e+Me+Y-z-V);if(te||""!==ue.slice($e,He).trim()){if(De&&0===re&&32!==_e.getCodePoint(0)){const pe=Te.lines.get(H[1]-1);if(pe&&_e.isWrapped&&32!==pe.getCodePoint(this._bufferService.cols-1)){const ce=this._getWordAt([this._bufferService.cols-1,H[1]-1],!1,!0,!1);if(ce){const Ce=this._bufferService.cols-ce.start;re-=Ce,me+=Ce}}}if(ve&&re+me===this._bufferService.cols&&32!==_e.getCodePoint(this._bufferService.cols-1)){const pe=Te.lines.get(H[1]+1);if(pe?.isWrapped&&32!==pe.getCodePoint(0)){const ce=this._getWordAt([0,H[1]+1],!1,!1,!0);ce&&(me+=ce.length)}}return{start:re,length:me}}}_selectWordAt(H,te){const De=this._getWordAt(H,te);if(De){for(;De.start<0;)De.start+=this._bufferService.cols,H[1]--;this._model.selectionStart=[De.start,H[1]],this._model.selectionStartLength=De.length}}_selectToWordAt(H){const te=this._getWordAt(H,!0);if(te){let De=H[1];for(;te.start<0;)te.start+=this._bufferService.cols,De--;if(!this._model.areSelectionValuesReversed())for(;te.start+te.length>this._bufferService.cols;)te.length-=this._bufferService.cols,De++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?te.start:te.start+te.length,De]}}_isCharWordSeparator(H){return 0!==H.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(H.getChars())>=0}_selectLineAt(H){const te=this._bufferService.buffer.getWrappedRangeForLine(H),De={start:{x:0,y:te.first},end:{x:this._bufferService.cols-1,y:te.last}};this._model.selectionStart=[0,te.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,y.getRangeLength)(De,this._bufferService.cols)}};_.SelectionService=ne=b([A(3,W.IBufferService),A(4,W.ICoreService),A(5,j.IMouseService),A(6,W.IOptionsService),A(7,j.IRenderService),A(8,j.ICoreBrowserService)],ne)},4725:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ILinkProviderService=_.IThemeService=_.ICharacterJoinerService=_.ISelectionService=_.IRenderService=_.IMouseService=_.ICoreBrowserService=_.ICharSizeService=void 0;const b=g(8343);_.ICharSizeService=(0,b.createDecorator)("CharSizeService"),_.ICoreBrowserService=(0,b.createDecorator)("CoreBrowserService"),_.IMouseService=(0,b.createDecorator)("MouseService"),_.IRenderService=(0,b.createDecorator)("RenderService"),_.ISelectionService=(0,b.createDecorator)("SelectionService"),_.ICharacterJoinerService=(0,b.createDecorator)("CharacterJoinerService"),_.IThemeService=(0,b.createDecorator)("ThemeService"),_.ILinkProviderService=(0,b.createDecorator)("LinkProviderService")},6731:function(w,_,g){var b=this&&this.__decorate||function(ne,H,te,De){var ve,Te=arguments.length,_e=Te<3?H:null===De?De=Object.getOwnPropertyDescriptor(H,te):De;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(ne,H,te,De);else for(var ue=ne.length-1;ue>=0;ue--)(ve=ne[ue])&&(_e=(Te<3?ve(_e):Te>3?ve(H,te,_e):ve(H,te))||_e);return Te>3&&_e&&Object.defineProperty(H,te,_e),_e},A=this&&this.__param||function(ne,H){return function(te,De){H(te,De,ne)}};Object.defineProperty(_,"__esModule",{value:!0}),_.ThemeService=_.DEFAULT_ANSI_COLORS=void 0;const T=g(7239),k=g(8055),U=g(8460),j=g(844),F=g(2585),D=k.css.toColor("#ffffff"),E=k.css.toColor("#000000"),y=k.css.toColor("#ffffff"),M=k.css.toColor("#000000"),W={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};_.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const ne=[k.css.toColor("#2e3436"),k.css.toColor("#cc0000"),k.css.toColor("#4e9a06"),k.css.toColor("#c4a000"),k.css.toColor("#3465a4"),k.css.toColor("#75507b"),k.css.toColor("#06989a"),k.css.toColor("#d3d7cf"),k.css.toColor("#555753"),k.css.toColor("#ef2929"),k.css.toColor("#8ae234"),k.css.toColor("#fce94f"),k.css.toColor("#729fcf"),k.css.toColor("#ad7fa8"),k.css.toColor("#34e2e2"),k.css.toColor("#eeeeec")],H=[0,95,135,175,215,255];for(let te=0;te<216;te++){const De=H[te/36%6|0],ve=H[te/6%6|0],Te=H[te%6];ne.push({css:k.channels.toCss(De,ve,Te),rgba:k.channels.toRgba(De,ve,Te)})}for(let te=0;te<24;te++){const De=8+10*te;ne.push({css:k.channels.toCss(De,De,De),rgba:k.channels.toRgba(De,De,De)})}return ne})());let G=_.ThemeService=class extends j.Disposable{get colors(){return this._colors}constructor(ne){super(),this._optionsService=ne,this._contrastCache=new T.ColorContrastCache,this._halfContrastCache=new T.ColorContrastCache,this._onChangeColors=this.register(new U.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:D,background:E,cursor:y,cursorAccent:M,selectionForeground:void 0,selectionBackgroundTransparent:W,selectionBackgroundOpaque:k.color.blend(E,W),selectionInactiveBackgroundTransparent:W,selectionInactiveBackgroundOpaque:k.color.blend(E,W),ansi:_.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(ne={}){const H=this._colors;if(H.foreground=Z(ne.foreground,D),H.background=Z(ne.background,E),H.cursor=Z(ne.cursor,y),H.cursorAccent=Z(ne.cursorAccent,M),H.selectionBackgroundTransparent=Z(ne.selectionBackground,W),H.selectionBackgroundOpaque=k.color.blend(H.background,H.selectionBackgroundTransparent),H.selectionInactiveBackgroundTransparent=Z(ne.selectionInactiveBackground,H.selectionBackgroundTransparent),H.selectionInactiveBackgroundOpaque=k.color.blend(H.background,H.selectionInactiveBackgroundTransparent),H.selectionForeground=ne.selectionForeground?Z(ne.selectionForeground,k.NULL_COLOR):void 0,H.selectionForeground===k.NULL_COLOR&&(H.selectionForeground=void 0),k.color.isOpaque(H.selectionBackgroundTransparent)&&(H.selectionBackgroundTransparent=k.color.opacity(H.selectionBackgroundTransparent,.3)),k.color.isOpaque(H.selectionInactiveBackgroundTransparent)&&(H.selectionInactiveBackgroundTransparent=k.color.opacity(H.selectionInactiveBackgroundTransparent,.3)),H.ansi=_.DEFAULT_ANSI_COLORS.slice(),H.ansi[0]=Z(ne.black,_.DEFAULT_ANSI_COLORS[0]),H.ansi[1]=Z(ne.red,_.DEFAULT_ANSI_COLORS[1]),H.ansi[2]=Z(ne.green,_.DEFAULT_ANSI_COLORS[2]),H.ansi[3]=Z(ne.yellow,_.DEFAULT_ANSI_COLORS[3]),H.ansi[4]=Z(ne.blue,_.DEFAULT_ANSI_COLORS[4]),H.ansi[5]=Z(ne.magenta,_.DEFAULT_ANSI_COLORS[5]),H.ansi[6]=Z(ne.cyan,_.DEFAULT_ANSI_COLORS[6]),H.ansi[7]=Z(ne.white,_.DEFAULT_ANSI_COLORS[7]),H.ansi[8]=Z(ne.brightBlack,_.DEFAULT_ANSI_COLORS[8]),H.ansi[9]=Z(ne.brightRed,_.DEFAULT_ANSI_COLORS[9]),H.ansi[10]=Z(ne.brightGreen,_.DEFAULT_ANSI_COLORS[10]),H.ansi[11]=Z(ne.brightYellow,_.DEFAULT_ANSI_COLORS[11]),H.ansi[12]=Z(ne.brightBlue,_.DEFAULT_ANSI_COLORS[12]),H.ansi[13]=Z(ne.brightMagenta,_.DEFAULT_ANSI_COLORS[13]),H.ansi[14]=Z(ne.brightCyan,_.DEFAULT_ANSI_COLORS[14]),H.ansi[15]=Z(ne.brightWhite,_.DEFAULT_ANSI_COLORS[15]),ne.extendedAnsi){const te=Math.min(H.ansi.length-16,ne.extendedAnsi.length);for(let De=0;De<te;De++)H.ansi[De+16]=Z(ne.extendedAnsi[De],_.DEFAULT_ANSI_COLORS[De+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(ne){this._restoreColor(ne),this._onChangeColors.fire(this.colors)}_restoreColor(ne){if(void 0!==ne)switch(ne){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[ne]=this._restoreColors.ansi[ne]}else for(let H=0;H<this._restoreColors.ansi.length;++H)this._colors.ansi[H]=this._restoreColors.ansi[H]}modifyColors(ne){ne(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function Z(ne,H){if(void 0!==ne)try{return k.css.toColor(ne)}catch{}return H}_.ThemeService=G=b([A(0,F.IOptionsService)],G)},6349:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CircularList=void 0;const b=g(8460),A=g(844);_.CircularList=class T extends A.Disposable{constructor(U){super(),this._maxLength=U,this.onDeleteEmitter=this.register(new b.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new b.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new b.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(U){if(this._maxLength===U)return;const j=new Array(U);for(let F=0;F<Math.min(U,this.length);F++)j[F]=this._array[this._getCyclicIndex(F)];this._array=j,this._maxLength=U,this._startIndex=0}get length(){return this._length}set length(U){if(U>this._length)for(let j=this._length;j<U;j++)this._array[j]=void 0;this._length=U}get(U){return this._array[this._getCyclicIndex(U)]}set(U,j){this._array[this._getCyclicIndex(U)]=j}push(U){this._array[this._getCyclicIndex(this._length)]=U,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(U,j,...F){if(j){for(let D=U;D<this._length-j;D++)this._array[this._getCyclicIndex(D)]=this._array[this._getCyclicIndex(D+j)];this._length-=j,this.onDeleteEmitter.fire({index:U,amount:j})}for(let D=this._length-1;D>=U;D--)this._array[this._getCyclicIndex(D+F.length)]=this._array[this._getCyclicIndex(D)];for(let D=0;D<F.length;D++)this._array[this._getCyclicIndex(U+D)]=F[D];if(F.length&&this.onInsertEmitter.fire({index:U,amount:F.length}),this._length+F.length>this._maxLength){const D=this._length+F.length-this._maxLength;this._startIndex+=D,this._length=this._maxLength,this.onTrimEmitter.fire(D)}else this._length+=F.length}trimStart(U){U>this._length&&(U=this._length),this._startIndex+=U,this._length-=U,this.onTrimEmitter.fire(U)}shiftElements(U,j,F){if(!(j<=0)){if(U<0||U>=this._length)throw new Error("start argument out of range");if(U+F<0)throw new Error("Cannot shift elements in list beyond index 0");if(F>0){for(let E=j-1;E>=0;E--)this.set(U+E+F,this.get(U+E));const D=U+j+F-this._length;if(D>0)for(this._length+=D;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let D=0;D<j;D++)this.set(U+D+F,this.get(U+D))}}_getCyclicIndex(U){return(this._startIndex+U)%this._maxLength}}},1439:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.clone=void 0,_.clone=function g(b,A=5){if("object"!=typeof b)return b;const T=Array.isArray(b)?[]:{};for(const k in b)T[k]=A<=1?b[k]:b[k]&&g(b[k],A-1);return T}},8055:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.contrastRatio=_.toPaddedHex=_.rgba=_.rgb=_.css=_.color=_.channels=_.NULL_COLOR=void 0;let g=0,b=0,A=0,T=0;var k,U,j,F,D,M;function E(M){const W=M.toString(16);return W.length<2?"0"+W:W}function y(M,W){return M<W?(W+.05)/(M+.05):(M+.05)/(W+.05)}_.NULL_COLOR={css:"#00000000",rgba:0},(M=k||(_.channels=k={})).toCss=function(W,G,Z,ne){return void 0!==ne?`#${E(W)}${E(G)}${E(Z)}${E(ne)}`:`#${E(W)}${E(G)}${E(Z)}`},M.toRgba=function(W,G,Z,ne=255){return(W<<24|G<<16|Z<<8|ne)>>>0},M.toColor=function(W,G,Z,ne){return{css:M.toCss(W,G,Z,ne),rgba:M.toRgba(W,G,Z,ne)}},function(M){function W(G,Z){return T=Math.round(255*Z),[g,b,A]=D.toChannels(G.rgba),{css:k.toCss(g,b,A,T),rgba:k.toRgba(g,b,A,T)}}M.blend=function(G,Z){if(T=(255&Z.rgba)/255,1===T)return{css:Z.css,rgba:Z.rgba};const H=Z.rgba>>16&255,te=Z.rgba>>8&255,De=G.rgba>>24&255,ve=G.rgba>>16&255,Te=G.rgba>>8&255;return g=De+Math.round(((Z.rgba>>24&255)-De)*T),b=ve+Math.round((H-ve)*T),A=Te+Math.round((te-Te)*T),{css:k.toCss(g,b,A),rgba:k.toRgba(g,b,A)}},M.isOpaque=function(G){return 255==(255&G.rgba)},M.ensureContrastRatio=function(G,Z,ne){const H=D.ensureContrastRatio(G.rgba,Z.rgba,ne);if(H)return k.toColor(H>>24&255,H>>16&255,H>>8&255)},M.opaque=function(G){const Z=(255|G.rgba)>>>0;return[g,b,A]=D.toChannels(Z),{css:k.toCss(g,b,A),rgba:Z}},M.opacity=W,M.multiplyOpacity=function(G,Z){return T=255&G.rgba,W(G,T*Z/255)},M.toColorRGB=function(G){return[G.rgba>>24&255,G.rgba>>16&255,G.rgba>>8&255]}}(U||(_.color=U={})),function(M){let W,G;try{const Z=document.createElement("canvas");Z.width=1,Z.height=1;const ne=Z.getContext("2d",{willReadFrequently:!0});ne&&(W=ne,W.globalCompositeOperation="copy",G=W.createLinearGradient(0,0,1,1))}catch{}M.toColor=function(Z){if(Z.match(/#[\da-f]{3,8}/i))switch(Z.length){case 4:return g=parseInt(Z.slice(1,2).repeat(2),16),b=parseInt(Z.slice(2,3).repeat(2),16),A=parseInt(Z.slice(3,4).repeat(2),16),k.toColor(g,b,A);case 5:return g=parseInt(Z.slice(1,2).repeat(2),16),b=parseInt(Z.slice(2,3).repeat(2),16),A=parseInt(Z.slice(3,4).repeat(2),16),T=parseInt(Z.slice(4,5).repeat(2),16),k.toColor(g,b,A,T);case 7:return{css:Z,rgba:(parseInt(Z.slice(1),16)<<8|255)>>>0};case 9:return{css:Z,rgba:parseInt(Z.slice(1),16)>>>0}}const ne=Z.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(ne)return g=parseInt(ne[1]),b=parseInt(ne[2]),A=parseInt(ne[3]),T=Math.round(255*(void 0===ne[5]?1:parseFloat(ne[5]))),k.toColor(g,b,A,T);if(!W||!G)throw new Error("css.toColor: Unsupported css format");if(W.fillStyle=G,W.fillStyle=Z,"string"!=typeof W.fillStyle)throw new Error("css.toColor: Unsupported css format");if(W.fillRect(0,0,1,1),[g,b,A,T]=W.getImageData(0,0,1,1).data,255!==T)throw new Error("css.toColor: Unsupported css format");return{rgba:k.toRgba(g,b,A,T),css:Z}}}(j||(_.css=j={})),function(M){function W(G,Z,ne){const H=G/255,te=Z/255,De=ne/255;return.2126*(H<=.03928?H/12.92:Math.pow((H+.055)/1.055,2.4))+.7152*(te<=.03928?te/12.92:Math.pow((te+.055)/1.055,2.4))+.0722*(De<=.03928?De/12.92:Math.pow((De+.055)/1.055,2.4))}M.relativeLuminance=function(G){return W(G>>16&255,G>>8&255,255&G)},M.relativeLuminance2=W}(F||(_.rgb=F={})),function(M){function W(Z,ne,H){const te=Z>>24&255,De=Z>>16&255,ve=Z>>8&255;let Te=ne>>24&255,_e=ne>>16&255,ue=ne>>8&255,$e=y(F.relativeLuminance2(Te,_e,ue),F.relativeLuminance2(te,De,ve));for(;$e<H&&(Te>0||_e>0||ue>0);)Te-=Math.max(0,Math.ceil(.1*Te)),_e-=Math.max(0,Math.ceil(.1*_e)),ue-=Math.max(0,Math.ceil(.1*ue)),$e=y(F.relativeLuminance2(Te,_e,ue),F.relativeLuminance2(te,De,ve));return(Te<<24|_e<<16|ue<<8|255)>>>0}function G(Z,ne,H){const te=Z>>24&255,De=Z>>16&255,ve=Z>>8&255;let Te=ne>>24&255,_e=ne>>16&255,ue=ne>>8&255,$e=y(F.relativeLuminance2(Te,_e,ue),F.relativeLuminance2(te,De,ve));for(;$e<H&&(Te<255||_e<255||ue<255);)Te=Math.min(255,Te+Math.ceil(.1*(255-Te))),_e=Math.min(255,_e+Math.ceil(.1*(255-_e))),ue=Math.min(255,ue+Math.ceil(.1*(255-ue))),$e=y(F.relativeLuminance2(Te,_e,ue),F.relativeLuminance2(te,De,ve));return(Te<<24|_e<<16|ue<<8|255)>>>0}M.blend=function(Z,ne){if(T=(255&ne)/255,1===T)return ne;const te=ne>>16&255,De=ne>>8&255,ve=Z>>24&255,Te=Z>>16&255,_e=Z>>8&255;return g=ve+Math.round(((ne>>24&255)-ve)*T),b=Te+Math.round((te-Te)*T),A=_e+Math.round((De-_e)*T),k.toRgba(g,b,A)},M.ensureContrastRatio=function(Z,ne,H){const te=F.relativeLuminance(Z>>8),De=F.relativeLuminance(ne>>8);if(y(te,De)<H){if(De<te){const _e=W(Z,ne,H),ue=y(te,F.relativeLuminance(_e>>8));if(ue<H){const $e=G(Z,ne,H);return ue>y(te,F.relativeLuminance($e>>8))?_e:$e}return _e}const ve=G(Z,ne,H),Te=y(te,F.relativeLuminance(ve>>8));if(Te<H){const _e=W(Z,ne,H);return Te>y(te,F.relativeLuminance(_e>>8))?ve:_e}return ve}},M.reduceLuminance=W,M.increaseLuminance=G,M.toChannels=function(Z){return[Z>>24&255,Z>>16&255,Z>>8&255,255&Z]}}(D||(_.rgba=D={})),_.toPaddedHex=E,_.contrastRatio=y},8969:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CoreTerminal=void 0;const b=g(844),A=g(2585),T=g(4348),k=g(7866),U=g(744),j=g(7302),F=g(6975),D=g(8460),E=g(1753),y=g(1480),M=g(7994),W=g(9282),G=g(5435),Z=g(5981),ne=g(2660);let H=!1;_.CoreTerminal=class te extends b.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new D.EventEmitter),this._onScroll.event(ve=>{this._onScrollApi?.fire(ve.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(ve){for(const Te in ve)this.optionsService.options[Te]=ve[Te]}constructor(ve){super(),this._windowsWrappingHeuristics=this.register(new b.MutableDisposable),this._onBinary=this.register(new D.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new D.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new D.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new D.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new D.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new D.EventEmitter),this._instantiationService=new T.InstantiationService,this.optionsService=this.register(new j.OptionsService(ve)),this._instantiationService.setService(A.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(U.BufferService)),this._instantiationService.setService(A.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(k.LogService)),this._instantiationService.setService(A.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(F.CoreService)),this._instantiationService.setService(A.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(E.CoreMouseService)),this._instantiationService.setService(A.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(y.UnicodeService)),this._instantiationService.setService(A.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(M.CharsetService),this._instantiationService.setService(A.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(ne.OscLinkService),this._instantiationService.setService(A.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new G.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,D.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,D.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,D.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,D.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(Te=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(Te=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new Z.WriteBuffer((Te,_e)=>this._inputHandler.parse(Te,_e))),this.register((0,D.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(ve,Te){this._writeBuffer.write(ve,Te)}writeSync(ve,Te){this._logService.logLevel<=A.LogLevelEnum.WARN&&!H&&(this._logService.warn("writeSync is unreliable and will be removed soon."),H=!0),this._writeBuffer.writeSync(ve,Te)}input(ve,Te=!0){this.coreService.triggerDataEvent(ve,Te)}resize(ve,Te){isNaN(ve)||isNaN(Te)||(ve=Math.max(ve,U.MINIMUM_COLS),Te=Math.max(Te,U.MINIMUM_ROWS),this._bufferService.resize(ve,Te))}scroll(ve,Te=!1){this._bufferService.scroll(ve,Te)}scrollLines(ve,Te,_e){this._bufferService.scrollLines(ve,Te,_e)}scrollPages(ve){this.scrollLines(ve*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(ve){const Te=ve-this._bufferService.buffer.ydisp;0!==Te&&this.scrollLines(Te)}registerEscHandler(ve,Te){return this._inputHandler.registerEscHandler(ve,Te)}registerDcsHandler(ve,Te){return this._inputHandler.registerDcsHandler(ve,Te)}registerCsiHandler(ve,Te){return this._inputHandler.registerCsiHandler(ve,Te)}registerOscHandler(ve,Te){return this._inputHandler.registerOscHandler(ve,Te)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let ve=!1;const Te=this.optionsService.rawOptions.windowsPty;Te&&void 0!==Te.buildNumber&&void 0!==Te.buildNumber?ve="conpty"===Te.backend&&Te.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(ve=!0),ve?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const ve=[];ve.push(this.onLineFeed(W.updateWindowsModeWrappedState.bind(null,this._bufferService))),ve.push(this.registerCsiHandler({final:"H"},()=>((0,W.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,b.toDisposable)(()=>{for(const Te of ve)Te.dispose()})}}}},8460:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.runAndSubscribe=_.forwardEvent=_.EventEmitter=void 0,_.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=g=>(this._listeners.push(g),{dispose:()=>{if(!this._disposed)for(let b=0;b<this._listeners.length;b++)if(this._listeners[b]===g)return void this._listeners.splice(b,1)}})),this._event}fire(g,b){const A=[];for(let T=0;T<this._listeners.length;T++)A.push(this._listeners[T]);for(let T=0;T<A.length;T++)A[T].call(void 0,g,b)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},_.forwardEvent=function(g,b){return g(A=>b.fire(A))},_.runAndSubscribe=function(g,b){return b(void 0),g(A=>b(A))}},5435:function(w,_,g){var b=this&&this.__decorate||function(Me,Y,z,V){var re,me=arguments.length,pe=me<3?Y:null===V?V=Object.getOwnPropertyDescriptor(Y,z):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(Me,Y,z,V);else for(var ce=Me.length-1;ce>=0;ce--)(re=Me[ce])&&(pe=(me<3?re(pe):me>3?re(Y,z,pe):re(Y,z))||pe);return me>3&&pe&&Object.defineProperty(Y,z,pe),pe},A=this&&this.__param||function(Me,Y){return function(z,V){Y(z,V,Me)}};Object.defineProperty(_,"__esModule",{value:!0}),_.InputHandler=_.WindowsOptionsReportType=void 0;const T=g(2584),k=g(7116),U=g(2015),j=g(844),F=g(482),D=g(8437),E=g(8460),y=g(643),M=g(511),W=g(3734),G=g(2585),Z=g(1480),ne=g(6242),H=g(6351),te=g(5941),De={"(":0,")":1,"*":2,"+":3,"-":1,".":2},ve=131072;function Te(Me,Y){if(Me>24)return Y.setWinLines||!1;switch(Me){case 1:return!!Y.restoreWin;case 2:return!!Y.minimizeWin;case 3:return!!Y.setWinPosition;case 4:return!!Y.setWinSizePixels;case 5:return!!Y.raiseWin;case 6:return!!Y.lowerWin;case 7:return!!Y.refreshWin;case 8:return!!Y.setWinSizeChars;case 9:return!!Y.maximizeWin;case 10:return!!Y.fullscreenWin;case 11:return!!Y.getWinState;case 13:return!!Y.getWinPosition;case 14:return!!Y.getWinSizePixels;case 15:return!!Y.getScreenSizePixels;case 16:return!!Y.getCellSizePixels;case 18:return!!Y.getWinSizeChars;case 19:return!!Y.getScreenSizeChars;case 20:return!!Y.getIconTitle;case 21:return!!Y.getWinTitle;case 22:return!!Y.pushTitle;case 23:return!!Y.popTitle;case 24:return!!Y.setWinLines}return!1}var _e,Me;(Me=_e||(_.WindowsOptionsReportType=_e={}))[Me.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",Me[Me.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let ue=0;_.InputHandler=class $e extends j.Disposable{getAttrData(){return this._curAttrData}constructor(Y,z,V,re,me,pe,ce,Ce,ae=new U.EscapeSequenceParser){super(),this._bufferService=Y,this._charsetService=z,this._coreService=V,this._logService=re,this._optionsService=me,this._oscLinkService=pe,this._coreMouseService=ce,this._unicodeService=Ce,this._parser=ae,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new F.StringToUtf32,this._utf8Decoder=new F.Utf8ToUtf32,this._workCell=new M.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=D.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=D.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new E.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new E.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new E.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new E.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new E.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new E.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new E.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new E.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new E.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new E.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new E.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new E.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new E.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new He(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(X=>this._activeBuffer=X.activeBuffer)),this._parser.setCsiHandlerFallback((X,Ee)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(X),params:Ee.toArray()})}),this._parser.setEscHandlerFallback(X=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(X)})}),this._parser.setExecuteHandlerFallback(X=>{this._logService.debug("Unknown EXECUTE code: ",{code:X})}),this._parser.setOscHandlerFallback((X,Ee,Ae)=>{this._logService.debug("Unknown OSC code: ",{identifier:X,action:Ee,data:Ae})}),this._parser.setDcsHandlerFallback((X,Ee,Ae)=>{"HOOK"===Ee&&(Ae=Ae.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(X),action:Ee,payload:Ae})}),this._parser.setPrintHandler((X,Ee,Ae)=>this.print(X,Ee,Ae)),this._parser.registerCsiHandler({final:"@"},X=>this.insertChars(X)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},X=>this.scrollLeft(X)),this._parser.registerCsiHandler({final:"A"},X=>this.cursorUp(X)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},X=>this.scrollRight(X)),this._parser.registerCsiHandler({final:"B"},X=>this.cursorDown(X)),this._parser.registerCsiHandler({final:"C"},X=>this.cursorForward(X)),this._parser.registerCsiHandler({final:"D"},X=>this.cursorBackward(X)),this._parser.registerCsiHandler({final:"E"},X=>this.cursorNextLine(X)),this._parser.registerCsiHandler({final:"F"},X=>this.cursorPrecedingLine(X)),this._parser.registerCsiHandler({final:"G"},X=>this.cursorCharAbsolute(X)),this._parser.registerCsiHandler({final:"H"},X=>this.cursorPosition(X)),this._parser.registerCsiHandler({final:"I"},X=>this.cursorForwardTab(X)),this._parser.registerCsiHandler({final:"J"},X=>this.eraseInDisplay(X,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},X=>this.eraseInDisplay(X,!0)),this._parser.registerCsiHandler({final:"K"},X=>this.eraseInLine(X,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},X=>this.eraseInLine(X,!0)),this._parser.registerCsiHandler({final:"L"},X=>this.insertLines(X)),this._parser.registerCsiHandler({final:"M"},X=>this.deleteLines(X)),this._parser.registerCsiHandler({final:"P"},X=>this.deleteChars(X)),this._parser.registerCsiHandler({final:"S"},X=>this.scrollUp(X)),this._parser.registerCsiHandler({final:"T"},X=>this.scrollDown(X)),this._parser.registerCsiHandler({final:"X"},X=>this.eraseChars(X)),this._parser.registerCsiHandler({final:"Z"},X=>this.cursorBackwardTab(X)),this._parser.registerCsiHandler({final:"`"},X=>this.charPosAbsolute(X)),this._parser.registerCsiHandler({final:"a"},X=>this.hPositionRelative(X)),this._parser.registerCsiHandler({final:"b"},X=>this.repeatPrecedingCharacter(X)),this._parser.registerCsiHandler({final:"c"},X=>this.sendDeviceAttributesPrimary(X)),this._parser.registerCsiHandler({prefix:">",final:"c"},X=>this.sendDeviceAttributesSecondary(X)),this._parser.registerCsiHandler({final:"d"},X=>this.linePosAbsolute(X)),this._parser.registerCsiHandler({final:"e"},X=>this.vPositionRelative(X)),this._parser.registerCsiHandler({final:"f"},X=>this.hVPosition(X)),this._parser.registerCsiHandler({final:"g"},X=>this.tabClear(X)),this._parser.registerCsiHandler({final:"h"},X=>this.setMode(X)),this._parser.registerCsiHandler({prefix:"?",final:"h"},X=>this.setModePrivate(X)),this._parser.registerCsiHandler({final:"l"},X=>this.resetMode(X)),this._parser.registerCsiHandler({prefix:"?",final:"l"},X=>this.resetModePrivate(X)),this._parser.registerCsiHandler({final:"m"},X=>this.charAttributes(X)),this._parser.registerCsiHandler({final:"n"},X=>this.deviceStatus(X)),this._parser.registerCsiHandler({prefix:"?",final:"n"},X=>this.deviceStatusPrivate(X)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},X=>this.softReset(X)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},X=>this.setCursorStyle(X)),this._parser.registerCsiHandler({final:"r"},X=>this.setScrollRegion(X)),this._parser.registerCsiHandler({final:"s"},X=>this.saveCursor(X)),this._parser.registerCsiHandler({final:"t"},X=>this.windowOptions(X)),this._parser.registerCsiHandler({final:"u"},X=>this.restoreCursor(X)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},X=>this.insertColumns(X)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},X=>this.deleteColumns(X)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},X=>this.selectProtected(X)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},X=>this.requestMode(X,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},X=>this.requestMode(X,!1)),this._parser.setExecuteHandler(T.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(T.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(T.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(T.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(T.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(T.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(T.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(T.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(T.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(T.C1.IND,()=>this.index()),this._parser.setExecuteHandler(T.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(T.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new ne.OscHandler(X=>(this.setTitle(X),this.setIconName(X),!0))),this._parser.registerOscHandler(1,new ne.OscHandler(X=>this.setIconName(X))),this._parser.registerOscHandler(2,new ne.OscHandler(X=>this.setTitle(X))),this._parser.registerOscHandler(4,new ne.OscHandler(X=>this.setOrReportIndexedColor(X))),this._parser.registerOscHandler(8,new ne.OscHandler(X=>this.setHyperlink(X))),this._parser.registerOscHandler(10,new ne.OscHandler(X=>this.setOrReportFgColor(X))),this._parser.registerOscHandler(11,new ne.OscHandler(X=>this.setOrReportBgColor(X))),this._parser.registerOscHandler(12,new ne.OscHandler(X=>this.setOrReportCursorColor(X))),this._parser.registerOscHandler(104,new ne.OscHandler(X=>this.restoreIndexedColor(X))),this._parser.registerOscHandler(110,new ne.OscHandler(X=>this.restoreFgColor(X))),this._parser.registerOscHandler(111,new ne.OscHandler(X=>this.restoreBgColor(X))),this._parser.registerOscHandler(112,new ne.OscHandler(X=>this.restoreCursorColor(X))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const X in k.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:X},()=>this.selectCharset("("+X)),this._parser.registerEscHandler({intermediates:")",final:X},()=>this.selectCharset(")"+X)),this._parser.registerEscHandler({intermediates:"*",final:X},()=>this.selectCharset("*"+X)),this._parser.registerEscHandler({intermediates:"+",final:X},()=>this.selectCharset("+"+X)),this._parser.registerEscHandler({intermediates:"-",final:X},()=>this.selectCharset("-"+X)),this._parser.registerEscHandler({intermediates:".",final:X},()=>this.selectCharset("."+X)),this._parser.registerEscHandler({intermediates:"/",final:X},()=>this.selectCharset("/"+X));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(X=>(this._logService.error("Parsing error: ",X),X)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new H.DcsHandler((X,Ee)=>this.requestStatusString(X,Ee)))}_preserveStack(Y,z,V,re){this._parseStack.paused=!0,this._parseStack.cursorStartX=Y,this._parseStack.cursorStartY=z,this._parseStack.decodedLength=V,this._parseStack.position=re}_logSlowResolvingAsync(Y){this._logService.logLevel<=G.LogLevelEnum.WARN&&Promise.race([Y,new Promise((z,V)=>setTimeout(()=>V("#SLOW_TIMEOUT"),5e3))]).catch(z=>{if("#SLOW_TIMEOUT"!==z)throw z;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(Y,z){let V,re=this._activeBuffer.x,me=this._activeBuffer.y,pe=0;const ce=this._parseStack.paused;if(ce){if(V=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,z))return this._logSlowResolvingAsync(V),V;re=this._parseStack.cursorStartX,me=this._parseStack.cursorStartY,this._parseStack.paused=!1,Y.length>ve&&(pe=this._parseStack.position+ve)}if(this._logService.logLevel<=G.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof Y?` "${Y}"`:` "${Array.prototype.map.call(Y,X=>String.fromCharCode(X)).join("")}"`),"string"==typeof Y?Y.split("").map(X=>X.charCodeAt(0)):Y),this._parseBuffer.length<Y.length&&this._parseBuffer.length<ve&&(this._parseBuffer=new Uint32Array(Math.min(Y.length,ve))),ce||this._dirtyRowTracker.clearRange(),Y.length>ve)for(let X=pe;X<Y.length;X+=ve){const Ee=X+ve<Y.length?X+ve:Y.length,Ae="string"==typeof Y?this._stringDecoder.decode(Y.substring(X,Ee),this._parseBuffer):this._utf8Decoder.decode(Y.subarray(X,Ee),this._parseBuffer);if(V=this._parser.parse(this._parseBuffer,Ae))return this._preserveStack(re,me,Ae,X),this._logSlowResolvingAsync(V),V}else if(!ce){const X="string"==typeof Y?this._stringDecoder.decode(Y,this._parseBuffer):this._utf8Decoder.decode(Y,this._parseBuffer);if(V=this._parser.parse(this._parseBuffer,X))return this._preserveStack(re,me,X,0),this._logSlowResolvingAsync(V),V}this._activeBuffer.x===re&&this._activeBuffer.y===me||this._onCursorMove.fire();const Ce=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),ae=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);ae<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(ae,this._bufferService.rows-1),Math.min(Ce,this._bufferService.rows-1))}print(Y,z,V){let re,me;const pe=this._charsetService.charset,ce=this._optionsService.rawOptions.screenReaderMode,Ce=this._bufferService.cols,ae=this._coreService.decPrivateModes.wraparound,X=this._coreService.modes.insertMode,Ee=this._curAttrData;let Ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&V-z>0&&2===Ae.getWidth(this._activeBuffer.x-1)&&Ae.setCellFromCodepoint(this._activeBuffer.x-1,0,1,Ee);let je=this._parser.precedingJoinState;for(let Ke=z;Ke<V;++Ke){if(re=Y[Ke],re<127&&pe){const We=pe[String.fromCharCode(re)];We&&(re=We.charCodeAt(0))}const ut=this._unicodeService.charProperties(re,je);me=Z.UnicodeService.extractWidth(ut);const it=Z.UnicodeService.extractShouldJoin(ut),Ne=it?Z.UnicodeService.extractWidth(je):0;if(je=ut,ce&&this._onA11yChar.fire((0,F.stringFromCodePoint)(re)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+me-Ne>Ce)if(ae){const We=Ae;let Oe=this._activeBuffer.x-Ne;for(this._activeBuffer.x=Ne,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Ne>0&&Ae instanceof D.BufferLine&&Ae.copyCellsFrom(We,Oe,0,Ne,!1);Oe<Ce;)We.setCellFromCodepoint(Oe++,0,1,Ee)}else if(this._activeBuffer.x=Ce-1,2===me)continue;if(it&&this._activeBuffer.x){const We=Ae.getWidth(this._activeBuffer.x-1)?1:2;Ae.addCodepointToCell(this._activeBuffer.x-We,re,me);for(let Oe=me-Ne;--Oe>=0;)Ae.setCellFromCodepoint(this._activeBuffer.x++,0,0,Ee)}else if(X&&(Ae.insertCells(this._activeBuffer.x,me-Ne,this._activeBuffer.getNullCell(Ee)),2===Ae.getWidth(Ce-1)&&Ae.setCellFromCodepoint(Ce-1,y.NULL_CELL_CODE,y.NULL_CELL_WIDTH,Ee)),Ae.setCellFromCodepoint(this._activeBuffer.x++,re,me,Ee),me>0)for(;--me;)Ae.setCellFromCodepoint(this._activeBuffer.x++,0,0,Ee)}this._parser.precedingJoinState=je,this._activeBuffer.x<Ce&&V-z>0&&0===Ae.getWidth(this._activeBuffer.x)&&!Ae.hasContent(this._activeBuffer.x)&&Ae.setCellFromCodepoint(this._activeBuffer.x,0,1,Ee),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(Y,z){return this._parser.registerCsiHandler(Y,"t"!==Y.final||Y.prefix||Y.intermediates?z:V=>!Te(V.params[0],this._optionsService.rawOptions.windowOptions)||z(V))}registerDcsHandler(Y,z){return this._parser.registerDcsHandler(Y,new H.DcsHandler(z))}registerEscHandler(Y,z){return this._parser.registerEscHandler(Y,z)}registerOscHandler(Y,z){return this._parser.registerOscHandler(Y,new ne.OscHandler(z))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);Y.hasWidth(this._activeBuffer.x)&&!Y.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const Y=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-Y),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(Y=this._bufferService.cols-1){this._activeBuffer.x=Math.min(Y,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(Y,z){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=Y,this._activeBuffer.y=this._activeBuffer.scrollTop+z):(this._activeBuffer.x=Y,this._activeBuffer.y=z),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(Y,z){this._restrictCursor(),this._setCursor(this._activeBuffer.x+Y,this._activeBuffer.y+z)}cursorUp(Y){const z=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,z>=0?-Math.min(z,Y.params[0]||1):-(Y.params[0]||1)),!0}cursorDown(Y){const z=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,z>=0?Math.min(z,Y.params[0]||1):Y.params[0]||1),!0}cursorForward(Y){return this._moveCursor(Y.params[0]||1,0),!0}cursorBackward(Y){return this._moveCursor(-(Y.params[0]||1),0),!0}cursorNextLine(Y){return this.cursorDown(Y),this._activeBuffer.x=0,!0}cursorPrecedingLine(Y){return this.cursorUp(Y),this._activeBuffer.x=0,!0}cursorCharAbsolute(Y){return this._setCursor((Y.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(Y){return this._setCursor(Y.length>=2?(Y.params[1]||1)-1:0,(Y.params[0]||1)-1),!0}charPosAbsolute(Y){return this._setCursor((Y.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(Y){return this._moveCursor(Y.params[0]||1,0),!0}linePosAbsolute(Y){return this._setCursor(this._activeBuffer.x,(Y.params[0]||1)-1),!0}vPositionRelative(Y){return this._moveCursor(0,Y.params[0]||1),!0}hVPosition(Y){return this.cursorPosition(Y),!0}tabClear(Y){const z=Y.params[0];return 0===z?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===z&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(Y){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let z=Y.params[0]||1;for(;z--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(Y){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let z=Y.params[0]||1;for(;z--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(Y){const z=Y.params[0];return 1===z&&(this._curAttrData.bg|=536870912),2!==z&&0!==z||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(Y,z,V,re=!1,me=!1){const pe=this._activeBuffer.lines.get(this._activeBuffer.ybase+Y);pe.replaceCells(z,V,this._activeBuffer.getNullCell(this._eraseAttrData()),me),re&&(pe.isWrapped=!1)}_resetBufferLine(Y,z=!1){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+Y);V&&(V.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),z),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+Y),V.isWrapped=!1)}eraseInDisplay(Y,z=!1){let V;switch(this._restrictCursor(this._bufferService.cols),Y.params[0]){case 0:for(V=this._activeBuffer.y,this._dirtyRowTracker.markDirty(V),this._eraseInBufferLine(V++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,z);V<this._bufferService.rows;V++)this._resetBufferLine(V,z);this._dirtyRowTracker.markDirty(V);break;case 1:for(V=this._activeBuffer.y,this._dirtyRowTracker.markDirty(V),this._eraseInBufferLine(V,0,this._activeBuffer.x+1,!0,z),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(V+1).isWrapped=!1);V--;)this._resetBufferLine(V,z);this._dirtyRowTracker.markDirty(0);break;case 2:for(V=this._bufferService.rows,this._dirtyRowTracker.markDirty(V-1);V--;)this._resetBufferLine(V,z);this._dirtyRowTracker.markDirty(0);break;case 3:const re=this._activeBuffer.lines.length-this._bufferService.rows;re>0&&(this._activeBuffer.lines.trimStart(re),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-re,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-re,0),this._onScroll.fire(0))}return!0}eraseInLine(Y,z=!1){switch(this._restrictCursor(this._bufferService.cols),Y.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,z);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,z);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,z)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(Y){this._restrictCursor();let z=Y.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const V=this._activeBuffer.ybase+this._activeBuffer.y,me=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;z--;)this._activeBuffer.lines.splice(me-1,1),this._activeBuffer.lines.splice(V,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(Y){this._restrictCursor();let z=Y.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const V=this._activeBuffer.ybase+this._activeBuffer.y;let re;for(re=this._bufferService.rows-1-this._activeBuffer.scrollBottom,re=this._bufferService.rows-1+this._activeBuffer.ybase-re;z--;)this._activeBuffer.lines.splice(V,1),this._activeBuffer.lines.splice(re,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(Y){this._restrictCursor();const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return z&&(z.insertCells(this._activeBuffer.x,Y.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(Y){this._restrictCursor();const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return z&&(z.deleteCells(this._activeBuffer.x,Y.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(Y){let z=Y.params[0]||1;for(;z--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(Y){let z=Y.params[0]||1;for(;z--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(D.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(Y){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=Y.params[0]||1;for(let V=this._activeBuffer.scrollTop;V<=this._activeBuffer.scrollBottom;++V){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+V);re.deleteCells(0,z,this._activeBuffer.getNullCell(this._eraseAttrData())),re.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(Y){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=Y.params[0]||1;for(let V=this._activeBuffer.scrollTop;V<=this._activeBuffer.scrollBottom;++V){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+V);re.insertCells(0,z,this._activeBuffer.getNullCell(this._eraseAttrData())),re.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(Y){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=Y.params[0]||1;for(let V=this._activeBuffer.scrollTop;V<=this._activeBuffer.scrollBottom;++V){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+V);re.insertCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(this._eraseAttrData())),re.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(Y){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=Y.params[0]||1;for(let V=this._activeBuffer.scrollTop;V<=this._activeBuffer.scrollBottom;++V){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+V);re.deleteCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(this._eraseAttrData())),re.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(Y){this._restrictCursor();const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return z&&(z.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(Y.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(Y){const z=this._parser.precedingJoinState;if(!z)return!0;const V=Y.params[0]||1,re=Z.UnicodeService.extractWidth(z),me=this._activeBuffer.x-re,pe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(me),ce=new Uint32Array(pe.length*V);let Ce=0;for(let X=0;X<pe.length;){const Ee=pe.codePointAt(X)||0;ce[Ce++]=Ee,X+=Ee>65535?2:1}let ae=Ce;for(let X=1;X<V;++X)ce.copyWithin(ae,0,Ce),ae+=Ce;return this.print(ce,0,ae),!0}sendDeviceAttributesPrimary(Y){return Y.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(T.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(T.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(Y){return Y.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(T.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(T.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(Y.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(T.C0.ESC+"[>83;40003;0c")),!0}_is(Y){return 0===(this._optionsService.rawOptions.termName+"").indexOf(Y)}setMode(Y){for(let z=0;z<Y.length;z++)switch(Y.params[z]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(Y){for(let z=0;z<Y.length;z++)switch(Y.params[z]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,k.DEFAULT_CHARSET),this._charsetService.setgCharset(1,k.DEFAULT_CHARSET),this._charsetService.setgCharset(2,k.DEFAULT_CHARSET),this._charsetService.setgCharset(3,k.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(Y){for(let z=0;z<Y.length;z++)switch(Y.params[z]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(Y){for(let z=0;z<Y.length;z++)switch(Y.params[z]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===Y.params[z]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(Y,z){const V=this._coreService.decPrivateModes,{activeProtocol:re,activeEncoding:me}=this._coreMouseService,pe=this._coreService,{buffers:ce,cols:Ce}=this._bufferService,{active:ae,alt:X}=ce,Ee=this._optionsService.rawOptions,Ae=it=>it?1:2,je=Y.params[0];return Ke=je,ut=z?2===je?4:4===je?Ae(pe.modes.insertMode):12===je?3:20===je?Ae(Ee.convertEol):0:1===je?Ae(V.applicationCursorKeys):3===je?Ee.windowOptions.setWinLines?80===Ce?2:132===Ce?1:0:0:6===je?Ae(V.origin):7===je?Ae(V.wraparound):8===je?3:9===je?Ae("X10"===re):12===je?Ae(Ee.cursorBlink):25===je?Ae(!pe.isCursorHidden):45===je?Ae(V.reverseWraparound):66===je?Ae(V.applicationKeypad):67===je?4:1e3===je?Ae("VT200"===re):1002===je?Ae("DRAG"===re):1003===je?Ae("ANY"===re):1004===je?Ae(V.sendFocus):1005===je?4:1006===je?Ae("SGR"===me):1015===je?4:1016===je?Ae("SGR_PIXELS"===me):1048===je?1:47===je||1047===je||1049===je?Ae(ae===X):2004===je?Ae(V.bracketedPasteMode):0,pe.triggerDataEvent(`${T.C0.ESC}[${z?"":"?"}${Ke};${ut}$y`),!0;var Ke,ut}_updateAttrColor(Y,z,V,re,me){return 2===z?(Y|=50331648,Y&=-16777216,Y|=W.AttributeData.fromColorRGB([V,re,me])):5===z&&(Y&=-50331904,Y|=33554432|255&V),Y}_extractColor(Y,z,V){const re=[0,0,-1,0,0,0];let me=0,pe=0;do{if(re[pe+me]=Y.params[z+pe],Y.hasSubParams(z+pe)){const ce=Y.getSubParams(z+pe);let Ce=0;do{5===re[1]&&(me=1),re[pe+Ce+1+me]=ce[Ce]}while(++Ce<ce.length&&Ce+pe+1+me<re.length);break}if(5===re[1]&&pe+me>=2||2===re[1]&&pe+me>=5)break;re[1]&&(me=1)}while(++pe+z<Y.length&&pe+me<re.length);for(let ce=2;ce<re.length;++ce)-1===re[ce]&&(re[ce]=0);switch(re[0]){case 38:V.fg=this._updateAttrColor(V.fg,re[1],re[3],re[4],re[5]);break;case 48:V.bg=this._updateAttrColor(V.bg,re[1],re[3],re[4],re[5]);break;case 58:V.extended=V.extended.clone(),V.extended.underlineColor=this._updateAttrColor(V.extended.underlineColor,re[1],re[3],re[4],re[5])}return pe}_processUnderline(Y,z){z.extended=z.extended.clone(),(!~Y||Y>5)&&(Y=1),z.extended.underlineStyle=Y,z.fg|=268435456,0===Y&&(z.fg&=-268435457),z.updateExtended()}_processSGR0(Y){Y.fg=D.DEFAULT_ATTR_DATA.fg,Y.bg=D.DEFAULT_ATTR_DATA.bg,Y.extended=Y.extended.clone(),Y.extended.underlineStyle=0,Y.extended.underlineColor&=-67108864,Y.updateExtended()}charAttributes(Y){if(1===Y.length&&0===Y.params[0])return this._processSGR0(this._curAttrData),!0;const z=Y.length;let V;const re=this._curAttrData;for(let me=0;me<z;me++)V=Y.params[me],V>=30&&V<=37?(re.fg&=-50331904,re.fg|=16777216|V-30):V>=40&&V<=47?(re.bg&=-50331904,re.bg|=16777216|V-40):V>=90&&V<=97?(re.fg&=-50331904,re.fg|=16777224|V-90):V>=100&&V<=107?(re.bg&=-50331904,re.bg|=16777224|V-100):0===V?this._processSGR0(re):1===V?re.fg|=134217728:3===V?re.bg|=67108864:4===V?(re.fg|=268435456,this._processUnderline(Y.hasSubParams(me)?Y.getSubParams(me)[0]:1,re)):5===V?re.fg|=536870912:7===V?re.fg|=67108864:8===V?re.fg|=1073741824:9===V?re.fg|=2147483648:2===V?re.bg|=134217728:21===V?this._processUnderline(2,re):22===V?(re.fg&=-134217729,re.bg&=-134217729):23===V?re.bg&=-67108865:24===V?(re.fg&=-268435457,this._processUnderline(0,re)):25===V?re.fg&=-536870913:27===V?re.fg&=-67108865:28===V?re.fg&=-1073741825:29===V?re.fg&=2147483647:39===V?(re.fg&=-67108864,re.fg|=16777215&D.DEFAULT_ATTR_DATA.fg):49===V?(re.bg&=-67108864,re.bg|=16777215&D.DEFAULT_ATTR_DATA.bg):38===V||48===V||58===V?me+=this._extractColor(Y,me,re):53===V?re.bg|=1073741824:55===V?re.bg&=-1073741825:59===V?(re.extended=re.extended.clone(),re.extended.underlineColor=-1,re.updateExtended()):100===V?(re.fg&=-67108864,re.fg|=16777215&D.DEFAULT_ATTR_DATA.fg,re.bg&=-67108864,re.bg|=16777215&D.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",V);return!0}deviceStatus(Y){switch(Y.params[0]){case 5:this._coreService.triggerDataEvent(`${T.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${T.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(Y){return 6===Y.params[0]&&this._coreService.triggerDataEvent(`${T.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(Y){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=D.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(Y){const z=Y.params[0]||1;switch(z){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=z%2==1,!0}setScrollRegion(Y){const z=Y.params[0]||1;let V;return(Y.length<2||(V=Y.params[1])>this._bufferService.rows||0===V)&&(V=this._bufferService.rows),V>z&&(this._activeBuffer.scrollTop=z-1,this._activeBuffer.scrollBottom=V-1,this._setCursor(0,0)),!0}windowOptions(Y){if(!Te(Y.params[0],this._optionsService.rawOptions.windowOptions))return!0;const z=Y.length>1?Y.params[1]:0;switch(Y.params[0]){case 14:2!==z&&this._onRequestWindowsOptionsReport.fire(_e.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(_e.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${T.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==z&&2!==z||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==z&&1!==z||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==z&&2!==z||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==z&&1!==z||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(Y){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(Y){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(Y){return this._windowTitle=Y,this._onTitleChange.fire(Y),!0}setIconName(Y){return this._iconName=Y,!0}setOrReportIndexedColor(Y){const z=[],V=Y.split(";");for(;V.length>1;){const re=V.shift(),me=V.shift();if(/^\d+$/.exec(re)){const pe=parseInt(re);if(Be(pe))if("?"===me)z.push({type:0,index:pe});else{const ce=(0,te.parseColor)(me);ce&&z.push({type:1,index:pe,color:ce})}}}return z.length&&this._onColor.fire(z),!0}setHyperlink(Y){const z=Y.split(";");return!(z.length<2)&&(z[1]?this._createHyperlink(z[0],z[1]):!z[0]&&this._finishHyperlink())}_createHyperlink(Y,z){this._getCurrentLinkId()&&this._finishHyperlink();const V=Y.split(":");let re;const me=V.findIndex(pe=>pe.startsWith("id="));return-1!==me&&(re=V[me].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:re,uri:z}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(Y,z){const V=Y.split(";");for(let re=0;re<V.length&&!(z>=this._specialColors.length);++re,++z)if("?"===V[re])this._onColor.fire([{type:0,index:this._specialColors[z]}]);else{const me=(0,te.parseColor)(V[re]);me&&this._onColor.fire([{type:1,index:this._specialColors[z],color:me}])}return!0}setOrReportFgColor(Y){return this._setOrReportSpecialColor(Y,0)}setOrReportBgColor(Y){return this._setOrReportSpecialColor(Y,1)}setOrReportCursorColor(Y){return this._setOrReportSpecialColor(Y,2)}restoreIndexedColor(Y){if(!Y)return this._onColor.fire([{type:2}]),!0;const z=[],V=Y.split(";");for(let re=0;re<V.length;++re)if(/^\d+$/.exec(V[re])){const me=parseInt(V[re]);Be(me)&&z.push({type:2,index:me})}return z.length&&this._onColor.fire(z),!0}restoreFgColor(Y){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(Y){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(Y){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,k.DEFAULT_CHARSET),!0}selectCharset(Y){return 2!==Y.length?(this.selectDefaultCharset(),!0):("/"===Y[0]||this._charsetService.setgCharset(De[Y[0]],k.CHARSETS[Y[1]]||k.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=D.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=D.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(Y){return this._charsetService.setgLevel(Y),!0}screenAlignmentPattern(){const Y=new M.CellData;Y.content=4194304|"E".charCodeAt(0),Y.fg=this._curAttrData.fg,Y.bg=this._curAttrData.bg,this._setCursor(0,0);for(let z=0;z<this._bufferService.rows;++z){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+z);re&&(re.fill(Y),re.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(Y,z){const V=this._bufferService.buffer,re=this._optionsService.rawOptions;return(me=>(this._coreService.triggerDataEvent(`${T.C0.ESC}${me}${T.C0.ESC}\\`),!0))('"q'===Y?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===Y?'P1$r61;1"p':"r"===Y?`P1$r${V.scrollTop+1};${V.scrollBottom+1}r`:"m"===Y?"P1$r0m":" q"===Y?`P1$r${{block:2,underline:4,bar:6}[re.cursorStyle]-(re.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(Y,z){this._dirtyRowTracker.markRangeDirty(Y,z)}};let He=class{constructor(Me){this._bufferService=Me,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(Me){Me<this.start?this.start=Me:Me>this.end&&(this.end=Me)}markRangeDirty(Me,Y){Me>Y&&(ue=Me,Me=Y,Y=ue),Me<this.start&&(this.start=Me),Y>this.end&&(this.end=Y)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Be(Me){return 0<=Me&&Me<256}He=b([A(0,G.IBufferService)],He)},844:(w,_)=>{function g(b){for(const A of b)A.dispose();b.length=0}Object.defineProperty(_,"__esModule",{value:!0}),_.getDisposeArrayDisposable=_.disposeArray=_.toDisposable=_.MutableDisposable=_.Disposable=void 0,_.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const b of this._disposables)b.dispose();this._disposables.length=0}register(b){return this._disposables.push(b),b}unregister(b){const A=this._disposables.indexOf(b);-1!==A&&this._disposables.splice(A,1)}},_.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(b){this._isDisposed||b===this._value||(this._value?.dispose(),this._value=b)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},_.toDisposable=function(b){return{dispose:b}},_.disposeArray=g,_.getDisposeArrayDisposable=function(b){return{dispose:()=>g(b)}}},1505:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.FourKeyMap=_.TwoKeyMap=void 0;class g{constructor(){this._data={}}set(A,T,k){this._data[A]||(this._data[A]={}),this._data[A][T]=k}get(A,T){return this._data[A]?this._data[A][T]:void 0}clear(){this._data={}}}_.TwoKeyMap=g,_.FourKeyMap=class{constructor(){this._data=new g}set(b,A,T,k,U){this._data.get(b,A)||this._data.set(b,A,new g),this._data.get(b,A).set(T,k,U)}get(b,A,T,k){return this._data.get(b,A)?.get(T,k)}clear(){this._data.clear()}}},6114:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.isChromeOS=_.isLinux=_.isWindows=_.isIphone=_.isIpad=_.isMac=_.getSafariVersion=_.isSafari=_.isLegacyEdge=_.isFirefox=_.isNode=void 0,_.isNode=typeof process<"u"&&"title"in process;const g=_.isNode?"node":navigator.userAgent,b=_.isNode?"node":navigator.platform;_.isFirefox=g.includes("Firefox"),_.isLegacyEdge=g.includes("Edge"),_.isSafari=/^((?!chrome|android).)*safari/i.test(g),_.getSafariVersion=function(){if(!_.isSafari)return 0;const A=g.match(/Version\/(\d+)/);return null===A||A.length<2?0:parseInt(A[1])},_.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(b),_.isIpad="iPad"===b,_.isIphone="iPhone"===b,_.isWindows=["Windows","Win16","Win32","WinCE"].includes(b),_.isLinux=b.indexOf("Linux")>=0,_.isChromeOS=/\bCrOS\b/.test(g)},6106:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SortedList=void 0;let g=0;_.SortedList=class{constructor(b){this._getKey=b,this._array=[]}clear(){this._array.length=0}insert(b){0!==this._array.length?(g=this._search(this._getKey(b)),this._array.splice(g,0,b)):this._array.push(b)}delete(b){if(0===this._array.length)return!1;const A=this._getKey(b);if(void 0===A||(g=this._search(A),-1===g)||this._getKey(this._array[g])!==A)return!1;do{if(this._array[g]===b)return this._array.splice(g,1),!0}while(++g<this._array.length&&this._getKey(this._array[g])===A);return!1}*getKeyIterator(b){if(0!==this._array.length&&(g=this._search(b),!(g<0||g>=this._array.length)&&this._getKey(this._array[g])===b))do{yield this._array[g]}while(++g<this._array.length&&this._getKey(this._array[g])===b)}forEachByKey(b,A){if(0!==this._array.length&&(g=this._search(b),!(g<0||g>=this._array.length)&&this._getKey(this._array[g])===b))do{A(this._array[g])}while(++g<this._array.length&&this._getKey(this._array[g])===b)}values(){return[...this._array].values()}_search(b){let A=0,T=this._array.length-1;for(;T>=A;){let k=A+T>>1;const U=this._getKey(this._array[k]);if(U>b)T=k-1;else{if(!(U<b)){for(;k>0&&this._getKey(this._array[k-1])===b;)k--;return k}A=k+1}}return A}}},7226:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DebouncedIdleTask=_.IdleTaskQueue=_.PriorityTaskQueue=void 0;const b=g(6114);class A{constructor(){this._tasks=[],this._i=0}enqueue(U){this._tasks.push(U),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(U){this._idleCallback=void 0;let j=0,F=0,D=U.timeRemaining(),E=0;for(;this._i<this._tasks.length;){if(j=Date.now(),this._tasks[this._i]()||this._i++,j=Math.max(1,Date.now()-j),F=Math.max(j,F),E=U.timeRemaining(),1.5*F>E)return D-j<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(D-j))}ms`),void this._start();D=E}this.clear()}}class T extends A{_requestCallback(U){return setTimeout(()=>U(this._createDeadline(16)))}_cancelCallback(U){clearTimeout(U)}_createDeadline(U){const j=Date.now()+U;return{timeRemaining:()=>Math.max(0,j-Date.now())}}}_.PriorityTaskQueue=T,_.IdleTaskQueue=!b.isNode&&"requestIdleCallback"in window?class extends A{_requestCallback(k){return requestIdleCallback(k)}_cancelCallback(k){cancelIdleCallback(k)}}:T,_.DebouncedIdleTask=class{constructor(){this._queue=new _.IdleTaskQueue}set(k){this._queue.clear(),this._queue.enqueue(k)}flush(){this._queue.flush()}}},9282:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.updateWindowsModeWrappedState=void 0;const b=g(643);_.updateWindowsModeWrappedState=function(A){const T=A.buffer.lines.get(A.buffer.ybase+A.buffer.y-1),k=T?.get(A.cols-1),U=A.buffer.lines.get(A.buffer.ybase+A.buffer.y);U&&k&&(U.isWrapped=k[b.CHAR_DATA_CODE_INDEX]!==b.NULL_CELL_CODE&&k[b.CHAR_DATA_CODE_INDEX]!==b.WHITESPACE_CELL_CODE)}},3734:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ExtendedAttrs=_.AttributeData=void 0;class g{constructor(){this.fg=0,this.bg=0,this.extended=new b}static toColorRGB(T){return[T>>>16&255,T>>>8&255,255&T]}static fromColorRGB(T){return(255&T[0])<<16|(255&T[1])<<8|255&T[2]}clone(){const T=new g;return T.fg=this.fg,T.bg=this.bg,T.extended=this.extended.clone(),T}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}_.AttributeData=g;class b{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(T){this._ext=T}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(T){this._ext&=-469762049,this._ext|=T<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(T){this._ext&=-67108864,this._ext|=67108863&T}get urlId(){return this._urlId}set urlId(T){this._urlId=T}get underlineVariantOffset(){const T=(3758096384&this._ext)>>29;return T<0?4294967288^T:T}set underlineVariantOffset(T){this._ext&=536870911,this._ext|=T<<29&3758096384}constructor(T=0,k=0){this._ext=0,this._urlId=0,this._ext=T,this._urlId=k}clone(){return new b(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}_.ExtendedAttrs=b},9092:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Buffer=_.MAX_BUFFER_SIZE=void 0;const b=g(6349),A=g(7226),T=g(3734),k=g(8437),U=g(4634),j=g(511),F=g(643),D=g(4863),E=g(7116);_.MAX_BUFFER_SIZE=4294967295,_.Buffer=class{constructor(y,M,W){this._hasScrollback=y,this._optionsService=M,this._bufferService=W,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=k.DEFAULT_ATTR_DATA.clone(),this.savedCharset=E.DEFAULT_CHARSET,this.markers=[],this._nullCell=j.CellData.fromCharData([0,F.NULL_CELL_CHAR,F.NULL_CELL_WIDTH,F.NULL_CELL_CODE]),this._whitespaceCell=j.CellData.fromCharData([0,F.WHITESPACE_CELL_CHAR,F.WHITESPACE_CELL_WIDTH,F.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new A.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new b.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(y){return y?(this._nullCell.fg=y.fg,this._nullCell.bg=y.bg,this._nullCell.extended=y.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new T.ExtendedAttrs),this._nullCell}getWhitespaceCell(y){return y?(this._whitespaceCell.fg=y.fg,this._whitespaceCell.bg=y.bg,this._whitespaceCell.extended=y.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new T.ExtendedAttrs),this._whitespaceCell}getBlankLine(y,M){return new k.BufferLine(this._bufferService.cols,this.getNullCell(y),M)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const y=this.ybase+this.y-this.ydisp;return y>=0&&y<this._rows}_getCorrectBufferLength(y){if(!this._hasScrollback)return y;const M=y+this._optionsService.rawOptions.scrollback;return M>_.MAX_BUFFER_SIZE?_.MAX_BUFFER_SIZE:M}fillViewportRows(y){if(0===this.lines.length){void 0===y&&(y=k.DEFAULT_ATTR_DATA);let M=this._rows;for(;M--;)this.lines.push(this.getBlankLine(y))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new b.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(y,M){const W=this.getNullCell(k.DEFAULT_ATTR_DATA);let G=0;const Z=this._getCorrectBufferLength(M);if(Z>this.lines.maxLength&&(this.lines.maxLength=Z),this.lines.length>0){if(this._cols<y)for(let H=0;H<this.lines.length;H++)G+=+this.lines.get(H).resize(y,W);let ne=0;if(this._rows<M)for(let H=this._rows;H<M;H++)this.lines.length<M+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new k.BufferLine(y,W)):this.ybase>0&&this.lines.length<=this.ybase+this.y+ne+1?(this.ybase--,ne++,this.ydisp>0&&this.ydisp--):this.lines.push(new k.BufferLine(y,W)));else for(let H=this._rows;H>M;H--)this.lines.length>M+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(Z<this.lines.maxLength){const H=this.lines.length-Z;H>0&&(this.lines.trimStart(H),this.ybase=Math.max(this.ybase-H,0),this.ydisp=Math.max(this.ydisp-H,0),this.savedY=Math.max(this.savedY-H,0)),this.lines.maxLength=Z}this.x=Math.min(this.x,y-1),this.y=Math.min(this.y,M-1),ne&&(this.y+=ne),this.savedX=Math.min(this.savedX,y-1),this.scrollTop=0}if(this.scrollBottom=M-1,this._isReflowEnabled&&(this._reflow(y,M),this._cols>y))for(let ne=0;ne<this.lines.length;ne++)G+=+this.lines.get(ne).resize(y,W);this._cols=y,this._rows=M,this._memoryCleanupQueue.clear(),G>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let y=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,y=!1);let M=0;for(;this._memoryCleanupPosition<this.lines.length;)if(M+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),M>100)return!0;return y}get _isReflowEnabled(){const y=this._optionsService.rawOptions.windowsPty;return y&&y.buildNumber?this._hasScrollback&&"conpty"===y.backend&&y.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(y,M){this._cols!==y&&(y>this._cols?this._reflowLarger(y,M):this._reflowSmaller(y,M))}_reflowLarger(y,M){const W=(0,U.reflowLargerGetLinesToRemove)(this.lines,this._cols,y,this.ybase+this.y,this.getNullCell(k.DEFAULT_ATTR_DATA));if(W.length>0){const G=(0,U.reflowLargerCreateNewLayout)(this.lines,W);(0,U.reflowLargerApplyNewLayout)(this.lines,G.layout),this._reflowLargerAdjustViewport(y,M,G.countRemoved)}}_reflowLargerAdjustViewport(y,M,W){const G=this.getNullCell(k.DEFAULT_ATTR_DATA);let Z=W;for(;Z-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<M&&this.lines.push(new k.BufferLine(y,G))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-W,0)}_reflowSmaller(y,M){const W=this.getNullCell(k.DEFAULT_ATTR_DATA),G=[];let Z=0;for(let ne=this.lines.length-1;ne>=0;ne--){let H=this.lines.get(ne);if(!H||!H.isWrapped&&H.getTrimmedLength()<=y)continue;const te=[H];for(;H.isWrapped&&ne>0;)H=this.lines.get(--ne),te.unshift(H);const De=this.ybase+this.y;if(De>=ne&&De<ne+te.length)continue;const ve=te[te.length-1].getTrimmedLength(),Te=(0,U.reflowSmallerGetNewLineLengths)(te,this._cols,y),_e=Te.length-te.length;let ue;ue=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+_e):Math.max(0,this.lines.length-this.lines.maxLength+_e);const $e=[];for(let V=0;V<_e;V++){const re=this.getBlankLine(k.DEFAULT_ATTR_DATA,!0);$e.push(re)}$e.length>0&&(G.push({start:ne+te.length+Z,newLines:$e}),Z+=$e.length),te.push(...$e);let He=Te.length-1,Be=Te[He];0===Be&&(He--,Be=Te[He]);let Me=te.length-_e-1,Y=ve;for(;Me>=0;){const V=Math.min(Y,Be);if(void 0===te[He])break;if(te[He].copyCellsFrom(te[Me],Y-V,Be-V,V,!0),Be-=V,0===Be&&(He--,Be=Te[He]),Y-=V,0===Y){Me--;const re=Math.max(Me,0);Y=(0,U.getWrappedLineTrimmedLength)(te,re,this._cols)}}for(let V=0;V<te.length;V++)Te[V]<y&&te[V].setCell(Te[V],W);let z=_e-ue;for(;z-- >0;)0===this.ybase?this.y<M-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+Z)-M&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+_e,this.ybase+M-1)}if(G.length>0){const ne=[],H=[];for(let He=0;He<this.lines.length;He++)H.push(this.lines.get(He));const te=this.lines.length;let De=te-1,ve=0,Te=G[ve];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+Z);let _e=0;for(let He=Math.min(this.lines.maxLength-1,te+Z-1);He>=0;He--)if(Te&&Te.start>De+_e){for(let Be=Te.newLines.length-1;Be>=0;Be--)this.lines.set(He--,Te.newLines[Be]);He++,ne.push({index:De+1,amount:Te.newLines.length}),_e+=Te.newLines.length,Te=G[++ve]}else this.lines.set(He,H[De--]);let ue=0;for(let He=ne.length-1;He>=0;He--)ne[He].index+=ue,this.lines.onInsertEmitter.fire(ne[He]),ue+=ne[He].amount;const $e=Math.max(0,te+Z-this.lines.maxLength);$e>0&&this.lines.onTrimEmitter.fire($e)}}translateBufferLineToString(y,M,W=0,G){const Z=this.lines.get(y);return Z?Z.translateToString(M,W,G):""}getWrappedRangeForLine(y){let M=y,W=y;for(;M>0&&this.lines.get(M).isWrapped;)M--;for(;W+1<this.lines.length&&this.lines.get(W+1).isWrapped;)W++;return{first:M,last:W}}setupTabStops(y){for(null!=y?this.tabs[y]||(y=this.prevStop(y)):(this.tabs={},y=0);y<this._cols;y+=this._optionsService.rawOptions.tabStopWidth)this.tabs[y]=!0}prevStop(y){for(null==y&&(y=this.x);!this.tabs[--y]&&y>0;);return y>=this._cols?this._cols-1:y<0?0:y}nextStop(y){for(null==y&&(y=this.x);!this.tabs[++y]&&y<this._cols;);return y>=this._cols?this._cols-1:y<0?0:y}clearMarkers(y){this._isClearing=!0;for(let M=0;M<this.markers.length;M++)this.markers[M].line===y&&(this.markers[M].dispose(),this.markers.splice(M--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let y=0;y<this.markers.length;y++)this.markers[y].dispose(),this.markers.splice(y--,1);this._isClearing=!1}addMarker(y){const M=new D.Marker(y);return this.markers.push(M),M.register(this.lines.onTrim(W=>{M.line-=W,M.line<0&&M.dispose()})),M.register(this.lines.onInsert(W=>{M.line>=W.index&&(M.line+=W.amount)})),M.register(this.lines.onDelete(W=>{M.line>=W.index&&M.line<W.index+W.amount&&M.dispose(),M.line>W.index&&(M.line-=W.amount)})),M.register(M.onDispose(()=>this._removeMarker(M))),M}_removeMarker(y){this._isClearing||this.markers.splice(this.markers.indexOf(y),1)}}},8437:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferLine=_.DEFAULT_ATTR_DATA=void 0;const b=g(3734),A=g(511),T=g(643),k=g(482);_.DEFAULT_ATTR_DATA=Object.freeze(new b.AttributeData);let U=0;class j{constructor(D,E,y=!1){this.isWrapped=y,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*D);const M=E||A.CellData.fromCharData([0,T.NULL_CELL_CHAR,T.NULL_CELL_WIDTH,T.NULL_CELL_CODE]);for(let W=0;W<D;++W)this.setCell(W,M);this.length=D}get(D){const E=this._data[3*D+0],y=2097151&E;return[this._data[3*D+1],2097152&E?this._combined[D]:y?(0,k.stringFromCodePoint)(y):"",E>>22,2097152&E?this._combined[D].charCodeAt(this._combined[D].length-1):y]}set(D,E){this._data[3*D+1]=E[T.CHAR_DATA_ATTR_INDEX],E[T.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[D]=E[1],this._data[3*D+0]=2097152|D|E[T.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*D+0]=E[T.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|E[T.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(D){return this._data[3*D+0]>>22}hasWidth(D){return 12582912&this._data[3*D+0]}getFg(D){return this._data[3*D+1]}getBg(D){return this._data[3*D+2]}hasContent(D){return 4194303&this._data[3*D+0]}getCodePoint(D){const E=this._data[3*D+0];return 2097152&E?this._combined[D].charCodeAt(this._combined[D].length-1):2097151&E}isCombined(D){return 2097152&this._data[3*D+0]}getString(D){const E=this._data[3*D+0];return 2097152&E?this._combined[D]:2097151&E?(0,k.stringFromCodePoint)(2097151&E):""}isProtected(D){return 536870912&this._data[3*D+2]}loadCell(D,E){return U=3*D,E.content=this._data[U+0],E.fg=this._data[U+1],E.bg=this._data[U+2],2097152&E.content&&(E.combinedData=this._combined[D]),268435456&E.bg&&(E.extended=this._extendedAttrs[D]),E}setCell(D,E){2097152&E.content&&(this._combined[D]=E.combinedData),268435456&E.bg&&(this._extendedAttrs[D]=E.extended),this._data[3*D+0]=E.content,this._data[3*D+1]=E.fg,this._data[3*D+2]=E.bg}setCellFromCodepoint(D,E,y,M){268435456&M.bg&&(this._extendedAttrs[D]=M.extended),this._data[3*D+0]=E|y<<22,this._data[3*D+1]=M.fg,this._data[3*D+2]=M.bg}addCodepointToCell(D,E,y){let M=this._data[3*D+0];2097152&M?this._combined[D]+=(0,k.stringFromCodePoint)(E):2097151&M?(this._combined[D]=(0,k.stringFromCodePoint)(2097151&M)+(0,k.stringFromCodePoint)(E),M&=-2097152,M|=2097152):M=4194304|E,y&&(M&=-12582913,M|=y<<22),this._data[3*D+0]=M}insertCells(D,E,y){if((D%=this.length)&&2===this.getWidth(D-1)&&this.setCellFromCodepoint(D-1,0,1,y),E<this.length-D){const M=new A.CellData;for(let W=this.length-D-E-1;W>=0;--W)this.setCell(D+E+W,this.loadCell(D+W,M));for(let W=0;W<E;++W)this.setCell(D+W,y)}else for(let M=D;M<this.length;++M)this.setCell(M,y);2===this.getWidth(this.length-1)&&this.setCellFromCodepoint(this.length-1,0,1,y)}deleteCells(D,E,y){if(E<this.length-(D%=this.length)){const M=new A.CellData;for(let W=0;W<this.length-D-E;++W)this.setCell(D+W,this.loadCell(D+E+W,M));for(let W=this.length-E;W<this.length;++W)this.setCell(W,y)}else for(let M=D;M<this.length;++M)this.setCell(M,y);D&&2===this.getWidth(D-1)&&this.setCellFromCodepoint(D-1,0,1,y),0!==this.getWidth(D)||this.hasContent(D)||this.setCellFromCodepoint(D,0,1,y)}replaceCells(D,E,y,M=!1){if(M)for(D&&2===this.getWidth(D-1)&&!this.isProtected(D-1)&&this.setCellFromCodepoint(D-1,0,1,y),E<this.length&&2===this.getWidth(E-1)&&!this.isProtected(E)&&this.setCellFromCodepoint(E,0,1,y);D<E&&D<this.length;)this.isProtected(D)||this.setCell(D,y),D++;else for(D&&2===this.getWidth(D-1)&&this.setCellFromCodepoint(D-1,0,1,y),E<this.length&&2===this.getWidth(E-1)&&this.setCellFromCodepoint(E,0,1,y);D<E&&D<this.length;)this.setCell(D++,y)}resize(D,E){if(D===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const y=3*D;if(D>this.length){if(this._data.buffer.byteLength>=4*y)this._data=new Uint32Array(this._data.buffer,0,y);else{const M=new Uint32Array(y);M.set(this._data),this._data=M}for(let M=this.length;M<D;++M)this.setCell(M,E)}else{this._data=this._data.subarray(0,y);const M=Object.keys(this._combined);for(let G=0;G<M.length;G++){const Z=parseInt(M[G],10);Z>=D&&delete this._combined[Z]}const W=Object.keys(this._extendedAttrs);for(let G=0;G<W.length;G++){const Z=parseInt(W[G],10);Z>=D&&delete this._extendedAttrs[Z]}}return this.length=D,4*y*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const D=new Uint32Array(this._data.length);return D.set(this._data),this._data=D,1}return 0}fill(D,E=!1){if(E)for(let y=0;y<this.length;++y)this.isProtected(y)||this.setCell(y,D);else{this._combined={},this._extendedAttrs={};for(let y=0;y<this.length;++y)this.setCell(y,D)}}copyFrom(D){this.length!==D.length?this._data=new Uint32Array(D._data):this._data.set(D._data),this.length=D.length,this._combined={};for(const E in D._combined)this._combined[E]=D._combined[E];this._extendedAttrs={};for(const E in D._extendedAttrs)this._extendedAttrs[E]=D._extendedAttrs[E];this.isWrapped=D.isWrapped}clone(){const D=new j(0);D._data=new Uint32Array(this._data),D.length=this.length;for(const E in this._combined)D._combined[E]=this._combined[E];for(const E in this._extendedAttrs)D._extendedAttrs[E]=this._extendedAttrs[E];return D.isWrapped=this.isWrapped,D}getTrimmedLength(){for(let D=this.length-1;D>=0;--D)if(4194303&this._data[3*D+0])return D+(this._data[3*D+0]>>22);return 0}getNoBgTrimmedLength(){for(let D=this.length-1;D>=0;--D)if(4194303&this._data[3*D+0]||50331648&this._data[3*D+2])return D+(this._data[3*D+0]>>22);return 0}copyCellsFrom(D,E,y,M,W){const G=D._data;if(W)for(let ne=M-1;ne>=0;ne--){for(let H=0;H<3;H++)this._data[3*(y+ne)+H]=G[3*(E+ne)+H];268435456&G[3*(E+ne)+2]&&(this._extendedAttrs[y+ne]=D._extendedAttrs[E+ne])}else for(let ne=0;ne<M;ne++){for(let H=0;H<3;H++)this._data[3*(y+ne)+H]=G[3*(E+ne)+H];268435456&G[3*(E+ne)+2]&&(this._extendedAttrs[y+ne]=D._extendedAttrs[E+ne])}const Z=Object.keys(D._combined);for(let ne=0;ne<Z.length;ne++){const H=parseInt(Z[ne],10);H>=E&&(this._combined[H-E+y]=D._combined[H])}}translateToString(D,E,y,M){E=E??0,y=y??this.length,D&&(y=Math.min(y,this.getTrimmedLength())),M&&(M.length=0);let W="";for(;E<y;){const G=this._data[3*E+0],Z=2097151&G,ne=2097152&G?this._combined[E]:Z?(0,k.stringFromCodePoint)(Z):T.WHITESPACE_CELL_CHAR;if(W+=ne,M)for(let H=0;H<ne.length;++H)M.push(E);E+=G>>22||1}return M&&M.push(E),W}}_.BufferLine=j},4841:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getRangeLength=void 0,_.getRangeLength=function(g,b){if(g.start.y>g.end.y)throw new Error(`Buffer range end (${g.end.x}, ${g.end.y}) cannot be before start (${g.start.x}, ${g.start.y})`);return b*(g.end.y-g.start.y)+(g.end.x-g.start.x+1)}},4634:(w,_)=>{function g(b,A,T){if(A===b.length-1)return b[A].getTrimmedLength();const k=!b[A].hasContent(T-1)&&1===b[A].getWidth(T-1),U=2===b[A+1].getWidth(0);return k&&U?T-1:T}Object.defineProperty(_,"__esModule",{value:!0}),_.getWrappedLineTrimmedLength=_.reflowSmallerGetNewLineLengths=_.reflowLargerApplyNewLayout=_.reflowLargerCreateNewLayout=_.reflowLargerGetLinesToRemove=void 0,_.reflowLargerGetLinesToRemove=function(b,A,T,k,U){const j=[];for(let F=0;F<b.length-1;F++){let D=F,E=b.get(++D);if(!E.isWrapped)continue;const y=[b.get(F)];for(;D<b.length&&E.isWrapped;)y.push(E),E=b.get(++D);if(k>=F&&k<D){F+=y.length-1;continue}let M=0,W=g(y,M,A),G=1,Z=0;for(;G<y.length;){const H=g(y,G,A),ve=Math.min(H-Z,T-W);y[M].copyCellsFrom(y[G],Z,W,ve,!1),W+=ve,W===T&&(M++,W=0),Z+=ve,Z===H&&(G++,Z=0),0===W&&0!==M&&2===y[M-1].getWidth(T-1)&&(y[M].copyCellsFrom(y[M-1],T-1,W++,1,!1),y[M-1].setCell(T-1,U))}y[M].replaceCells(W,T,U);let ne=0;for(let H=y.length-1;H>0&&(H>M||0===y[H].getTrimmedLength());H--)ne++;ne>0&&(j.push(F+y.length-ne),j.push(ne)),F+=y.length-1}return j},_.reflowLargerCreateNewLayout=function(b,A){const T=[];let k=0,U=A[k],j=0;for(let F=0;F<b.length;F++)if(U===F){const D=A[++k];b.onDeleteEmitter.fire({index:F-j,amount:D}),F+=D-1,j+=D,U=A[++k]}else T.push(F);return{layout:T,countRemoved:j}},_.reflowLargerApplyNewLayout=function(b,A){const T=[];for(let k=0;k<A.length;k++)T.push(b.get(A[k]));for(let k=0;k<T.length;k++)b.set(k,T[k]);b.length=A.length},_.reflowSmallerGetNewLineLengths=function(b,A,T){const k=[],U=b.map((E,y)=>g(b,y,A)).reduce((E,y)=>E+y);let j=0,F=0,D=0;for(;D<U;){if(U-D<T){k.push(U-D);break}j+=T;const E=g(b,F,A);j>E&&(j-=E,F++);const y=2===b[F].getWidth(j-1);y&&j--;const M=y?T-1:T;k.push(M),D+=M}return k},_.getWrappedLineTrimmedLength=g},5295:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferSet=void 0;const b=g(8460),A=g(844),T=g(9092);_.BufferSet=class k extends A.Disposable{constructor(j,F){super(),this._optionsService=j,this._bufferService=F,this._onBufferActivate=this.register(new b.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new T.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new T.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(j){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(j),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(j,F){this._normal.resize(j,F),this._alt.resize(j,F),this.setupTabStops(j)}setupTabStops(j){this._normal.setupTabStops(j),this._alt.setupTabStops(j)}}},511:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CellData=void 0;const b=g(482),A=g(643),T=g(3734);class k extends T.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new T.ExtendedAttrs,this.combinedData=""}static fromCharData(j){const F=new k;return F.setFromCharData(j),F}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,b.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(j){this.fg=j[A.CHAR_DATA_ATTR_INDEX],this.bg=0;let F=!1;if(j[A.CHAR_DATA_CHAR_INDEX].length>2)F=!0;else if(2===j[A.CHAR_DATA_CHAR_INDEX].length){const D=j[A.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=D&&D<=56319){const E=j[A.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=E&&E<=57343?this.content=1024*(D-55296)+E-56320+65536|j[A.CHAR_DATA_WIDTH_INDEX]<<22:F=!0}else F=!0}else this.content=j[A.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|j[A.CHAR_DATA_WIDTH_INDEX]<<22;F&&(this.combinedData=j[A.CHAR_DATA_CHAR_INDEX],this.content=2097152|j[A.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}_.CellData=k},643:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WHITESPACE_CELL_CODE=_.WHITESPACE_CELL_WIDTH=_.WHITESPACE_CELL_CHAR=_.NULL_CELL_CODE=_.NULL_CELL_WIDTH=_.NULL_CELL_CHAR=_.CHAR_DATA_CODE_INDEX=_.CHAR_DATA_WIDTH_INDEX=_.CHAR_DATA_CHAR_INDEX=_.CHAR_DATA_ATTR_INDEX=_.DEFAULT_EXT=_.DEFAULT_ATTR=_.DEFAULT_COLOR=void 0,_.DEFAULT_COLOR=0,_.DEFAULT_ATTR=256|_.DEFAULT_COLOR<<9,_.DEFAULT_EXT=0,_.CHAR_DATA_ATTR_INDEX=0,_.CHAR_DATA_CHAR_INDEX=1,_.CHAR_DATA_WIDTH_INDEX=2,_.CHAR_DATA_CODE_INDEX=3,_.NULL_CELL_CHAR="",_.NULL_CELL_WIDTH=1,_.NULL_CELL_CODE=0,_.WHITESPACE_CELL_CHAR=" ",_.WHITESPACE_CELL_WIDTH=1,_.WHITESPACE_CELL_CODE=32},4863:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Marker=void 0;const b=g(8460),A=g(844);class T{get id(){return this._id}constructor(U){this.line=U,this.isDisposed=!1,this._disposables=[],this._id=T._nextId++,this._onDispose=this.register(new b.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,A.disposeArray)(this._disposables),this._disposables.length=0)}register(U){return this._disposables.push(U),U}}_.Marker=T,T._nextId=1},7116:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DEFAULT_CHARSET=_.CHARSETS=void 0,_.CHARSETS={},_.DEFAULT_CHARSET=_.CHARSETS.B,_.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},_.CHARSETS.A={"#":"\xa3"},_.CHARSETS.B=void 0,_.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},_.CHARSETS.C=_.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},_.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},_.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},_.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},_.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},_.CHARSETS.E=_.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},_.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},_.CHARSETS.H=_.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},_.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(w,_)=>{var g,b,A,T;Object.defineProperty(_,"__esModule",{value:!0}),_.C1_ESCAPED=_.C1=_.C0=void 0,(T=g||(_.C0=g={})).NUL="\0",T.SOH="\x01",T.STX="\x02",T.ETX="\x03",T.EOT="\x04",T.ENQ="\x05",T.ACK="\x06",T.BEL="\x07",T.BS="\b",T.HT="\t",T.LF="\n",T.VT="\v",T.FF="\f",T.CR="\r",T.SO="\x0e",T.SI="\x0f",T.DLE="\x10",T.DC1="\x11",T.DC2="\x12",T.DC3="\x13",T.DC4="\x14",T.NAK="\x15",T.SYN="\x16",T.ETB="\x17",T.CAN="\x18",T.EM="\x19",T.SUB="\x1a",T.ESC="\x1b",T.FS="\x1c",T.GS="\x1d",T.RS="\x1e",T.US="\x1f",T.SP=" ",T.DEL="\x7f",function(T){T.PAD="\x80",T.HOP="\x81",T.BPH="\x82",T.NBH="\x83",T.IND="\x84",T.NEL="\x85",T.SSA="\x86",T.ESA="\x87",T.HTS="\x88",T.HTJ="\x89",T.VTS="\x8a",T.PLD="\x8b",T.PLU="\x8c",T.RI="\x8d",T.SS2="\x8e",T.SS3="\x8f",T.DCS="\x90",T.PU1="\x91",T.PU2="\x92",T.STS="\x93",T.CCH="\x94",T.MW="\x95",T.SPA="\x96",T.EPA="\x97",T.SOS="\x98",T.SGCI="\x99",T.SCI="\x9a",T.CSI="\x9b",T.ST="\x9c",T.OSC="\x9d",T.PM="\x9e",T.APC="\x9f"}(b||(_.C1=b={})),function(T){T.ST=`${g.ESC}\\`}(A||(_.C1_ESCAPED=A={}))},7399:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.evaluateKeyboardEvent=void 0;const b=g(2584),A={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};_.evaluateKeyboardEvent=function(T,k,U,j){const F={type:0,cancel:!1,key:void 0},D=(T.shiftKey?1:0)|(T.altKey?2:0)|(T.ctrlKey?4:0)|(T.metaKey?8:0);switch(T.keyCode){case 0:"UIKeyInputUpArrow"===T.key?F.key=k?b.C0.ESC+"OA":b.C0.ESC+"[A":"UIKeyInputLeftArrow"===T.key?F.key=k?b.C0.ESC+"OD":b.C0.ESC+"[D":"UIKeyInputRightArrow"===T.key?F.key=k?b.C0.ESC+"OC":b.C0.ESC+"[C":"UIKeyInputDownArrow"===T.key&&(F.key=k?b.C0.ESC+"OB":b.C0.ESC+"[B");break;case 8:F.key=T.ctrlKey?"\b":b.C0.DEL,T.altKey&&(F.key=b.C0.ESC+F.key);break;case 9:if(T.shiftKey){F.key=b.C0.ESC+"[Z";break}F.key=b.C0.HT,F.cancel=!0;break;case 13:F.key=T.altKey?b.C0.ESC+b.C0.CR:b.C0.CR,F.cancel=!0;break;case 27:F.key=b.C0.ESC,T.altKey&&(F.key=b.C0.ESC+b.C0.ESC),F.cancel=!0;break;case 37:if(T.metaKey)break;D?(F.key=b.C0.ESC+"[1;"+(D+1)+"D",F.key===b.C0.ESC+"[1;3D"&&(F.key=b.C0.ESC+(U?"b":"[1;5D"))):F.key=k?b.C0.ESC+"OD":b.C0.ESC+"[D";break;case 39:if(T.metaKey)break;D?(F.key=b.C0.ESC+"[1;"+(D+1)+"C",F.key===b.C0.ESC+"[1;3C"&&(F.key=b.C0.ESC+(U?"f":"[1;5C"))):F.key=k?b.C0.ESC+"OC":b.C0.ESC+"[C";break;case 38:if(T.metaKey)break;D?(F.key=b.C0.ESC+"[1;"+(D+1)+"A",U||F.key!==b.C0.ESC+"[1;3A"||(F.key=b.C0.ESC+"[1;5A")):F.key=k?b.C0.ESC+"OA":b.C0.ESC+"[A";break;case 40:if(T.metaKey)break;D?(F.key=b.C0.ESC+"[1;"+(D+1)+"B",U||F.key!==b.C0.ESC+"[1;3B"||(F.key=b.C0.ESC+"[1;5B")):F.key=k?b.C0.ESC+"OB":b.C0.ESC+"[B";break;case 45:T.shiftKey||T.ctrlKey||(F.key=b.C0.ESC+"[2~");break;case 46:F.key=D?b.C0.ESC+"[3;"+(D+1)+"~":b.C0.ESC+"[3~";break;case 36:F.key=D?b.C0.ESC+"[1;"+(D+1)+"H":k?b.C0.ESC+"OH":b.C0.ESC+"[H";break;case 35:F.key=D?b.C0.ESC+"[1;"+(D+1)+"F":k?b.C0.ESC+"OF":b.C0.ESC+"[F";break;case 33:T.shiftKey?F.type=2:F.key=T.ctrlKey?b.C0.ESC+"[5;"+(D+1)+"~":b.C0.ESC+"[5~";break;case 34:T.shiftKey?F.type=3:F.key=T.ctrlKey?b.C0.ESC+"[6;"+(D+1)+"~":b.C0.ESC+"[6~";break;case 112:F.key=D?b.C0.ESC+"[1;"+(D+1)+"P":b.C0.ESC+"OP";break;case 113:F.key=D?b.C0.ESC+"[1;"+(D+1)+"Q":b.C0.ESC+"OQ";break;case 114:F.key=D?b.C0.ESC+"[1;"+(D+1)+"R":b.C0.ESC+"OR";break;case 115:F.key=D?b.C0.ESC+"[1;"+(D+1)+"S":b.C0.ESC+"OS";break;case 116:F.key=D?b.C0.ESC+"[15;"+(D+1)+"~":b.C0.ESC+"[15~";break;case 117:F.key=D?b.C0.ESC+"[17;"+(D+1)+"~":b.C0.ESC+"[17~";break;case 118:F.key=D?b.C0.ESC+"[18;"+(D+1)+"~":b.C0.ESC+"[18~";break;case 119:F.key=D?b.C0.ESC+"[19;"+(D+1)+"~":b.C0.ESC+"[19~";break;case 120:F.key=D?b.C0.ESC+"[20;"+(D+1)+"~":b.C0.ESC+"[20~";break;case 121:F.key=D?b.C0.ESC+"[21;"+(D+1)+"~":b.C0.ESC+"[21~";break;case 122:F.key=D?b.C0.ESC+"[23;"+(D+1)+"~":b.C0.ESC+"[23~";break;case 123:F.key=D?b.C0.ESC+"[24;"+(D+1)+"~":b.C0.ESC+"[24~";break;default:if(!T.ctrlKey||T.shiftKey||T.altKey||T.metaKey)if(U&&!j||!T.altKey||T.metaKey)!U||T.altKey||T.ctrlKey||T.shiftKey||!T.metaKey?T.key&&!T.ctrlKey&&!T.altKey&&!T.metaKey&&T.keyCode>=48&&1===T.key.length?F.key=T.key:T.key&&T.ctrlKey&&("_"===T.key&&(F.key=b.C0.US),"@"===T.key&&(F.key=b.C0.NUL)):65===T.keyCode&&(F.type=1);else{const E=A[T.keyCode],y=E?.[T.shiftKey?1:0];if(y)F.key=b.C0.ESC+y;else if(T.keyCode>=65&&T.keyCode<=90){let W=String.fromCharCode(T.ctrlKey?T.keyCode-64:T.keyCode+32);T.shiftKey&&(W=W.toUpperCase()),F.key=b.C0.ESC+W}else if(32===T.keyCode)F.key=b.C0.ESC+(T.ctrlKey?b.C0.NUL:" ");else if("Dead"===T.key&&T.code.startsWith("Key")){let M=T.code.slice(3,4);T.shiftKey||(M=M.toLowerCase()),F.key=b.C0.ESC+M,F.cancel=!0}}else T.keyCode>=65&&T.keyCode<=90?F.key=String.fromCharCode(T.keyCode-64):32===T.keyCode?F.key=b.C0.NUL:T.keyCode>=51&&T.keyCode<=55?F.key=String.fromCharCode(T.keyCode-51+27):56===T.keyCode?F.key=b.C0.DEL:219===T.keyCode?F.key=b.C0.ESC:220===T.keyCode?F.key=b.C0.FS:221===T.keyCode&&(F.key=b.C0.GS)}return F}},482:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Utf8ToUtf32=_.StringToUtf32=_.utf32ToString=_.stringFromCodePoint=void 0,_.stringFromCodePoint=function(g){return g>65535?(g-=65536,String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):String.fromCharCode(g)},_.utf32ToString=function(g,b=0,A=g.length){let T="";for(let k=b;k<A;++k){let U=g[k];U>65535?(U-=65536,T+=String.fromCharCode(55296+(U>>10))+String.fromCharCode(U%1024+56320)):T+=String.fromCharCode(U)}return T},_.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(g,b){const A=g.length;if(!A)return 0;let T=0,k=0;if(this._interim){const U=g.charCodeAt(k++);56320<=U&&U<=57343?b[T++]=1024*(this._interim-55296)+U-56320+65536:(b[T++]=this._interim,b[T++]=U),this._interim=0}for(let U=k;U<A;++U){const j=g.charCodeAt(U);if(55296<=j&&j<=56319){if(++U>=A)return this._interim=j,T;const F=g.charCodeAt(U);56320<=F&&F<=57343?b[T++]=1024*(j-55296)+F-56320+65536:(b[T++]=j,b[T++]=F)}else 65279!==j&&(b[T++]=j)}return T}},_.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(g,b){const A=g.length;if(!A)return 0;let T,k,U,j,F=0,D=0,E=0;if(this.interim[0]){let W=!1,G=this.interim[0];G&=192==(224&G)?31:224==(240&G)?15:7;let Z,ne=0;for(;(Z=63&this.interim[++ne])&&ne<4;)G<<=6,G|=Z;const H=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,te=H-ne;for(;E<te;){if(E>=A)return 0;if(Z=g[E++],128!=(192&Z)){E--,W=!0;break}this.interim[ne++]=Z,G<<=6,G|=63&Z}W||(2===H?G<128?E--:b[F++]=G:3===H?G<2048||G>=55296&&G<=57343||65279===G||(b[F++]=G):G<65536||G>1114111||(b[F++]=G)),this.interim.fill(0)}const y=A-4;let M=E;for(;M<A;){for(;!(!(M<y)||128&(T=g[M])||128&(k=g[M+1])||128&(U=g[M+2])||128&(j=g[M+3]));)b[F++]=T,b[F++]=k,b[F++]=U,b[F++]=j,M+=4;if(T=g[M++],T<128)b[F++]=T;else if(192==(224&T)){if(M>=A)return this.interim[0]=T,F;if(k=g[M++],128!=(192&k)){M--;continue}if(D=(31&T)<<6|63&k,D<128){M--;continue}b[F++]=D}else if(224==(240&T)){if(M>=A)return this.interim[0]=T,F;if(k=g[M++],128!=(192&k)){M--;continue}if(M>=A)return this.interim[0]=T,this.interim[1]=k,F;if(U=g[M++],128!=(192&U)){M--;continue}if(D=(15&T)<<12|(63&k)<<6|63&U,D<2048||D>=55296&&D<=57343||65279===D)continue;b[F++]=D}else if(240==(248&T)){if(M>=A)return this.interim[0]=T,F;if(k=g[M++],128!=(192&k)){M--;continue}if(M>=A)return this.interim[0]=T,this.interim[1]=k,F;if(U=g[M++],128!=(192&U)){M--;continue}if(M>=A)return this.interim[0]=T,this.interim[1]=k,this.interim[2]=U,F;if(j=g[M++],128!=(192&j)){M--;continue}if(D=(7&T)<<18|(63&k)<<12|(63&U)<<6|63&j,D<65536||D>1114111)continue;b[F++]=D}}return F}}},225:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.UnicodeV6=void 0;const b=g(1480),A=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],T=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let k;_.UnicodeV6=class{constructor(){if(this.version="6",!k){k=new Uint8Array(65536),k.fill(1),k[0]=0,k.fill(0,1,32),k.fill(0,127,160),k.fill(2,4352,4448),k[9001]=2,k[9002]=2,k.fill(2,11904,42192),k[12351]=1,k.fill(2,44032,55204),k.fill(2,63744,64256),k.fill(2,65040,65050),k.fill(2,65072,65136),k.fill(2,65280,65377),k.fill(2,65504,65511);for(let U=0;U<A.length;++U)k.fill(0,A[U][0],A[U][1]+1)}}wcwidth(U){return U<32?0:U<127?1:U<65536?k[U]:function(j,F){let D,E=0,y=F.length-1;if(j<F[0][0]||j>F[y][1])return!1;for(;y>=E;)if(D=E+y>>1,j>F[D][1])E=D+1;else{if(!(j<F[D][0]))return!0;y=D-1}return!1}(U,T)?0:U>=131072&&U<=196605||U>=196608&&U<=262141?2:1}charProperties(U,j){let F=this.wcwidth(U),D=0===F&&0!==j;if(D){const E=b.UnicodeService.extractWidth(j);0===E?D=!1:E>F&&(F=E)}return b.UnicodeService.createPropertyValue(0,F,D)}}},5981:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WriteBuffer=void 0;const b=g(8460),A=g(844);_.WriteBuffer=class T extends A.Disposable{constructor(U){super(),this._action=U,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new b.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(U,j){if(void 0!==j&&this._syncCalls>j)return void(this._syncCalls=0);if(this._pendingData+=U.length,this._writeBuffer.push(U),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let F;for(this._isSyncWriting=!0;F=this._writeBuffer.shift();){this._action(F);const D=this._callbacks.shift();D&&D()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(U,j){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=U.length,this._writeBuffer.push(U),this._callbacks.push(j),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=U.length,this._writeBuffer.push(U),this._callbacks.push(j)}_innerWrite(U=0,j=!0){const F=U||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const D=this._writeBuffer[this._bufferOffset],E=this._action(D,j);if(E){const M=W=>Date.now()-F>=12?setTimeout(()=>this._innerWrite(0,W)):this._innerWrite(F,W);return void E.catch(W=>(queueMicrotask(()=>{throw W}),Promise.resolve(!1))).then(M)}const y=this._callbacks[this._bufferOffset];if(y&&y(),this._bufferOffset++,this._pendingData-=D.length,Date.now()-F>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.toRgbString=_.parseColor=void 0;const g=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,b=/^[\da-f]+$/;function A(T,k){const U=T.toString(16),j=U.length<2?"0"+U:U;switch(k){case 4:return U[0];case 8:return j;case 12:return(j+j).slice(0,3);default:return j+j}}_.parseColor=function(T){if(!T)return;let k=T.toLowerCase();if(0===k.indexOf("rgb:")){k=k.slice(4);const U=g.exec(k);if(U){const j=U[1]?15:U[4]?255:U[7]?4095:65535;return[Math.round(parseInt(U[1]||U[4]||U[7]||U[10],16)/j*255),Math.round(parseInt(U[2]||U[5]||U[8]||U[11],16)/j*255),Math.round(parseInt(U[3]||U[6]||U[9]||U[12],16)/j*255)]}}else if(0===k.indexOf("#")&&(k=k.slice(1),b.exec(k)&&[3,6,9,12].includes(k.length))){const U=k.length/3,j=[0,0,0];for(let F=0;F<3;++F){const D=parseInt(k.slice(U*F,U*F+U),16);j[F]=1===U?D<<4:2===U?D:3===U?D>>4:D>>8}return j}},_.toRgbString=function(T,k=16){const[U,j,F]=T;return`rgb:${A(U,k)}/${A(j,k)}/${A(F,k)}`}},5770:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PAYLOAD_LIMIT=void 0,_.PAYLOAD_LIMIT=1e7},6351:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DcsHandler=_.DcsParser=void 0;const b=g(482),A=g(8742),T=g(5770),k=[];_.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=k,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=k}registerHandler(j,F){void 0===this._handlers[j]&&(this._handlers[j]=[]);const D=this._handlers[j];return D.push(F),{dispose:()=>{const E=D.indexOf(F);-1!==E&&D.splice(E,1)}}}clearHandler(j){this._handlers[j]&&delete this._handlers[j]}setHandlerFallback(j){this._handlerFb=j}reset(){if(this._active.length)for(let j=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;j>=0;--j)this._active[j].unhook(!1);this._stack.paused=!1,this._active=k,this._ident=0}hook(j,F){if(this.reset(),this._ident=j,this._active=this._handlers[j]||k,this._active.length)for(let D=this._active.length-1;D>=0;D--)this._active[D].hook(F);else this._handlerFb(this._ident,"HOOK",F)}put(j,F,D){if(this._active.length)for(let E=this._active.length-1;E>=0;E--)this._active[E].put(j,F,D);else this._handlerFb(this._ident,"PUT",(0,b.utf32ToString)(j,F,D))}unhook(j,F=!0){if(this._active.length){let D=!1,E=this._active.length-1,y=!1;if(this._stack.paused&&(E=this._stack.loopPosition-1,D=F,y=this._stack.fallThrough,this._stack.paused=!1),!y&&!1===D){for(;E>=0&&(D=this._active[E].unhook(j),!0!==D);E--)if(D instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=E,this._stack.fallThrough=!1,D;E--}for(;E>=0;E--)if(D=this._active[E].unhook(!1),D instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=E,this._stack.fallThrough=!0,D}else this._handlerFb(this._ident,"UNHOOK",j);this._active=k,this._ident=0}};const U=new A.Params;U.addParam(0),_.DcsHandler=class{constructor(j){this._handler=j,this._data="",this._params=U,this._hitLimit=!1}hook(j){this._params=j.length>1||j.params[0]?j.clone():U,this._data="",this._hitLimit=!1}put(j,F,D){this._hitLimit||(this._data+=(0,b.utf32ToString)(j,F,D),this._data.length>T.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(j){let F=!1;if(this._hitLimit)F=!1;else if(j&&(F=this._handler(this._data,this._params),F instanceof Promise))return F.then(D=>(this._params=U,this._data="",this._hitLimit=!1,D));return this._params=U,this._data="",this._hitLimit=!1,F}}},2015:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.EscapeSequenceParser=_.VT500_TRANSITION_TABLE=_.TransitionTable=void 0;const b=g(844),A=g(8742),T=g(6242),k=g(6351);class U{constructor(E){this.table=new Uint8Array(E)}setDefault(E,y){this.table.fill(E<<4|y)}add(E,y,M,W){this.table[y<<8|E]=M<<4|W}addMany(E,y,M,W){for(let G=0;G<E.length;G++)this.table[y<<8|E[G]]=M<<4|W}}_.TransitionTable=U;const j=160;_.VT500_TRANSITION_TABLE=function(){const D=new U(4095),E=Array.apply(null,Array(256)).map((ne,H)=>H),y=(ne,H)=>E.slice(ne,H),M=y(32,127),W=y(0,24);W.push(25),W.push.apply(W,y(28,32));const G=y(0,14);let Z;for(Z in D.setDefault(1,0),D.addMany(M,0,2,0),G)D.addMany([24,26,153,154],Z,3,0),D.addMany(y(128,144),Z,3,0),D.addMany(y(144,152),Z,3,0),D.add(156,Z,0,0),D.add(27,Z,11,1),D.add(157,Z,4,8),D.addMany([152,158,159],Z,0,7),D.add(155,Z,11,3),D.add(144,Z,11,9);return D.addMany(W,0,3,0),D.addMany(W,1,3,1),D.add(127,1,0,1),D.addMany(W,8,0,8),D.addMany(W,3,3,3),D.add(127,3,0,3),D.addMany(W,4,3,4),D.add(127,4,0,4),D.addMany(W,6,3,6),D.addMany(W,5,3,5),D.add(127,5,0,5),D.addMany(W,2,3,2),D.add(127,2,0,2),D.add(93,1,4,8),D.addMany(M,8,5,8),D.add(127,8,5,8),D.addMany([156,27,24,26,7],8,6,0),D.addMany(y(28,32),8,0,8),D.addMany([88,94,95],1,0,7),D.addMany(M,7,0,7),D.addMany(W,7,0,7),D.add(156,7,0,0),D.add(127,7,0,7),D.add(91,1,11,3),D.addMany(y(64,127),3,7,0),D.addMany(y(48,60),3,8,4),D.addMany([60,61,62,63],3,9,4),D.addMany(y(48,60),4,8,4),D.addMany(y(64,127),4,7,0),D.addMany([60,61,62,63],4,0,6),D.addMany(y(32,64),6,0,6),D.add(127,6,0,6),D.addMany(y(64,127),6,0,0),D.addMany(y(32,48),3,9,5),D.addMany(y(32,48),5,9,5),D.addMany(y(48,64),5,0,6),D.addMany(y(64,127),5,7,0),D.addMany(y(32,48),4,9,5),D.addMany(y(32,48),1,9,2),D.addMany(y(32,48),2,9,2),D.addMany(y(48,127),2,10,0),D.addMany(y(48,80),1,10,0),D.addMany(y(81,88),1,10,0),D.addMany([89,90,92],1,10,0),D.addMany(y(96,127),1,10,0),D.add(80,1,11,9),D.addMany(W,9,0,9),D.add(127,9,0,9),D.addMany(y(28,32),9,0,9),D.addMany(y(32,48),9,9,12),D.addMany(y(48,60),9,8,10),D.addMany([60,61,62,63],9,9,10),D.addMany(W,11,0,11),D.addMany(y(32,128),11,0,11),D.addMany(y(28,32),11,0,11),D.addMany(W,10,0,10),D.add(127,10,0,10),D.addMany(y(28,32),10,0,10),D.addMany(y(48,60),10,8,10),D.addMany([60,61,62,63],10,0,11),D.addMany(y(32,48),10,9,12),D.addMany(W,12,0,12),D.add(127,12,0,12),D.addMany(y(28,32),12,0,12),D.addMany(y(32,48),12,9,12),D.addMany(y(48,64),12,0,11),D.addMany(y(64,127),12,12,13),D.addMany(y(64,127),10,12,13),D.addMany(y(64,127),9,12,13),D.addMany(W,13,13,13),D.addMany(M,13,13,13),D.add(127,13,0,13),D.addMany([27,156,24,26],13,14,0),D.add(j,0,2,0),D.add(j,8,5,8),D.add(j,6,0,6),D.add(j,11,0,11),D.add(j,13,13,13),D}(),_.EscapeSequenceParser=class F extends b.Disposable{constructor(E=_.VT500_TRANSITION_TABLE){super(),this._transitions=E,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new A.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(y,M,W)=>{},this._executeHandlerFb=y=>{},this._csiHandlerFb=(y,M)=>{},this._escHandlerFb=y=>{},this._errorHandlerFb=y=>y,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,b.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new T.OscParser),this._dcsParser=this.register(new k.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(E,y=[64,126]){let M=0;if(E.prefix){if(E.prefix.length>1)throw new Error("only one byte as prefix supported");if(M=E.prefix.charCodeAt(0),M&&60>M||M>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(E.intermediates){if(E.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let G=0;G<E.intermediates.length;++G){const Z=E.intermediates.charCodeAt(G);if(32>Z||Z>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");M<<=8,M|=Z}}if(1!==E.final.length)throw new Error("final must be a single byte");const W=E.final.charCodeAt(0);if(y[0]>W||W>y[1])throw new Error(`final must be in range ${y[0]} .. ${y[1]}`);return M<<=8,M|=W,M}identToString(E){const y=[];for(;E;)y.push(String.fromCharCode(255&E)),E>>=8;return y.reverse().join("")}setPrintHandler(E){this._printHandler=E}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(E,y){const M=this._identifier(E,[48,126]);void 0===this._escHandlers[M]&&(this._escHandlers[M]=[]);const W=this._escHandlers[M];return W.push(y),{dispose:()=>{const G=W.indexOf(y);-1!==G&&W.splice(G,1)}}}clearEscHandler(E){this._escHandlers[this._identifier(E,[48,126])]&&delete this._escHandlers[this._identifier(E,[48,126])]}setEscHandlerFallback(E){this._escHandlerFb=E}setExecuteHandler(E,y){this._executeHandlers[E.charCodeAt(0)]=y}clearExecuteHandler(E){this._executeHandlers[E.charCodeAt(0)]&&delete this._executeHandlers[E.charCodeAt(0)]}setExecuteHandlerFallback(E){this._executeHandlerFb=E}registerCsiHandler(E,y){const M=this._identifier(E);void 0===this._csiHandlers[M]&&(this._csiHandlers[M]=[]);const W=this._csiHandlers[M];return W.push(y),{dispose:()=>{const G=W.indexOf(y);-1!==G&&W.splice(G,1)}}}clearCsiHandler(E){this._csiHandlers[this._identifier(E)]&&delete this._csiHandlers[this._identifier(E)]}setCsiHandlerFallback(E){this._csiHandlerFb=E}registerDcsHandler(E,y){return this._dcsParser.registerHandler(this._identifier(E),y)}clearDcsHandler(E){this._dcsParser.clearHandler(this._identifier(E))}setDcsHandlerFallback(E){this._dcsParser.setHandlerFallback(E)}registerOscHandler(E,y){return this._oscParser.registerHandler(E,y)}clearOscHandler(E){this._oscParser.clearHandler(E)}setOscHandlerFallback(E){this._oscParser.setHandlerFallback(E)}setErrorHandler(E){this._errorHandler=E}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(E,y,M,W,G){this._parseStack.state=E,this._parseStack.handlers=y,this._parseStack.handlerPos=M,this._parseStack.transition=W,this._parseStack.chunkPos=G}parse(E,y,M){let W,G=0,Z=0,ne=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,ne=this._parseStack.chunkPos+1;else{if(void 0===M||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const H=this._parseStack.handlers;let te=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===M&&te>-1)for(;te>=0&&(W=H[te](this._params),!0!==W);te--)if(W instanceof Promise)return this._parseStack.handlerPos=te,W;this._parseStack.handlers=[];break;case 4:if(!1===M&&te>-1)for(;te>=0&&(W=H[te](),!0!==W);te--)if(W instanceof Promise)return this._parseStack.handlerPos=te,W;this._parseStack.handlers=[];break;case 6:if(G=E[this._parseStack.chunkPos],W=this._dcsParser.unhook(24!==G&&26!==G,M),W)return W;27===G&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(G=E[this._parseStack.chunkPos],W=this._oscParser.end(24!==G&&26!==G,M),W)return W;27===G&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,ne=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let H=ne;H<y;++H){switch(G=E[H],Z=this._transitions.table[this.currentState<<8|(G<160?G:j)],Z>>4){case 2:for(let _e=H+1;;++_e){if(_e>=y||(G=E[_e])<32||G>126&&G<j){this._printHandler(E,H,_e),H=_e-1;break}if(++_e>=y||(G=E[_e])<32||G>126&&G<j){this._printHandler(E,H,_e),H=_e-1;break}if(++_e>=y||(G=E[_e])<32||G>126&&G<j){this._printHandler(E,H,_e),H=_e-1;break}if(++_e>=y||(G=E[_e])<32||G>126&&G<j){this._printHandler(E,H,_e),H=_e-1;break}}break;case 3:this._executeHandlers[G]?this._executeHandlers[G]():this._executeHandlerFb(G),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:H,code:G,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const te=this._csiHandlers[this._collect<<8|G];let De=te?te.length-1:-1;for(;De>=0&&(W=te[De](this._params),!0!==W);De--)if(W instanceof Promise)return this._preserveStack(3,te,De,Z,H),W;De<0&&this._csiHandlerFb(this._collect<<8|G,this._params),this.precedingJoinState=0;break;case 8:do{switch(G){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(G-48)}}while(++H<y&&(G=E[H])>47&&G<60);H--;break;case 9:this._collect<<=8,this._collect|=G;break;case 10:const ve=this._escHandlers[this._collect<<8|G];let Te=ve?ve.length-1:-1;for(;Te>=0&&(W=ve[Te](),!0!==W);Te--)if(W instanceof Promise)return this._preserveStack(4,ve,Te,Z,H),W;Te<0&&this._escHandlerFb(this._collect<<8|G),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|G,this._params);break;case 13:for(let _e=H+1;;++_e)if(_e>=y||24===(G=E[_e])||26===G||27===G||G>127&&G<j){this._dcsParser.put(E,H,_e),H=_e-1;break}break;case 14:if(W=this._dcsParser.unhook(24!==G&&26!==G),W)return this._preserveStack(6,[],0,Z,H),W;27===G&&(Z|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let _e=H+1;;_e++)if(_e>=y||(G=E[_e])<32||G>127&&G<j){this._oscParser.put(E,H,_e),H=_e-1;break}break;case 6:if(W=this._oscParser.end(24!==G&&26!==G),W)return this._preserveStack(5,[],0,Z,H),W;27===G&&(Z|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&Z}}}},6242:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.OscHandler=_.OscParser=void 0;const b=g(5770),A=g(482),T=[];_.OscParser=class{constructor(){this._state=0,this._active=T,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(k,U){void 0===this._handlers[k]&&(this._handlers[k]=[]);const j=this._handlers[k];return j.push(U),{dispose:()=>{const F=j.indexOf(U);-1!==F&&j.splice(F,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=T}reset(){if(2===this._state)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].end(!1);this._stack.paused=!1,this._active=T,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||T,this._active.length)for(let k=this._active.length-1;k>=0;k--)this._active[k].start();else this._handlerFb(this._id,"START")}_put(k,U,j){if(this._active.length)for(let F=this._active.length-1;F>=0;F--)this._active[F].put(k,U,j);else this._handlerFb(this._id,"PUT",(0,A.utf32ToString)(k,U,j))}start(){this.reset(),this._state=1}put(k,U,j){if(3!==this._state){if(1===this._state)for(;U<j;){const F=k[U++];if(59===F){this._state=2,this._start();break}if(F<48||57<F)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+F-48}2===this._state&&j-U>0&&this._put(k,U,j)}}end(k,U=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let j=!1,F=this._active.length-1,D=!1;if(this._stack.paused&&(F=this._stack.loopPosition-1,j=U,D=this._stack.fallThrough,this._stack.paused=!1),!D&&!1===j){for(;F>=0&&(j=this._active[F].end(k),!0!==j);F--)if(j instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=F,this._stack.fallThrough=!1,j;F--}for(;F>=0;F--)if(j=this._active[F].end(!1),j instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=F,this._stack.fallThrough=!0,j}else this._handlerFb(this._id,"END",k);this._active=T,this._id=-1,this._state=0}}},_.OscHandler=class{constructor(k){this._handler=k,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(k,U,j){this._hitLimit||(this._data+=(0,A.utf32ToString)(k,U,j),this._data.length>b.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(k){let U=!1;if(this._hitLimit)U=!1;else if(k&&(U=this._handler(this._data),U instanceof Promise))return U.then(j=>(this._data="",this._hitLimit=!1,j));return this._data="",this._hitLimit=!1,U}}},8742:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Params=void 0;const g=2147483647;class b{static fromArray(T){const k=new b;if(!T.length)return k;for(let U=Array.isArray(T[0])?1:0;U<T.length;++U){const j=T[U];if(Array.isArray(j))for(let F=0;F<j.length;++F)k.addSubParam(j[F]);else k.addParam(j)}return k}constructor(T=32,k=32){if(this.maxLength=T,this.maxSubParamsLength=k,k>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(T),this.length=0,this._subParams=new Int32Array(k),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(T),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const T=new b(this.maxLength,this.maxSubParamsLength);return T.params.set(this.params),T.length=this.length,T._subParams.set(this._subParams),T._subParamsLength=this._subParamsLength,T._subParamsIdx.set(this._subParamsIdx),T._rejectDigits=this._rejectDigits,T._rejectSubDigits=this._rejectSubDigits,T._digitIsSub=this._digitIsSub,T}toArray(){const T=[];for(let k=0;k<this.length;++k){T.push(this.params[k]);const U=this._subParamsIdx[k]>>8,j=255&this._subParamsIdx[k];j-U>0&&T.push(Array.prototype.slice.call(this._subParams,U,j))}return T}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(T){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(T<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=T>g?g:T}}addSubParam(T){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(T<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=T>g?g:T,this._subParamsIdx[this.length-1]++}}hasSubParams(T){return(255&this._subParamsIdx[T])-(this._subParamsIdx[T]>>8)>0}getSubParams(T){const k=this._subParamsIdx[T]>>8,U=255&this._subParamsIdx[T];return U-k>0?this._subParams.subarray(k,U):null}getSubParamsAll(){const T={};for(let k=0;k<this.length;++k){const U=this._subParamsIdx[k]>>8,j=255&this._subParamsIdx[k];j-U>0&&(T[k]=this._subParams.slice(U,j))}return T}addDigit(T){let k;if(this._rejectDigits||!(k=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const U=this._digitIsSub?this._subParams:this.params,j=U[k-1];U[k-1]=~j?Math.min(10*j+T,g):T}}_.Params=b},5741:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AddonManager=void 0,_.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let g=this._addons.length-1;g>=0;g--)this._addons[g].instance.dispose()}loadAddon(g,b){const A={instance:b,dispose:b.dispose,isDisposed:!1};this._addons.push(A),b.dispose=()=>this._wrappedAddonDispose(A),b.activate(g)}_wrappedAddonDispose(g){if(g.isDisposed)return;let b=-1;for(let A=0;A<this._addons.length;A++)if(this._addons[A]===g){b=A;break}if(-1===b)throw new Error("Could not dispose an addon that has not been loaded");g.isDisposed=!0,g.dispose.apply(g.instance),this._addons.splice(b,1)}}},8771:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferApiView=void 0;const b=g(3785),A=g(511);_.BufferApiView=class{constructor(T,k){this._buffer=T,this.type=k}init(T){return this._buffer=T,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(T){const k=this._buffer.lines.get(T);if(k)return new b.BufferLineApiView(k)}getNullCell(){return new A.CellData}}},3785:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferLineApiView=void 0;const b=g(511);_.BufferLineApiView=class{constructor(A){this._line=A}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(A,T){if(!(A<0||A>=this._line.length))return T?(this._line.loadCell(A,T),T):this._line.loadCell(A,new b.CellData)}translateToString(A,T,k){return this._line.translateToString(A,T,k)}}},8285:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferNamespaceApi=void 0;const b=g(8771),A=g(8460),T=g(844);_.BufferNamespaceApi=class k extends T.Disposable{constructor(j){super(),this._core=j,this._onBufferChange=this.register(new A.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new b.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new b.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ParserApi=void 0,_.ParserApi=class{constructor(g){this._core=g}registerCsiHandler(g,b){return this._core.registerCsiHandler(g,A=>b(A.toArray()))}addCsiHandler(g,b){return this.registerCsiHandler(g,b)}registerDcsHandler(g,b){return this._core.registerDcsHandler(g,(A,T)=>b(A,T.toArray()))}addDcsHandler(g,b){return this.registerDcsHandler(g,b)}registerEscHandler(g,b){return this._core.registerEscHandler(g,b)}addEscHandler(g,b){return this.registerEscHandler(g,b)}registerOscHandler(g,b){return this._core.registerOscHandler(g,b)}addOscHandler(g,b){return this.registerOscHandler(g,b)}}},7090:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.UnicodeApi=void 0,_.UnicodeApi=class{constructor(g){this._core=g}register(g){this._core.unicodeService.register(g)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(g){this._core.unicodeService.activeVersion=g}}},744:function(w,_,g){var b=this&&this.__decorate||function(D,E,y,M){var W,G=arguments.length,Z=G<3?E:null===M?M=Object.getOwnPropertyDescriptor(E,y):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(D,E,y,M);else for(var ne=D.length-1;ne>=0;ne--)(W=D[ne])&&(Z=(G<3?W(Z):G>3?W(E,y,Z):W(E,y))||Z);return G>3&&Z&&Object.defineProperty(E,y,Z),Z},A=this&&this.__param||function(D,E){return function(y,M){E(y,M,D)}};Object.defineProperty(_,"__esModule",{value:!0}),_.BufferService=_.MINIMUM_ROWS=_.MINIMUM_COLS=void 0;const T=g(8460),k=g(844),U=g(5295),j=g(2585);_.MINIMUM_COLS=2,_.MINIMUM_ROWS=1;let F=_.BufferService=class extends k.Disposable{get buffer(){return this.buffers.active}constructor(D){super(),this.isUserScrolling=!1,this._onResize=this.register(new T.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new T.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(D.rawOptions.cols||0,_.MINIMUM_COLS),this.rows=Math.max(D.rawOptions.rows||0,_.MINIMUM_ROWS),this.buffers=this.register(new U.BufferSet(D,this))}resize(D,E){this.cols=D,this.rows=E,this.buffers.resize(D,E),this._onResize.fire({cols:D,rows:E})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(D,E=!1){const y=this.buffer;let M;M=this._cachedBlankLine,M&&M.length===this.cols&&M.getFg(0)===D.fg&&M.getBg(0)===D.bg||(M=y.getBlankLine(D,E),this._cachedBlankLine=M),M.isWrapped=E;const W=y.ybase+y.scrollTop,G=y.ybase+y.scrollBottom;if(0===y.scrollTop){const Z=y.lines.isFull;G===y.lines.length-1?Z?y.lines.recycle().copyFrom(M):y.lines.push(M.clone()):y.lines.splice(G+1,0,M.clone()),Z?this.isUserScrolling&&(y.ydisp=Math.max(y.ydisp-1,0)):(y.ybase++,this.isUserScrolling||y.ydisp++)}else y.lines.shiftElements(W+1,G-W+1-1,-1),y.lines.set(G,M.clone());this.isUserScrolling||(y.ydisp=y.ybase),this._onScroll.fire(y.ydisp)}scrollLines(D,E,y){const M=this.buffer;if(D<0){if(0===M.ydisp)return;this.isUserScrolling=!0}else D+M.ydisp>=M.ybase&&(this.isUserScrolling=!1);const W=M.ydisp;M.ydisp=Math.max(Math.min(M.ydisp+D,M.ybase),0),W!==M.ydisp&&(E||this._onScroll.fire(M.ydisp))}};_.BufferService=F=b([A(0,j.IOptionsService)],F)},7994:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CharsetService=void 0,_.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(g){this.glevel=g,this.charset=this._charsets[g]}setgCharset(g,b){this._charsets[g]=b,this.glevel===g&&(this.charset=b)}}},1753:function(w,_,g){var b=this&&this.__decorate||function(M,W,G,Z){var ne,H=arguments.length,te=H<3?W:null===Z?Z=Object.getOwnPropertyDescriptor(W,G):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(M,W,G,Z);else for(var De=M.length-1;De>=0;De--)(ne=M[De])&&(te=(H<3?ne(te):H>3?ne(W,G,te):ne(W,G))||te);return H>3&&te&&Object.defineProperty(W,G,te),te},A=this&&this.__param||function(M,W){return function(G,Z){W(G,Z,M)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CoreMouseService=void 0;const T=g(2585),k=g(8460),U=g(844),j={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:M=>4!==M.button&&1===M.action&&(M.ctrl=!1,M.alt=!1,M.shift=!1,!0)},VT200:{events:19,restrict:M=>32!==M.action},DRAG:{events:23,restrict:M=>32!==M.action||3!==M.button},ANY:{events:31,restrict:M=>!0}};function F(M,W){let G=(M.ctrl?16:0)|(M.shift?4:0)|(M.alt?8:0);return 4===M.button?(G|=64,G|=M.action):(G|=3&M.button,4&M.button&&(G|=64),8&M.button&&(G|=128),32===M.action?G|=32:0!==M.action||W||(G|=3)),G}const D=String.fromCharCode,E={DEFAULT:M=>{const W=[F(M,!1)+32,M.col+32,M.row+32];return W[0]>255||W[1]>255||W[2]>255?"":`\x1b[M${D(W[0])}${D(W[1])}${D(W[2])}`},SGR:M=>{const W=0===M.action&&4!==M.button?"m":"M";return`\x1b[<${F(M,!0)};${M.col};${M.row}${W}`},SGR_PIXELS:M=>{const W=0===M.action&&4!==M.button?"m":"M";return`\x1b[<${F(M,!0)};${M.x};${M.y}${W}`}};let y=_.CoreMouseService=class extends U.Disposable{constructor(M,W){super(),this._bufferService=M,this._coreService=W,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new k.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const G of Object.keys(j))this.addProtocol(G,j[G]);for(const G of Object.keys(E))this.addEncoding(G,E[G]);this.reset()}addProtocol(M,W){this._protocols[M]=W}addEncoding(M,W){this._encodings[M]=W}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(M){if(!this._protocols[M])throw new Error(`unknown protocol "${M}"`);this._activeProtocol=M,this._onProtocolChange.fire(this._protocols[M].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(M){if(!this._encodings[M])throw new Error(`unknown encoding "${M}"`);this._activeEncoding=M}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(M){if(M.col<0||M.col>=this._bufferService.cols||M.row<0||M.row>=this._bufferService.rows||4===M.button&&32===M.action||3===M.button&&32!==M.action||4!==M.button&&(2===M.action||3===M.action)||(M.col++,M.row++,32===M.action&&this._lastEvent&&this._equalEvents(this._lastEvent,M,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(M))return!1;const W=this._encodings[this._activeEncoding](M);return W&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(W):this._coreService.triggerDataEvent(W,!0)),this._lastEvent=M,!0}explainEvents(M){return{down:!!(1&M),up:!!(2&M),drag:!!(4&M),move:!!(8&M),wheel:!!(16&M)}}_equalEvents(M,W,G){if(G){if(M.x!==W.x||M.y!==W.y)return!1}else if(M.col!==W.col||M.row!==W.row)return!1;return M.button===W.button&&M.action===W.action&&M.ctrl===W.ctrl&&M.alt===W.alt&&M.shift===W.shift}};_.CoreMouseService=y=b([A(0,T.IBufferService),A(1,T.ICoreService)],y)},6975:function(w,_,g){var b=this&&this.__decorate||function(y,M,W,G){var Z,ne=arguments.length,H=ne<3?M:null===G?G=Object.getOwnPropertyDescriptor(M,W):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(y,M,W,G);else for(var te=y.length-1;te>=0;te--)(Z=y[te])&&(H=(ne<3?Z(H):ne>3?Z(M,W,H):Z(M,W))||H);return ne>3&&H&&Object.defineProperty(M,W,H),H},A=this&&this.__param||function(y,M){return function(W,G){M(W,G,y)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CoreService=void 0;const T=g(1439),k=g(8460),U=g(844),j=g(2585),F=Object.freeze({insertMode:!1}),D=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let E=_.CoreService=class extends U.Disposable{constructor(y,M,W){super(),this._bufferService=y,this._logService=M,this._optionsService=W,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new k.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new k.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new k.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new k.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,T.clone)(F),this.decPrivateModes=(0,T.clone)(D)}reset(){this.modes=(0,T.clone)(F),this.decPrivateModes=(0,T.clone)(D)}triggerDataEvent(y,M=!1){if(this._optionsService.rawOptions.disableStdin)return;const W=this._bufferService.buffer;M&&this._optionsService.rawOptions.scrollOnUserInput&&W.ybase!==W.ydisp&&this._onRequestScrollToBottom.fire(),M&&this._onUserInput.fire(),this._logService.debug(`sending data "${y}"`,()=>y.split("").map(G=>G.charCodeAt(0))),this._onData.fire(y)}triggerBinaryEvent(y){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${y}"`,()=>y.split("").map(M=>M.charCodeAt(0))),this._onBinary.fire(y))}};_.CoreService=E=b([A(0,j.IBufferService),A(1,j.ILogService),A(2,j.IOptionsService)],E)},9074:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DecorationService=void 0;const b=g(8055),A=g(8460),T=g(844),k=g(6106);let U=0,j=0;_.DecorationService=class F extends T.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new k.SortedList(y=>y?.marker.line),this._onDecorationRegistered=this.register(new A.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new A.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,T.toDisposable)(()=>this.reset()))}registerDecoration(y){if(y.marker.isDisposed)return;const M=new D(y);if(M){const W=M.marker.onDispose(()=>M.dispose());M.onDispose(()=>{M&&(this._decorations.delete(M)&&this._onDecorationRemoved.fire(M),W.dispose())}),this._decorations.insert(M),this._onDecorationRegistered.fire(M)}return M}reset(){for(const y of this._decorations.values())y.dispose();this._decorations.clear()}*getDecorationsAtCell(y,M,W){let G=0,Z=0;for(const ne of this._decorations.getKeyIterator(M))G=ne.options.x??0,Z=G+(ne.options.width??1),y>=G&&y<Z&&(!W||(ne.options.layer??"bottom")===W)&&(yield ne)}forEachDecorationAtCell(y,M,W,G){this._decorations.forEachByKey(M,Z=>{U=Z.options.x??0,j=U+(Z.options.width??1),y>=U&&y<j&&(!W||(Z.options.layer??"bottom")===W)&&G(Z)})}};class D extends T.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?b.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?b.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}constructor(y){super(),this.options=y,this.onRenderEmitter=this.register(new A.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new A.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=y.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.InstantiationService=_.ServiceCollection=void 0;const b=g(2585),A=g(8343);class T{constructor(...U){this._entries=new Map;for(const[j,F]of U)this.set(j,F)}set(U,j){const F=this._entries.get(U);return this._entries.set(U,j),F}forEach(U){for(const[j,F]of this._entries.entries())U(j,F)}has(U){return this._entries.has(U)}get(U){return this._entries.get(U)}}_.ServiceCollection=T,_.InstantiationService=class{constructor(){this._services=new T,this._services.set(b.IInstantiationService,this)}setService(k,U){this._services.set(k,U)}getService(k){return this._services.get(k)}createInstance(k,...U){const j=(0,A.getServiceDependencies)(k).sort((E,y)=>E.index-y.index),F=[];for(const E of j){const y=this._services.get(E.id);if(!y)throw new Error(`[createInstance] ${k.name} depends on UNKNOWN service ${E.id}.`);F.push(y)}const D=j.length>0?j[0].index:U.length;if(U.length!==D)throw new Error(`[createInstance] First service dependency of ${k.name} at position ${D+1} conflicts with ${U.length} static arguments`);return new k(...U,...F)}}},7866:function(w,_,g){var b=this&&this.__decorate||function(D,E,y,M){var W,G=arguments.length,Z=G<3?E:null===M?M=Object.getOwnPropertyDescriptor(E,y):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(D,E,y,M);else for(var ne=D.length-1;ne>=0;ne--)(W=D[ne])&&(Z=(G<3?W(Z):G>3?W(E,y,Z):W(E,y))||Z);return G>3&&Z&&Object.defineProperty(E,y,Z),Z},A=this&&this.__param||function(D,E){return function(y,M){E(y,M,D)}};Object.defineProperty(_,"__esModule",{value:!0}),_.traceCall=_.setTraceLogger=_.LogService=void 0;const T=g(844),k=g(2585),U={trace:k.LogLevelEnum.TRACE,debug:k.LogLevelEnum.DEBUG,info:k.LogLevelEnum.INFO,warn:k.LogLevelEnum.WARN,error:k.LogLevelEnum.ERROR,off:k.LogLevelEnum.OFF};let j,F=_.LogService=class extends T.Disposable{get logLevel(){return this._logLevel}constructor(D){super(),this._optionsService=D,this._logLevel=k.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),j=this}_updateLogLevel(){this._logLevel=U[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(D){for(let E=0;E<D.length;E++)"function"==typeof D[E]&&(D[E]=D[E]())}_log(D,E,y){this._evalLazyOptionalParams(y),D.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+E,...y)}trace(D,...E){this._logLevel<=k.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,D,E)}debug(D,...E){this._logLevel<=k.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,D,E)}info(D,...E){this._logLevel<=k.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,D,E)}warn(D,...E){this._logLevel<=k.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,D,E)}error(D,...E){this._logLevel<=k.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,D,E)}};_.LogService=F=b([A(0,k.IOptionsService)],F),_.setTraceLogger=function(D){j=D},_.traceCall=function(D,E,y){if("function"!=typeof y.value)throw new Error("not supported");const M=y.value;y.value=function(...W){if(j.logLevel!==k.LogLevelEnum.TRACE)return M.apply(this,W);j.trace(`GlyphRenderer#${M.name}(${W.map(Z=>JSON.stringify(Z)).join(", ")})`);const G=M.apply(this,W);return j.trace(`GlyphRenderer#${M.name} return`,G),G}}},7302:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.OptionsService=_.DEFAULT_OPTIONS=void 0;const b=g(8460),A=g(844),T=g(6114);_.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:T.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const k=["normal","bold","100","200","300","400","500","600","700","800","900"];_.OptionsService=class U extends A.Disposable{constructor(F){super(),this._onOptionChange=this.register(new b.EventEmitter),this.onOptionChange=this._onOptionChange.event;const D={..._.DEFAULT_OPTIONS};for(const E in F)if(E in D)try{D[E]=this._sanitizeAndValidateOption(E,F[E])}catch(y){console.error(y)}this.rawOptions=D,this.options={...D},this._setupOptions(),this.register((0,A.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(F,D){return this.onOptionChange(E=>{E===F&&D(this.rawOptions[F])})}onMultipleOptionChange(F,D){return this.onOptionChange(E=>{-1!==F.indexOf(E)&&D()})}_setupOptions(){const F=E=>{if(!(E in _.DEFAULT_OPTIONS))throw new Error(`No option with key "${E}"`);return this.rawOptions[E]},D=(E,y)=>{if(!(E in _.DEFAULT_OPTIONS))throw new Error(`No option with key "${E}"`);y=this._sanitizeAndValidateOption(E,y),this.rawOptions[E]!==y&&(this.rawOptions[E]=y,this._onOptionChange.fire(E))};for(const E in this.rawOptions){const y={get:F.bind(this,E),set:D.bind(this,E)};Object.defineProperty(this.options,E,y)}}_sanitizeAndValidateOption(F,D){switch(F){case"cursorStyle":if(D||(D=_.DEFAULT_OPTIONS[F]),"block"!==(E=D)&&"underline"!==E&&"bar"!==E)throw new Error(`"${D}" is not a valid value for ${F}`);break;case"wordSeparator":D||(D=_.DEFAULT_OPTIONS[F]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof D&&1<=D&&D<=1e3)break;D=k.includes(D)?D:_.DEFAULT_OPTIONS[F];break;case"cursorWidth":D=Math.floor(D);case"lineHeight":case"tabStopWidth":if(D<1)throw new Error(`${F} cannot be less than 1, value: ${D}`);break;case"minimumContrastRatio":D=Math.max(1,Math.min(21,Math.round(10*D)/10));break;case"scrollback":if((D=Math.min(D,4294967295))<0)throw new Error(`${F} cannot be less than 0, value: ${D}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(D<=0)throw new Error(`${F} cannot be less than or equal to 0, value: ${D}`);break;case"rows":case"cols":if(!D&&0!==D)throw new Error(`${F} must be numeric, value: ${D}`);break;case"windowsPty":D=D??{}}var E;return D}}},2660:function(w,_,g){var b=this&&this.__decorate||function(U,j,F,D){var E,y=arguments.length,M=y<3?j:null===D?D=Object.getOwnPropertyDescriptor(j,F):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(U,j,F,D);else for(var W=U.length-1;W>=0;W--)(E=U[W])&&(M=(y<3?E(M):y>3?E(j,F,M):E(j,F))||M);return y>3&&M&&Object.defineProperty(j,F,M),M},A=this&&this.__param||function(U,j){return function(F,D){j(F,D,U)}};Object.defineProperty(_,"__esModule",{value:!0}),_.OscLinkService=void 0;const T=g(2585);let k=_.OscLinkService=class{constructor(U){this._bufferService=U,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(U){const j=this._bufferService.buffer;if(void 0===U.id){const W=j.addMarker(j.ybase+j.y),G={data:U,id:this._nextId++,lines:[W]};return W.onDispose(()=>this._removeMarkerFromLink(G,W)),this._dataByLinkId.set(G.id,G),G.id}const F=U,D=this._getEntryIdKey(F),E=this._entriesWithId.get(D);if(E)return this.addLineToLink(E.id,j.ybase+j.y),E.id;const y=j.addMarker(j.ybase+j.y),M={id:this._nextId++,key:this._getEntryIdKey(F),data:F,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(M,y)),this._entriesWithId.set(M.key,M),this._dataByLinkId.set(M.id,M),M.id}addLineToLink(U,j){const F=this._dataByLinkId.get(U);if(F&&F.lines.every(D=>D.line!==j)){const D=this._bufferService.buffer.addMarker(j);F.lines.push(D),D.onDispose(()=>this._removeMarkerFromLink(F,D))}}getLinkData(U){return this._dataByLinkId.get(U)?.data}_getEntryIdKey(U){return`${U.id};;${U.uri}`}_removeMarkerFromLink(U,j){const F=U.lines.indexOf(j);-1!==F&&(U.lines.splice(F,1),0===U.lines.length&&(void 0!==U.data.id&&this._entriesWithId.delete(U.key),this._dataByLinkId.delete(U.id)))}};_.OscLinkService=k=b([A(0,T.IBufferService)],k)},8343:(w,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createDecorator=_.getServiceDependencies=_.serviceRegistry=void 0;const g="di$target",b="di$dependencies";_.serviceRegistry=new Map,_.getServiceDependencies=function(A){return A[b]||[]},_.createDecorator=function(A){if(_.serviceRegistry.has(A))return _.serviceRegistry.get(A);const T=function(k,U,j){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var F,D,E;F=T,E=j,(D=k)[g]===D?D[b].push({id:F,index:E}):(D[b]=[{id:F,index:E}],D[g]=D)};return T.toString=()=>A,_.serviceRegistry.set(A,T),T}},2585:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.IDecorationService=_.IUnicodeService=_.IOscLinkService=_.IOptionsService=_.ILogService=_.LogLevelEnum=_.IInstantiationService=_.ICharsetService=_.ICoreService=_.ICoreMouseService=_.IBufferService=void 0;const b=g(8343);var A,T;_.IBufferService=(0,b.createDecorator)("BufferService"),_.ICoreMouseService=(0,b.createDecorator)("CoreMouseService"),_.ICoreService=(0,b.createDecorator)("CoreService"),_.ICharsetService=(0,b.createDecorator)("CharsetService"),_.IInstantiationService=(0,b.createDecorator)("InstantiationService"),(T=A||(_.LogLevelEnum=A={}))[T.TRACE=0]="TRACE",T[T.DEBUG=1]="DEBUG",T[T.INFO=2]="INFO",T[T.WARN=3]="WARN",T[T.ERROR=4]="ERROR",T[T.OFF=5]="OFF",_.ILogService=(0,b.createDecorator)("LogService"),_.IOptionsService=(0,b.createDecorator)("OptionsService"),_.IOscLinkService=(0,b.createDecorator)("OscLinkService"),_.IUnicodeService=(0,b.createDecorator)("UnicodeService"),_.IDecorationService=(0,b.createDecorator)("DecorationService")},1480:(w,_,g)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.UnicodeService=void 0;const b=g(8460),A=g(225);class T{static extractShouldJoin(U){return 0!=(1&U)}static extractWidth(U){return U>>1&3}static extractCharKind(U){return U>>3}static createPropertyValue(U,j,F=!1){return(16777215&U)<<3|(3&j)<<1|(F?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new b.EventEmitter,this.onChange=this._onChange.event;const U=new A.UnicodeV6;this.register(U),this._active=U.version,this._activeProvider=U}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(U){if(!this._providers[U])throw new Error(`unknown Unicode version "${U}"`);this._active=U,this._activeProvider=this._providers[U],this._onChange.fire(U)}register(U){this._providers[U.version]=U}wcwidth(U){return this._activeProvider.wcwidth(U)}getStringCellWidth(U){let j=0,F=0;const D=U.length;for(let E=0;E<D;++E){let y=U.charCodeAt(E);if(55296<=y&&y<=56319){if(++E>=D)return j+this.wcwidth(y);const G=U.charCodeAt(E);56320<=G&&G<=57343?y=1024*(y-55296)+G-56320+65536:j+=this.wcwidth(G)}const M=this.charProperties(y,F);let W=T.extractWidth(M);T.extractShouldJoin(M)&&(W-=T.extractWidth(F)),j+=W,F=M}return j}charProperties(U,j){return this._activeProvider.charProperties(U,j)}}_.UnicodeService=T}},a={};function d(w){var _=a[w];if(void 0!==_)return _.exports;var g=a[w]={exports:{}};return $[w].call(g.exports,g,g.exports,d),g.exports}var p={};return(()=>{var w=p;Object.defineProperty(w,"__esModule",{value:!0}),w.Terminal=void 0;const _=d(9042),g=d(3236),b=d(844),A=d(5741),T=d(8285),k=d(7975),U=d(7090),j=["cols","rows"];w.Terminal=class F extends b.Disposable{constructor(E){super(),this._core=this.register(new g.Terminal(E)),this._addonManager=this.register(new A.AddonManager),this._publicOptions={...this._core.options};const y=W=>this._core.options[W],M=(W,G)=>{this._checkReadonlyOptions(W),this._core.options[W]=G};for(const W in this._core.options){const G={get:y.bind(this,W),set:M.bind(this,W)};Object.defineProperty(this._publicOptions,W,G)}}_checkReadonlyOptions(E){if(j.includes(E))throw new Error(`Option "${E}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new k.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new U.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new T.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const E=this._core.coreService.decPrivateModes;let y="none";switch(this._core.coreMouseService.activeProtocol){case"X10":y="x10";break;case"VT200":y="vt200";break;case"DRAG":y="drag";break;case"ANY":y="any"}return{applicationCursorKeysMode:E.applicationCursorKeys,applicationKeypadMode:E.applicationKeypad,bracketedPasteMode:E.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:y,originMode:E.origin,reverseWraparoundMode:E.reverseWraparound,sendFocusMode:E.sendFocus,wraparoundMode:E.wraparound}}get options(){return this._publicOptions}set options(E){for(const y in E)this._publicOptions[y]=E[y]}blur(){this._core.blur()}focus(){this._core.focus()}input(E,y=!0){this._core.input(E,y)}resize(E,y){this._verifyIntegers(E,y),this._core.resize(E,y)}open(E){this._core.open(E)}attachCustomKeyEventHandler(E){this._core.attachCustomKeyEventHandler(E)}attachCustomWheelEventHandler(E){this._core.attachCustomWheelEventHandler(E)}registerLinkProvider(E){return this._core.registerLinkProvider(E)}registerCharacterJoiner(E){return this._checkProposedApi(),this._core.registerCharacterJoiner(E)}deregisterCharacterJoiner(E){this._checkProposedApi(),this._core.deregisterCharacterJoiner(E)}registerMarker(E=0){return this._verifyIntegers(E),this._core.registerMarker(E)}registerDecoration(E){return this._checkProposedApi(),this._verifyPositiveIntegers(E.x??0,E.width??0,E.height??0),this._core.registerDecoration(E)}hasSelection(){return this._core.hasSelection()}select(E,y,M){this._verifyIntegers(E,y,M),this._core.select(E,y,M)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(E,y){this._verifyIntegers(E,y),this._core.selectLines(E,y)}dispose(){super.dispose()}scrollLines(E){this._verifyIntegers(E),this._core.scrollLines(E)}scrollPages(E){this._verifyIntegers(E),this._core.scrollPages(E)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(E){this._verifyIntegers(E),this._core.scrollToLine(E)}clear(){this._core.clear()}write(E,y){this._core.write(E,y)}writeln(E,y){this._core.write(E),this._core.write("\r\n",y)}paste(E){this._core.paste(E)}refresh(E,y){this._verifyIntegers(E,y),this._core.refresh(E,y)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(E){this._addonManager.loadAddon(this,E)}static get strings(){return _}_verifyIntegers(...E){for(const y of E)if(y===1/0||isNaN(y)||y%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...E){for(const y of E)if(y&&(y===1/0||isNaN(y)||y%1!=0||y<0))throw new Error("This API only accepts positive integers")}}})(),p})()},7376:function(fe,$,a){var d;fe=a.nmd(fe),function(){var p,b="Expected a function",T="__lodash_hash_undefined__",U="__lodash_placeholder__",H=32,z=1/0,V=9007199254740991,pe=4294967295,ae=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",H],["partialRight",64],["rearg",256]],X="[object Arguments]",Ee="[object Array]",je="[object Boolean]",Ke="[object Date]",it="[object Error]",Ne="[object Function]",We="[object GeneratorFunction]",Oe="[object Map]",xe="[object Number]",yt="[object Object]",Wt="[object Promise]",qt="[object RegExp]",Nt="[object Set]",kt="[object String]",fn="[object Symbol]",Et="[object WeakMap]",It="[object ArrayBuffer]",ln="[object DataView]",Ht="[object Float32Array]",bt="[object Float64Array]",xt="[object Int8Array]",Jt="[object Int16Array]",Yt="[object Int32Array]",Ut="[object Uint8Array]",Rr="[object Uint8ClampedArray]",Xn="[object Uint16Array]",nr="[object Uint32Array]",Rs=/\b__p \+= '';/g,qo=/\b(__p \+=) '' \+/g,pn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ci=/&(?:amp|lt|gt|quot|#39);/g,yi=/[&<>"']/g,Ls=RegExp(Ci.source),Ji=RegExp(yi.source),Sa=/<%-([\s\S]+?)%>/g,xs=/<%([\s\S]+?)%>/g,Eo=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Je=/^\w*$/,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qe=/[\\^$.*+?()[\]{}|]/g,ct=RegExp(qe.source),Mt=/^\s+/,Bt=/\s/,Hn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ln=/\{\n\/\* \[wrapped with (.+)\] \*/,Tr=/,? & /,Kr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qr=/[()=,{}\[\]\/\s]/,Ma=/\\(\\)?/g,xi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ki=/\w*$/,Qn=/^[-+]0x[0-9a-f]+$/i,Fr=/^0b[01]+$/i,xn=/^\[object .+?Constructor\]$/,Do=/^0o[0-7]+$/i,to=/^(?:0|[1-9]\d*)$/,Ei=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qr=/($^)/,ks=/['\n\r\u2028\u2029\\]/g,bo="\\ud800-\\udfff",_i="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Zt="\\u2700-\\u27bf",no="a-z\\xdf-\\xf6\\xf8-\\xff",zo="A-Z\\xc0-\\xd6\\xd8-\\xde",Go="\\ufe0e\\ufe0f",Bs="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oi="["+bo+"]",Ns="["+Bs+"]",$r="["+_i+"]",Ni="\\d+",io="["+Zt+"]",Us="["+no+"]",Ia="[^"+bo+Bs+Ni+Zt+no+zo+"]",Yo="\\ud83c[\\udffb-\\udfff]",Si="[^"+bo+"]",ai="(?:\\ud83c[\\udde6-\\uddff]){2}",Xo="[\\ud800-\\udbff][\\udc00-\\udfff]",so="["+zo+"]",ul="(?:"+Us+"|"+Ia+")",Fs="(?:"+so+"|"+Ia+")",So="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Pa="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",$s="(?:"+$r+"|"+Yo+")?",Qo="["+Go+"]?",Oa=Qo+$s+"(?:\\u200d(?:"+[Si,ai,Xo].join("|")+")"+Qo+$s+")*",Ws="(?:"+[io,ai,Xo].join("|")+")"+Oa,Aa="(?:"+[Si+$r+"?",$r,ai,Xo,oi].join("|")+")",li=RegExp("['\u2019]","g"),Zi=RegExp($r,"g"),ps=RegExp(Yo+"(?="+Yo+")|"+Aa+Oa,"g"),En=RegExp([so+"?"+Us+"+"+So+"(?="+[Ns,so,"$"].join("|")+")",Fs+"+"+Pa+"(?="+[Ns,so+ul,"$"].join("|")+")",so+"?"+ul+"+"+So,so+"+"+Pa,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ni,Ws].join("|"),"g"),wr=RegExp("[\\u200d"+bo+_i+Go+"]"),hr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vr=-1,$n={};$n[Ht]=$n[bt]=$n[xt]=$n[Jt]=$n[Yt]=$n[Ut]=$n[Rr]=$n[Xn]=$n[nr]=!0,$n[X]=$n[Ee]=$n[It]=$n[je]=$n[ln]=$n[Ke]=$n[it]=$n[Ne]=$n[Oe]=$n[xe]=$n[yt]=$n[qt]=$n[Nt]=$n[kt]=$n[Et]=!1;var Wn={};Wn[X]=Wn[Ee]=Wn[It]=Wn[ln]=Wn[je]=Wn[Ke]=Wn[Ht]=Wn[bt]=Wn[xt]=Wn[Jt]=Wn[Yt]=Wn[Oe]=Wn[xe]=Wn[yt]=Wn[qt]=Wn[Nt]=Wn[kt]=Wn[fn]=Wn[Ut]=Wn[Rr]=Wn[Xn]=Wn[nr]=!0,Wn[it]=Wn[Ne]=Wn[Et]=!1;var Gn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},St=parseFloat,cn=parseInt,Kn="object"==typeof global&&global&&global.Object===Object&&global,Mi="object"==typeof self&&self&&self.Object===Object&&self,_r=Kn||Mi||Function("return this")(),gr=$&&!$.nodeType&&$,es=gr&&fe&&!fe.nodeType&&fe,or=es&&es.exports===gr,Ti=or&&Kn.process,Lr=function(){try{return es&&es.require&&es.require("util").types||Ti&&Ti.binding&&Ti.binding("util")}catch{}}(),Xt=Lr&&Lr.isArrayBuffer,Po=Lr&&Lr.isDate,ao=Lr&&Lr.isMap,Hs=Lr&&Lr.isRegExp,tr=Lr&&Lr.isSet,Jo=Lr&&Lr.isTypedArray;function xr(Se,st,tt){switch(tt.length){case 0:return Se.call(st);case 1:return Se.call(st,tt[0]);case 2:return Se.call(st,tt[0],tt[1]);case 3:return Se.call(st,tt[0],tt[1],tt[2])}return Se.apply(st,tt)}function Ui(Se,st,tt,Rt){for(var en=-1,Dn=null==Se?0:Se.length;++en<Dn;){var lr=Se[en];st(Rt,lr,tt(lr),Se)}return Rt}function zr(Se,st){for(var tt=-1,Rt=null==Se?0:Se.length;++tt<Rt&&!1!==st(Se[tt],tt,Se););return Se}function Gr(Se,st){for(var tt=null==Se?0:Se.length;tt--&&!1!==st(Se[tt],tt,Se););return Se}function Fi(Se,st){for(var tt=-1,Rt=null==Se?0:Se.length;++tt<Rt;)if(!st(Se[tt],tt,Se))return!1;return!0}function Cr(Se,st){for(var tt=-1,Rt=null==Se?0:Se.length,en=0,Dn=[];++tt<Rt;){var lr=Se[tt];st(lr,tt,Se)&&(Dn[en++]=lr)}return Dn}function $i(Se,st){return!(null==Se||!Se.length)&&qn(Se,st,0)>-1}function ts(Se,st,tt){for(var Rt=-1,en=null==Se?0:Se.length;++Rt<en;)if(tt(st,Se[Rt]))return!0;return!1}function Ot(Se,st){for(var tt=-1,Rt=null==Se?0:Se.length,en=Array(Rt);++tt<Rt;)en[tt]=st(Se[tt],tt,Se);return en}function gs(Se,st){for(var tt=-1,Rt=st.length,en=Se.length;++tt<Rt;)Se[en+tt]=st[tt];return Se}function ns(Se,st,tt,Rt){var en=-1,Dn=null==Se?0:Se.length;for(Rt&&Dn&&(tt=Se[++en]);++en<Dn;)tt=st(tt,Se[en],en,Se);return tt}function jl(Se,st,tt,Rt){var en=null==Se?0:Se.length;for(Rt&&en&&(tt=Se[--en]);en--;)tt=st(tt,Se[en],en,Se);return tt}function Yr(Se,st){for(var tt=-1,Rt=null==Se?0:Se.length;++tt<Rt;)if(st(Se[tt],tt,Se))return!0;return!1}var Ra=Wi("length");function yr(Se,st,tt){var Rt;return tt(Se,function(en,Dn,lr){if(st(en,Dn,lr))return Rt=Dn,!1}),Rt}function Jr(Se,st,tt,Rt){for(var en=Se.length,Dn=tt+(Rt?1:-1);Rt?Dn--:++Dn<en;)if(st(Se[Dn],Dn,Se))return Dn;return-1}function qn(Se,st,tt){return st==st?function Zr(Se,st,tt){for(var Rt=tt-1,en=Se.length;++Rt<en;)if(Se[Rt]===st)return Rt;return-1}(Se,st,tt):Jr(Se,Zo,tt)}function Ir(Se,st,tt,Rt){for(var en=tt-1,Dn=Se.length;++en<Dn;)if(Rt(Se[en],st))return en;return-1}function Zo(Se){return Se!=Se}function is(Se,st){var tt=null==Se?0:Se.length;return tt?hl(Se,st)/tt:NaN}function Wi(Se){return function(st){return null==st?p:st[Se]}}function kr(Se){return function(st){return null==Se?p:Se[st]}}function lo(Se,st,tt,Rt,en){return en(Se,function(Dn,lr,Pn){tt=Rt?(Rt=!1,Dn):st(tt,Dn,lr,Pn)}),tt}function hl(Se,st){for(var tt,Rt=-1,en=Se.length;++Rt<en;){var Dn=st(Se[Rt]);Dn!==p&&(tt=tt===p?Dn:tt+Dn)}return tt}function La(Se,st){for(var tt=-1,Rt=Array(Se);++tt<Se;)Rt[tt]=st(tt);return Rt}function _l(Se){return Se&&Se.slice(0,Ua(Se)+1).replace(Mt,"")}function Hi(Se){return function(st){return Se(st)}}function xa(Se,st){return Ot(st,function(tt){return Se[tt]})}function ea(Se,st){return Se.has(st)}function ta(Se,st){for(var tt=-1,Rt=Se.length;++tt<Rt&&qn(st,Se[tt],0)>-1;);return tt}function Oo(Se,st){for(var tt=Se.length;tt--&&qn(st,Se[tt],0)>-1;);return tt}var fl=kr({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),pl=kr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function yc(Se){return"\\"+Gn[Se]}function Ks(Se){return wr.test(Se)}function ka(Se){var st=-1,tt=Array(Se.size);return Se.forEach(function(Rt,en){tt[++st]=[en,Rt]}),tt}function Ba(Se,st){return function(tt){return Se(st(tt))}}function ms(Se,st){for(var tt=-1,Rt=Se.length,en=0,Dn=[];++tt<Rt;){var lr=Se[tt];(lr===st||lr===U)&&(Se[tt]=U,Dn[en++]=tt)}return Dn}function co(Se){var st=-1,tt=Array(Se.size);return Se.forEach(function(Rt){tt[++st]=Rt}),tt}function Na(Se){return Ks(Se)?function Er(Se){for(var st=ps.lastIndex=0;ps.test(Se);)++st;return st}(Se):Ra(Se)}function Jn(Se){return Ks(Se)?function Fa(Se){return Se.match(ps)||[]}(Se):function js(Se){return Se.split("")}(Se)}function Ua(Se){for(var st=Se.length;st--&&Bt.test(Se.charAt(st)););return st}var ze=kr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),uo=function Se(st){var s,tt=(st=null==st?_r:uo.defaults(_r.Object(),st,uo.pick(_r,oo))).Array,Rt=st.Date,en=st.Error,Dn=st.Function,lr=st.Math,Pn=st.Object,qs=st.RegExp,vs=st.String,Ii=st.TypeError,ci=tt.prototype,os=Pn.prototype,$a=st["__core-js_shared__"],R=Dn.prototype.toString,se=os.hasOwnProperty,N=0,ie=(s=/[^.]+$/.exec($a&&$a.keys&&$a.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",Ie=os.toString,Qe=R.call(Pn),nt=_r._,Lt=qs("^"+R.call(se).replace(qe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kn=or?st.Buffer:p,dn=st.Symbol,bn=st.Uint8Array,nn=kn?kn.allocUnsafe:p,Zn=Ba(Pn.getPrototypeOf,Pn),Vn=Pn.create,cr=os.propertyIsEnumerable,Br=ci.splice,ji=dn?dn.isConcatSpreadable:p,as=dn?dn.iterator:p,Dr=dn?dn.toStringTag:p,fi=function(){try{var s=Ts(Pn,"defineProperty");return s({},"",{}),s}catch{}}(),Ki=st.clearTimeout!==_r.clearTimeout&&st.clearTimeout,qi=Rt&&Rt.now!==_r.Date.now&&Rt.now,Dc=st.setTimeout!==_r.setTimeout&&st.setTimeout,ra=lr.ceil,Wa=lr.floor,zl=Pn.getOwnPropertySymbols,Pr=kn?kn.isBuffer:p,rr=st.isFinite,ws=ci.join,vl=Ba(Pn.keys,Pn),mr=lr.max,hn=lr.min,wl=Rt.now,Cl=st.parseInt,pi=lr.random,bc=ci.reverse,Ao=Ts(st,"DataView"),ur=Ts(st,"Map"),ei=Ts(st,"Promise"),rn=Ts(st,"Set"),ia=Ts(st,"WeakMap"),Pi=Ts(Pn,"create"),ls=ia&&new ia,sa={},pd=wa(Ao),_u=wa(ur),ir=wa(ei),Ha=wa(rn),Gl=wa(ia),zt=dn?dn.prototype:p,oa=zt?zt.valueOf:p,gd=zt?zt.toString:p;function ge(s){if(Sr(s)&&!mn(s)&&!(s instanceof gn)){if(s instanceof gi)return s;if(se.call(s,"__wrapped__"))return zu(s)}return new gi(s)}var ja=function(){function s(){}return function(u){if(!br(u))return{};if(Vn)return Vn(u);s.prototype=u;var C=new s;return s.prototype=p,C}}();function Yl(){}function gi(s,u){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=p}function gn(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function aa(s){var u=-1,C=null==s?0:s.length;for(this.clear();++u<C;){var q=s[u];this.set(q[0],q[1])}}function dr(s){var u=-1,C=null==s?0:s.length;for(this.clear();++u<C;){var q=s[u];this.set(q[0],q[1])}}function cs(s){var u=-1,C=null==s?0:s.length;for(this.clear();++u<C;){var q=s[u];this.set(q[0],q[1])}}function S(s){var u=-1,C=null==s?0:s.length;for(this.__data__=new cs;++u<C;)this.add(s[u])}function de(s){var u=this.__data__=new dr(s);this.size=u.size}function zn(s,u){var C=mn(s),q=!C&&tl(s),oe=!C&&!q&&pc(s),we=!C&&!q&&!oe&&xl(s),Le=C||q||oe||we,Fe=Le?La(s.length,vs):[],Ye=Fe.length;for(var dt in s)(u||se.call(s,dt))&&(!Le||!("length"==dt||oe&&("offset"==dt||"parent"==dt)||we&&("buffer"==dt||"byteLength"==dt||"byteOffset"==dt)||Gs(dt,Ye)))&&Fe.push(dt);return Fe}function On(s){var u=s.length;return u?s[Tu(0,u-1)]:p}function ys(s,u){return Xr(sr(s),Vi(u,0,s.length))}function Ro(s){return Xr(sr(s))}function ho(s,u,C){(C!==p&&!ds(s[u],C)||C===p&&!(u in s))&&Lo(s,u,C)}function _o(s,u,C){var q=s[u];(!se.call(s,u)||!ds(q,C)||C===p&&!(u in s))&&Lo(s,u,C)}function Es(s,u){for(var C=s.length;C--;)if(ds(s[C][0],u))return C;return-1}function Mc(s,u,C,q){return xo(s,function(oe,we,Le){u(q,oe,C(oe),Le)}),q}function Tc(s,u){return s&&us(u,hi(u),s)}function Lo(s,u,C){"__proto__"==u&&fi?fi(s,u,{configurable:!0,enumerable:!0,value:C,writable:!0}):s[u]=C}function Ur(s,u){for(var C=-1,q=u.length,oe=tt(q),we=null==s;++C<q;)oe[C]=we?p:h_(s,u[C]);return oe}function Vi(s,u,C){return s==s&&(C!==p&&(s=s<=C?s:C),u!==p&&(s=s>=u?s:u)),s}function wn(s,u,C,q,oe,we){var Le,Fe=1&u,Ye=2&u,dt=4&u;if(C&&(Le=oe?C(s,q,oe,we):C(s)),Le!==p)return Le;if(!br(s))return s;var ht=mn(s);if(ht){if(Le=function V_(s){var u=s.length,C=new s.constructor(u);return u&&"string"==typeof s[0]&&se.call(s,"index")&&(C.index=s.index,C.input=s.input),C}(s),!Fe)return sr(s,Le)}else{var gt=vr(s),At=gt==Ne||gt==We;if(pc(s))return Ru(s,Fe);if(gt==yt||gt==X||At&&!oe){if(Le=Ye||At?{}:Ud(s),!Fe)return Ye?function q_(s,u){return us(s,Qa(s),u)}(s,function Oh(s,u){return s&&us(u,Qi(u),s)}(Le,s)):function Il(s,u){return us(s,Nd(s),u)}(s,Tc(Le,s))}else{if(!Wn[gt])return oe?s:{};Le=function Gc(s,u,C){var q=s.constructor;switch(u){case It:return Ai(s);case je:case Ke:return new q(+s);case ln:return function po(s,u){var C=u?Ai(s.buffer):s.buffer;return new s.constructor(C,s.byteOffset,s.byteLength)}(s,C);case Ht:case bt:case xt:case Jt:case Yt:case Ut:case Rr:case Xn:case nr:return Tl(s,C);case Oe:return new q;case xe:case kt:return new q(s);case qt:return function Lu(s){var u=new s.constructor(s.source,ki.exec(s));return u.lastIndex=s.lastIndex,u}(s);case Nt:return new q;case fn:return function Wc(s){return oa?Pn(oa.call(s)):{}}(s)}}(s,gt,Fe)}}we||(we=new de);var Kt=we.get(s);if(Kt)return Kt;we.set(s,Le),o_(s)?s.forEach(function(tn){Le.add(wn(tn,u,C,tn,s,we))}):jo(s)&&s.forEach(function(tn,Fn){Le.set(Fn,wn(tn,u,C,Fn,s,we))});var Tn=ht?p:(dt?Ye?lc:$u:Ye?Qi:hi)(s);return zr(Tn||s,function(tn,Fn){Tn&&(tn=s[Fn=tn]),_o(Le,Fn,wn(tn,u,C,Fn,s,we))}),Le}function Ic(s,u,C){var q=C.length;if(null==s)return!q;for(s=Pn(s);q--;){var oe=C[q],Le=s[oe];if(Le===p&&!(oe in s)||!(0,u[oe])(Le))return!1}return!0}function vu(s,u,C){if("function"!=typeof s)throw new Ii(b);return ni(function(){s.apply(p,C)},u)}function Xl(s,u,C,q){var oe=-1,we=$i,Le=!0,Fe=s.length,Ye=[],dt=u.length;if(!Fe)return Ye;C&&(u=Ot(u,Hi(C))),q?(we=ts,Le=!1):u.length>=200&&(we=ea,Le=!1,u=new S(u));e:for(;++oe<Fe;){var ht=s[oe],gt=null==C?ht:C(ht);if(ht=q||0!==ht?ht:0,Le&&gt==gt){for(var At=dt;At--;)if(u[At]===gt)continue e;Ye.push(ht)}else we(u,gt,q)||Ye.push(ht)}return Ye}ge.templateSettings={escape:Sa,evaluate:xs,interpolate:Eo,variable:"",imports:{_:ge}},(ge.prototype=Yl.prototype).constructor=ge,(gi.prototype=ja(Yl.prototype)).constructor=gi,(gn.prototype=ja(Yl.prototype)).constructor=gn,aa.prototype.clear=function Cd(){this.__data__=Pi?Pi(null):{},this.size=0},aa.prototype.delete=function ft(s){var u=this.has(s)&&delete this.__data__[s];return this.size-=u?1:0,u},aa.prototype.get=function Bn(s){var u=this.__data__;if(Pi){var C=u[s];return C===T?p:C}return se.call(u,s)?u[s]:p},aa.prototype.has=function fu(s){var u=this.__data__;return Pi?u[s]!==p:se.call(u,s)},aa.prototype.set=function pu(s,u){var C=this.__data__;return this.size+=this.has(s)?0:1,C[s]=Pi&&u===p?T:u,this},dr.prototype.clear=function gu(){this.__data__=[],this.size=0},dr.prototype.delete=function la(s){var u=this.__data__,C=Es(u,s);return!(C<0||(C==u.length-1?u.pop():Br.call(u,C,1),--this.size,0))},dr.prototype.get=function Cs(s){var u=this.__data__,C=Es(u,s);return C<0?p:u[C][1]},dr.prototype.has=function Sc(s){return Es(this.__data__,s)>-1},dr.prototype.set=function yl(s,u){var C=this.__data__,q=Es(C,s);return q<0?(++this.size,C.push([s,u])):C[q][1]=u,this},cs.prototype.clear=function Vs(){this.size=0,this.__data__={hash:new aa,map:new(ur||dr),string:new aa}},cs.prototype.delete=function El(s){var u=uc(this,s).delete(s);return this.size-=u?1:0,u},cs.prototype.get=function Nr(s){return uc(this,s).get(s)},cs.prototype.has=function P(s){return uc(this,s).has(s)},cs.prototype.set=function L(s,u){var C=uc(this,s),q=C.size;return C.set(s,u),this.size+=C.size==q?0:1,this},S.prototype.add=S.prototype.push=function B(s){return this.__data__.set(s,T),this},S.prototype.has=function J(s){return this.__data__.has(s)},de.prototype.clear=function Pe(){this.__data__=new dr,this.size=0},de.prototype.delete=function et(s){var u=this.__data__,C=u.delete(s);return this.size=u.size,C},de.prototype.get=function Xe(s){return this.__data__.get(s)},de.prototype.has=function wt(s){return this.__data__.has(s)},de.prototype.set=function un(s,u){var C=this.__data__;if(C instanceof dr){var q=C.__data__;if(!ur||q.length<199)return q.push([s,u]),this.size=++C.size,this;C=this.__data__=new cs(q)}return C.set(s,u),this.size=C.size,this};var xo=xu(Ds),wu=xu(Ac,!0);function Pc(s,u){var C=!0;return xo(s,function(q,oe,we){return C=!!u(q,oe,we)}),C}function zs(s,u,C){for(var q=-1,oe=s.length;++q<oe;){var we=s[q],Le=u(we);if(null!=Le&&(Fe===p?Le==Le&&!Ps(Le):C(Le,Fe)))var Fe=Le,Ye=we}return Ye}function Ql(s,u){var C=[];return xo(s,function(q,oe,we){u(q,oe,we)&&C.push(q)}),C}function Wr(s,u,C,q,oe){var we=-1,Le=s.length;for(C||(C=Fd),oe||(oe=[]);++we<Le;){var Fe=s[we];u>0&&C(Fe)?u>1?Wr(Fe,u-1,C,q,oe):gs(oe,Fe):q||(oe[oe.length]=Fe)}return oe}var Dl=ku(),Oc=ku(!0);function Ds(s,u){return s&&Dl(s,u,hi)}function Ac(s,u){return s&&Oc(s,u,hi)}function Jl(s,u){return Cr(u,function(C){return Ho(s[C])})}function bs(s,u){for(var C=0,q=(u=da(u,s)).length;null!=s&&C<q;)s=s[Xs(u[C++])];return C&&C==q?s:p}function bl(s,u,C){var q=u(s);return mn(s)?q:gs(q,C(s))}function Oi(s){return null==s?s===p?"[object Undefined]":"[object Null]":Dr&&Dr in Pn(s)?function Bh(s){var u=se.call(s,Dr),C=s[Dr];try{s[Dr]=p;var q=!0}catch{}var oe=Ie.call(s);return q&&(u?s[Dr]=C:delete s[Dr]),oe}(s):function Uh(s){return Ie.call(s)}(s)}function yd(s,u){return s>u}function Zl(s,u){return null!=s&&se.call(s,u)}function Rh(s,u){return null!=s&&u in Pn(s)}function Cu(s,u,C){for(var q=C?ts:$i,oe=s[0].length,we=s.length,Le=we,Fe=tt(we),Ye=1/0,dt=[];Le--;){var ht=s[Le];Le&&u&&(ht=Ot(ht,Hi(u))),Ye=hn(ht.length,Ye),Fe[Le]=!C&&(u||oe>=120&&ht.length>=120)?new S(Le&&ht):p}ht=s[0];var gt=-1,At=Fe[0];e:for(;++gt<oe&&dt.length<Ye;){var Kt=ht[gt],on=u?u(Kt):Kt;if(Kt=C||0!==Kt?Kt:0,!(At?ea(At,on):q(dt,on,C))){for(Le=we;--Le;){var Tn=Fe[Le];if(!(Tn?ea(Tn,on):q(s[Le],on,C)))continue e}At&&At.push(on),dt.push(Kt)}}return dt}function Rc(s,u,C){var q=null==(s=go(s,u=da(u,s)))?s:s[Xs(Sn(u))];return null==q?p:xr(q,s,C)}function Lc(s){return Sr(s)&&Oi(s)==X}function ko(s,u,C,q,oe){return s===u||(null==s||null==u||!Sr(s)&&!Sr(u)?s!=s&&u!=u:function rt(s,u,C,q,oe,we){var Le=mn(s),Fe=mn(u),Ye=Le?Ee:vr(s),dt=Fe?Ee:vr(u),ht=(Ye=Ye==X?yt:Ye)==yt,gt=(dt=dt==X?yt:dt)==yt,At=Ye==dt;if(At&&pc(s)){if(!pc(u))return!1;Le=!0,ht=!1}if(At&&!ht)return we||(we=new de),Le||xl(s)?qc(s,u,C,q,oe,we):function Vc(s,u,C,q,oe,we,Le){switch(C){case ln:if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case It:return!(s.byteLength!=u.byteLength||!we(new bn(s),new bn(u)));case je:case Ke:case xe:return ds(+s,+u);case it:return s.name==u.name&&s.message==u.message;case qt:case kt:return s==u+"";case Oe:var Fe=ka;case Nt:if(Fe||(Fe=co),s.size!=u.size&&!(1&q))return!1;var dt=Le.get(s);if(dt)return dt==u;q|=2,Le.set(s,u);var ht=qc(Fe(s),Fe(u),q,oe,we,Le);return Le.delete(s),ht;case fn:if(oa)return oa.call(s)==oa.call(u)}return!1}(s,u,Ye,C,q,oe,we);if(!(1&C)){var Kt=ht&&se.call(s,"__wrapped__"),on=gt&&se.call(u,"__wrapped__");if(Kt||on){var Tn=Kt?s.value():s,tn=on?u.value():u;return we||(we=new de),oe(Tn,tn,C,q,we)}}return!!At&&(we||(we=new de),function kh(s,u,C,q,oe,we){var Le=1&C,Fe=$u(s),Ye=Fe.length;if(Ye!=$u(u).length&&!Le)return!1;for(var gt=Ye;gt--;){var At=Fe[gt];if(!(Le?At in u:se.call(u,At)))return!1}var Kt=we.get(s),on=we.get(u);if(Kt&&on)return Kt==u&&on==s;var Tn=!0;we.set(s,u),we.set(u,s);for(var tn=Le;++gt<Ye;){var Fn=s[At=Fe[gt]],jn=u[At];if(q)var Mr=Le?q(jn,Fn,At,u,s,we):q(Fn,jn,At,s,u,we);if(!(Mr===p?Fn===jn||oe(Fn,jn,C,q,we):Mr)){Tn=!1;break}tn||(tn="constructor"==At)}if(Tn&&!tn){var fs=s.constructor,Js=u.constructor;fs!=Js&&"constructor"in s&&"constructor"in u&&!("function"==typeof fs&&fs instanceof fs&&"function"==typeof Js&&Js instanceof Js)&&(Tn=!1)}return we.delete(s),we.delete(u),Tn}(s,u,C,q,oe,we))}(s,u,C,q,ko,oe))}function yu(s,u,C,q){var oe=C.length,we=oe,Le=!q;if(null==s)return!we;for(s=Pn(s);oe--;){var Fe=C[oe];if(Le&&Fe[2]?Fe[1]!==s[Fe[0]]:!(Fe[0]in s))return!1}for(;++oe<we;){var Ye=(Fe=C[oe])[0],dt=s[Ye],ht=Fe[1];if(Le&&Fe[2]){if(dt===p&&!(Ye in s))return!1}else{var gt=new de;if(q)var At=q(dt,ht,Ye,s,u,gt);if(!(At===p?ko(ht,dt,3,q,gt):At))return!1}}return!0}function xc(s){return!(!br(s)||function Xc(s){return!!ie&&ie in s}(s))&&(Ho(s)?Lt:xn).test(wa(s))}function Eu(s){return"function"==typeof s?s:null==s?_s:"object"==typeof s?mn(s)?bu(s[0],s[1]):qa(s):Nf(s)}function Ka(s){if(!va(s))return vl(s);var u=[];for(var C in Pn(s))se.call(s,C)&&"constructor"!=C&&u.push(C);return u}function kc(s,u){return s<u}function tc(s,u){var C=-1,q=hs(s)?tt(s.length):[];return xo(s,function(oe,we,Le){q[++C]=u(oe,we,Le)}),q}function qa(s){var u=zc(s);return 1==u.length&&u[0][2]?Hd(u[0][0],u[0][1]):function(C){return C===s||yu(C,s,u)}}function bu(s,u){return Ys(s)&&Wd(u)?Hd(Xs(s),u):function(C){var q=h_(C,s);return q===p&&q===u?__(C,s):ko(u,q,3)}}function Sl(s,u,C,q,oe){s!==u&&Dl(u,function(we,Le){if(oe||(oe=new de),br(we))!function Su(s,u,C,q,oe,we,Le){var Fe=qu(s,C),Ye=qu(u,C),dt=Le.get(Ye);if(dt)ho(s,C,dt);else{var ht=we?we(Fe,Ye,C+"",s,u,Le):p,gt=ht===p;if(gt){var At=mn(Ye),Kt=!At&&pc(Ye),on=!At&&!Kt&&xl(Ye);ht=Ye,At||Kt||on?mn(Fe)?ht=Fe:jr(Fe)?ht=sr(Fe):Kt?(gt=!1,ht=Ru(Ye,!0)):on?(gt=!1,ht=Tl(Ye,!0)):ht=[]:nd(Ye)||tl(Ye)?(ht=Fe,tl(Fe)?ht=gc(Fe):(!br(Fe)||Ho(Fe))&&(ht=Ud(Ye))):gt=!1}gt&&(Le.set(Ye,ht),oe(ht,Ye,q,we,Le),Le.delete(Ye)),ho(s,C,ht)}}(s,u,Le,C,Sl,q,oe);else{var Fe=q?q(qu(s,Le),we,Le+"",s,u,oe):p;Fe===p&&(Fe=we),ho(s,Le,Fe)}},Qi)}function Bc(s,u){var C=s.length;if(C)return Gs(u+=u<0?C:0,C)?s[u]:p}function Mu(s,u,C){u=u.length?Ot(u,function(we){return mn(we)?function(Le){return bs(Le,1===we.length?we[0]:we)}:we}):[_s];var q=-1;return u=Ot(u,Hi(Qt())),function ar(Se,st){var tt=Se.length;for(Se.sort(st);tt--;)Se[tt]=Se[tt].value;return Se}(tc(s,function(we,Le,Fe){return{criteria:Ot(u,function(dt){return dt(we)}),index:++q,value:we}}),function(we,Le){return function K_(s,u,C){for(var q=-1,oe=s.criteria,we=u.criteria,Le=oe.length,Fe=C.length;++q<Le;){var Ye=Rd(oe[q],we[q]);if(Ye)return q>=Fe?Ye:Ye*("desc"==C[q]?-1:1)}return s.index-u.index}(we,Le,C)})}function nc(s,u,C){for(var q=-1,oe=u.length,we={};++q<oe;){var Le=u[q],Fe=bs(s,Le);C(Fe,Le)&&Va(we,da(Le,s),Fe)}return we}function Nc(s,u,C,q){var oe=q?Ir:qn,we=-1,Le=u.length,Fe=s;for(s===u&&(u=sr(u)),C&&(Fe=Ot(s,Hi(C)));++we<Le;)for(var Ye=0,dt=u[we],ht=C?C(dt):dt;(Ye=oe(Fe,ht,Ye,q))>-1;)Fe!==s&&Br.call(Fe,Ye,1),Br.call(s,Ye,1);return s}function Md(s,u){for(var C=s?u.length:0,q=C-1;C--;){var oe=u[C];if(C==q||oe!==we){var we=oe;Gs(oe)?Br.call(s,oe,1):Pd(s,oe)}}return s}function Tu(s,u){return s+Wa(pi()*(u-s+1))}function Iu(s,u){var C="";if(!s||u<1||u>V)return C;do{u%2&&(C+=s),(u=Wa(u/2))&&(s+=s)}while(u);return C}function Vt(s,u){return hc(Kd(s,u,_s),s+"")}function Pu(s){return On(au(s))}function Td(s,u){var C=au(s);return Xr(C,Vi(u,0,C.length))}function Va(s,u,C,q){if(!br(s))return s;for(var oe=-1,we=(u=da(u,s)).length,Le=we-1,Fe=s;null!=Fe&&++oe<we;){var Ye=Xs(u[oe]),dt=C;if("__proto__"===Ye||"constructor"===Ye||"prototype"===Ye)return s;if(oe!=Le){var ht=Fe[Ye];(dt=q?q(ht,Ye,Fe):p)===p&&(dt=br(ht)?ht:Gs(u[oe+1])?[]:{})}_o(Fe,Ye,dt),Fe=Fe[Ye]}return s}var Id=ls?function(s,u){return ls.set(s,u),s}:_s,ui=fi?function(s,u){return fi(s,"toString",{configurable:!0,enumerable:!1,value:ah(u),writable:!0})}:_s;function Ou(s){return Xr(au(s))}function di(s,u,C){var q=-1,oe=s.length;u<0&&(u=-u>oe?0:oe+u),(C=C>oe?oe:C)<0&&(C+=oe),oe=u>C?0:C-u>>>0,u>>>=0;for(var we=tt(oe);++q<oe;)we[q]=s[q+u];return we}function Ml(s,u){var C;return xo(s,function(q,oe,we){return!(C=u(q,oe,we))}),!!C}function No(s,u,C){var q=0,oe=null==s?q:s.length;if("number"==typeof u&&u==u&&oe<=2147483647){for(;q<oe;){var we=q+oe>>>1,Le=s[we];null!==Le&&!Ps(Le)&&(C?Le<=u:Le<u)?q=we+1:oe=we}return oe}return rc(s,u,_s,C)}function rc(s,u,C,q){var oe=0,we=null==s?0:s.length;if(0===we)return 0;for(var Le=(u=C(u))!=u,Fe=null===u,Ye=Ps(u),dt=u===p;oe<we;){var ht=Wa((oe+we)/2),gt=C(s[ht]),At=gt!==p,Kt=null===gt,on=gt==gt,Tn=Ps(gt);if(Le)var tn=q||on;else tn=dt?on&&(q||At):Fe?on&&At&&(q||!Kt):Ye?on&&At&&!Kt&&(q||!Tn):!Kt&&!Tn&&(q?gt<=u:gt<u);tn?oe=ht+1:we=ht}return hn(we,4294967294)}function Fc(s,u){for(var C=-1,q=s.length,oe=0,we=[];++C<q;){var Le=s[C],Fe=u?u(Le):Le;if(!C||!ds(Fe,Ye)){var Ye=Fe;we[oe++]=0===Le?0:Le}}return we}function Uo(s){return"number"==typeof s?s:Ps(s)?NaN:+s}function zi(s){if("string"==typeof s)return s;if(mn(s))return Ot(s,zi)+"";if(Ps(s))return gd?gd.call(s):"";var u=s+"";return"0"==u&&1/s==-z?"-0":u}function ua(s,u,C){var q=-1,oe=$i,we=s.length,Le=!0,Fe=[],Ye=Fe;if(C)Le=!1,oe=ts;else if(we>=200){var dt=u?null:pa(s);if(dt)return co(dt);Le=!1,oe=ea,Ye=new S}else Ye=u?[]:Fe;e:for(;++q<we;){var ht=s[q],gt=u?u(ht):ht;if(ht=C||0!==ht?ht:0,Le&&gt==gt){for(var At=Ye.length;At--;)if(Ye[At]===gt)continue e;u&&Ye.push(gt),Fe.push(ht)}else oe(Ye,gt,C)||(Ye!==Fe&&Ye.push(gt),Fe.push(ht))}return Fe}function Pd(s,u){return null==(s=go(s,u=da(u,s)))||delete s[Xs(Sn(u))]}function Od(s,u,C,q){return Va(s,u,C(bs(s,u)),q)}function za(s,u,C,q){for(var oe=s.length,we=q?oe:-1;(q?we--:++we<oe)&&u(s[we],we,s););return C?di(s,q?0:we,q?we+1:oe):di(s,q?we+1:0,q?oe:we)}function $c(s,u){var C=s;return C instanceof gn&&(C=C.value()),ns(u,function(q,oe){return oe.func.apply(oe.thisArg,gs([q],oe.args))},C)}function Ad(s,u,C){var q=s.length;if(q<2)return q?ua(s[0]):[];for(var oe=-1,we=tt(q);++oe<q;)for(var Le=s[oe],Fe=-1;++Fe<q;)Fe!=oe&&(we[oe]=Xl(we[oe]||Le,s[Fe],u,C));return ua(Wr(we,1),u,C)}function Lh(s,u,C){for(var q=-1,oe=s.length,we=u.length,Le={};++q<oe;)C(Le,s[q],q<we?u[q]:p);return Le}function fo(s){return jr(s)?s:[]}function Au(s){return"function"==typeof s?s:_s}function da(s,u){return mn(s)?s:Ys(s,u)?[s]:Rl(Yn(s))}var Or=Vt;function ti(s,u,C){var q=s.length;return C=C===p?q:C,!u&&C>=q?s:di(s,u,C)}var ha=Ki||function(s){return _r.clearTimeout(s)};function Ru(s,u){if(u)return s.slice();var C=s.length,q=nn?nn(C):new s.constructor(C);return s.copy(q),q}function Ai(s){var u=new s.constructor(s.byteLength);return new bn(u).set(new bn(s)),u}function Tl(s,u){var C=u?Ai(s.buffer):s.buffer;return new s.constructor(C,s.byteOffset,s.length)}function Rd(s,u){if(s!==u){var C=s!==p,q=null===s,oe=s==s,we=Ps(s),Le=u!==p,Fe=null===u,Ye=u==u,dt=Ps(u);if(!Fe&&!dt&&!we&&s>u||we&&Le&&Ye&&!Fe&&!dt||q&&Le&&Ye||!C&&Ye||!oe)return 1;if(!q&&!we&&!dt&&s<u||dt&&C&&oe&&!q&&!we||Fe&&C&&oe||!Le&&oe||!Ye)return-1}return 0}function Ld(s,u,C,q){for(var oe=-1,we=s.length,Le=C.length,Fe=-1,Ye=u.length,dt=mr(we-Le,0),ht=tt(Ye+dt),gt=!q;++Fe<Ye;)ht[Fe]=u[Fe];for(;++oe<Le;)(gt||oe<we)&&(ht[C[oe]]=s[oe]);for(;dt--;)ht[Fe++]=s[oe++];return ht}function Hc(s,u,C,q){for(var oe=-1,we=s.length,Le=-1,Fe=C.length,Ye=-1,dt=u.length,ht=mr(we-Fe,0),gt=tt(ht+dt),At=!q;++oe<ht;)gt[oe]=s[oe];for(var Kt=oe;++Ye<dt;)gt[Kt+Ye]=u[Ye];for(;++Le<Fe;)(At||oe<we)&&(gt[Kt+C[Le]]=s[oe++]);return gt}function sr(s,u){var C=-1,q=s.length;for(u||(u=tt(q));++C<q;)u[C]=s[C];return u}function us(s,u,C,q){var oe=!C;C||(C={});for(var we=-1,Le=u.length;++we<Le;){var Fe=u[we],Ye=q?q(C[Fe],s[Fe],Fe,C,s):p;Ye===p&&(Ye=s[Fe]),oe?Lo(C,Fe,Ye):_o(C,Fe,Ye)}return C}function ic(s,u){return function(C,q){var oe=mn(C)?Ui:Mc,we=u?u():{};return oe(C,s,Qt(q,2),we)}}function Pl(s){return Vt(function(u,C){var q=-1,oe=C.length,we=oe>1?C[oe-1]:p,Le=oe>2?C[2]:p;for(we=s.length>3&&"function"==typeof we?(oe--,we):p,Le&&Nn(C[0],C[1],Le)&&(we=oe<3?p:we,oe=1),u=Pn(u);++q<oe;){var Fe=C[q];Fe&&s(u,Fe,q,we)}return u})}function xu(s,u){return function(C,q){if(null==C)return C;if(!hs(C))return s(C,q);for(var oe=C.length,we=u?oe:-1,Le=Pn(C);(u?we--:++we<oe)&&!1!==q(Le[we],we,Le););return C}}function ku(s){return function(u,C,q){for(var oe=-1,we=Pn(u),Le=q(u),Fe=Le.length;Fe--;){var Ye=Le[s?Fe:++oe];if(!1===C(we[Ye],Ye,we))break}return u}}function Bu(s){return function(u){var C=Ks(u=Yn(u))?Jn(u):p,q=C?C[0]:u.charAt(0),oe=C?ti(C,1).join(""):u.slice(1);return q[s]()+oe}}function sc(s){return function(u){return ns(oh(v_(u).replace(li,"")),s,"")}}function Ya(s){return function(){var u=arguments;switch(u.length){case 0:return new s;case 1:return new s(u[0]);case 2:return new s(u[0],u[1]);case 3:return new s(u[0],u[1],u[2]);case 4:return new s(u[0],u[1],u[2],u[3]);case 5:return new s(u[0],u[1],u[2],u[3],u[4]);case 6:return new s(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new s(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var C=ja(s.prototype),q=s.apply(C,u);return br(q)?q:C}}function xd(s){return function(u,C,q){var oe=Pn(u);if(!hs(u)){var we=Qt(C,3);u=hi(u),C=function(Fe){return we(oe[Fe],Fe,oe)}}var Le=s(u,C,q);return Le>-1?oe[we?u[Le]:Le]:p}}function Ol(s){return Ms(function(u){var C=u.length,q=C,oe=gi.prototype.thru;for(s&&u.reverse();q--;){var we=u[q];if("function"!=typeof we)throw new Ii(b);if(oe&&!Le&&"wrapper"==Wu(we))var Le=new gi([],!0)}for(q=Le?q:C;++q<C;){var Fe=Wu(we=u[q]),Ye="wrapper"==Fe?cc(we):p;Le=Ye&&Yc(Ye[0])&&424==Ye[1]&&!Ye[4].length&&1==Ye[9]?Le[Wu(Ye[0])].apply(Le,Ye[3]):1==we.length&&Yc(we)?Le[Fe]():Le.thru(we)}return function(){var dt=arguments,ht=dt[0];if(Le&&1==dt.length&&mn(ht))return Le.plant(ht).value();for(var gt=0,At=C?u[gt].apply(this,dt):ht;++gt<C;)At=u[gt].call(this,At);return At}})}function _a(s,u,C,q,oe,we,Le,Fe,Ye,dt){var ht=128&u,gt=1&u,At=2&u,Kt=24&u,on=512&u,Tn=At?p:Ya(s);return function tn(){for(var Fn=arguments.length,jn=tt(Fn),Mr=Fn;Mr--;)jn[Mr]=arguments[Mr];if(Kt)var fs=ma(tn),Js=function Cc(Se,st){for(var tt=Se.length,Rt=0;tt--;)Se[tt]===st&&++Rt;return Rt}(jn,fs);if(q&&(jn=Ld(jn,q,oe,Kt)),we&&(jn=Hc(jn,we,Le,Kt)),Fn-=Js,Kt&&Fn<dt){var ii=ms(jn,fs);return kd(s,u,_a,tn.placeholder,C,jn,ii,Fe,Ye,dt-Fn)}var Zs=gt?C:this,Da=At?Zs[s]:s;return Fn=jn.length,Fe?jn=function Ri(s,u){for(var C=s.length,q=hn(u.length,C),oe=sr(s);q--;){var we=u[q];s[q]=Gs(we,C)?oe[we]:p}return s}(jn,Fe):on&&Fn>1&&jn.reverse(),ht&&Ye<Fn&&(jn.length=Ye),this&&this!==_r&&this instanceof tn&&(Da=Tn||Ya(Da)),Da.apply(Zs,jn)}}function oc(s,u){return function(C,q){return function j_(s,u,C,q){return Ds(s,function(oe,we,Le){u(q,C(oe),we,Le)}),q}(C,s,u(q),{})}}function Fo(s,u){return function(C,q){var oe;if(C===p&&q===p)return u;if(C!==p&&(oe=C),q!==p){if(oe===p)return q;"string"==typeof C||"string"==typeof q?(C=zi(C),q=zi(q)):(C=Uo(C),q=Uo(q)),oe=s(C,q)}return oe}}function ac(s){return Ms(function(u){return u=Ot(u,Hi(Qt())),Vt(function(C){var q=this;return s(u,function(oe){return xr(oe,q,C)})})})}function fa(s,u){var C=(u=u===p?" ":zi(u)).length;if(C<2)return C?Iu(u,s):u;var q=Iu(u,ra(s/Na(u)));return Ks(u)?ti(Jn(q),0,s).join(""):q.slice(0,s)}function Uu(s){return function(u,C,q){return q&&"number"!=typeof q&&Nn(u,C,q)&&(C=q=p),u=vo(u),C===p?(C=u,u=0):C=vo(C),function Uc(s,u,C,q){for(var oe=-1,we=mr(ra((u-s)/(C||1)),0),Le=tt(we);we--;)Le[q?we:++oe]=s,s+=C;return Le}(u,C,q=q===p?u<C?1:-1:vo(q),s)}}function jc(s){return function(u,C){return"string"==typeof u&&"string"==typeof C||(u=Os(u),C=Os(C)),s(u,C)}}function kd(s,u,C,q,oe,we,Le,Fe,Ye,dt){var ht=8&u;u|=ht?H:64,4&(u&=~(ht?64:H))||(u&=-4);var Tn=[s,u,oe,ht?we:p,ht?Le:p,ht?p:we,ht?p:Le,Fe,Ye,dt],tn=C.apply(p,Tn);return Yc(s)&&qd(tn,Tn),tn.placeholder=q,Vu(tn,s,u)}function $o(s){var u=lr[s];return function(C,q){if(C=Os(C),(q=null==q?0:hn(Mn(q),292))&&rr(C)){var oe=(Yn(C)+"e").split("e");return+((oe=(Yn(u(oe[0]+"e"+(+oe[1]+q)))+"e").split("e"))[0]+"e"+(+oe[1]-q))}return u(C)}}var pa=rn&&1/co(new rn([,-0]))[1]==z?function(s){return new rn(s)}:ld;function Fu(s){return function(u){var C=vr(u);return C==Oe?ka(u):C==Nt?function ss(Se){var st=-1,tt=Array(Se.size);return Se.forEach(function(Rt){tt[++st]=[Rt,Rt]}),tt}(u):function wc(Se,st){return Ot(st,function(tt){return[tt,Se[tt]]})}(u,s(u))}}function ga(s,u,C,q,oe,we,Le,Fe){var Ye=2&u;if(!Ye&&"function"!=typeof s)throw new Ii(b);var dt=q?q.length:0;if(dt||(u&=-97,q=oe=p),Le=Le===p?Le:mr(Mn(Le),0),Fe=Fe===p?Fe:Mn(Fe),dt-=oe?oe.length:0,64&u){var ht=q,gt=oe;q=oe=p}var At=Ye?p:cc(s),Kt=[s,u,C,q,oe,ht,gt,we,Le,Fe];if(At&&function jd(s,u){var C=s[1],q=u[1],oe=C|q;if(!(oe<131)&&!(128==q&&8==C||128==q&&256==C&&s[7].length<=u[8]||384==q&&u[7].length<=u[8]&&8==C))return s;1&q&&(s[2]=u[2],oe|=1&C?0:4);var Fe=u[3];if(Fe){var Ye=s[3];s[3]=Ye?Ld(Ye,Fe,u[4]):Fe,s[4]=Ye?ms(s[3],U):u[4]}(Fe=u[5])&&(s[5]=(Ye=s[5])?Hc(Ye,Fe,u[6]):Fe,s[6]=Ye?ms(s[5],U):u[6]),(Fe=u[7])&&(s[7]=Fe),128&q&&(s[8]=null==s[8]?u[8]:hn(s[8],u[8])),null==s[9]&&(s[9]=u[9]),s[0]=u[0],s[1]=oe}(Kt,At),s=Kt[0],u=Kt[1],C=Kt[2],q=Kt[3],oe=Kt[4],!(Fe=Kt[9]=Kt[9]===p?Ye?0:s.length:mr(Kt[9]-dt,0))&&24&u&&(u&=-25),u&&1!=u)on=8==u||16==u?function Nu(s,u,C){var q=Ya(s);return function oe(){for(var we=arguments.length,Le=tt(we),Fe=we,Ye=ma(oe);Fe--;)Le[Fe]=arguments[Fe];var dt=we<3&&Le[0]!==Ye&&Le[we-1]!==Ye?[]:ms(Le,Ye);return(we-=dt.length)<C?kd(s,u,_a,oe.placeholder,p,Le,dt,p,p,C-we):xr(this&&this!==_r&&this instanceof oe?q:s,this,Le)}}(s,u,Fe):u!=H&&33!=u||oe.length?_a.apply(p,Kt):function Xa(s,u,C,q){var oe=1&u,we=Ya(s);return function Le(){for(var Fe=-1,Ye=arguments.length,dt=-1,ht=q.length,gt=tt(ht+Ye),At=this&&this!==_r&&this instanceof Le?we:s;++dt<ht;)gt[dt]=q[dt];for(;Ye--;)gt[dt++]=arguments[++Fe];return xr(At,oe?C:this,gt)}}(s,u,C,q);else var on=function Ga(s,u,C){var q=1&u,oe=Ya(s);return function we(){return(this&&this!==_r&&this instanceof we?oe:s).apply(q?C:this,arguments)}}(s,u,C);return Vu((At?Id:qd)(on,Kt),s,u)}function Kc(s,u,C,q){return s===p||ds(s,os[C])&&!se.call(q,C)?u:s}function Bd(s,u,C,q,oe,we){return br(s)&&br(u)&&(we.set(u,s),Sl(s,u,p,Bd,we),we.delete(u)),s}function xh(s){return nd(s)?p:s}function qc(s,u,C,q,oe,we){var Le=1&C,Fe=s.length,Ye=u.length;if(Fe!=Ye&&!(Le&&Ye>Fe))return!1;var dt=we.get(s),ht=we.get(u);if(dt&&ht)return dt==u&&ht==s;var gt=-1,At=!0,Kt=2&C?new S:p;for(we.set(s,u),we.set(u,s);++gt<Fe;){var on=s[gt],Tn=u[gt];if(q)var tn=Le?q(Tn,on,gt,u,s,we):q(on,Tn,gt,s,u,we);if(tn!==p){if(tn)continue;At=!1;break}if(Kt){if(!Yr(u,function(Fn,jn){if(!ea(Kt,jn)&&(on===Fn||oe(on,Fn,C,q,we)))return Kt.push(jn)})){At=!1;break}}else if(on!==Tn&&!oe(on,Tn,C,q,we)){At=!1;break}}return we.delete(s),we.delete(u),At}function Ms(s){return hc(Kd(s,p,ye),s+"")}function $u(s){return bl(s,hi,Nd)}function lc(s){return bl(s,Qi,Qa)}var cc=ls?function(s){return ls.get(s)}:ld;function Wu(s){for(var u=s.name+"",C=sa[u],q=se.call(sa,u)?C.length:0;q--;){var oe=C[q],we=oe.func;if(null==we||we==s)return oe.name}return u}function ma(s){return(se.call(ge,"placeholder")?ge:s).placeholder}function Qt(){var s=ge.iteratee||Bl;return s=s===Bl?Eu:s,arguments.length?s(arguments[0],arguments[1]):s}function uc(s,u){var C=s.__data__;return function $d(s){var u=typeof s;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==s:null===s}(u)?C["string"==typeof u?"string":"hash"]:C.map}function zc(s){for(var u=hi(s),C=u.length;C--;){var q=u[C],oe=s[q];u[C]=[q,oe,Wd(oe)]}return u}function Ts(s,u){var C=function Kl(Se,st){return null==Se?p:Se[st]}(s,u);return xc(C)?C:p}var Nd=zl?function(s){return null==s?[]:(s=Pn(s),Cr(zl(s),function(u){return cr.call(s,u)}))}:uh,Qa=zl?function(s){for(var u=[];s;)gs(u,Nd(s)),s=Zn(s);return u}:uh,vr=Oi;function Ku(s,u,C){for(var q=-1,oe=(u=da(u,s)).length,we=!1;++q<oe;){var Le=Xs(u[q]);if(!(we=null!=s&&C(s,Le)))break;s=s[Le]}return we||++q!=oe?we:!!(oe=null==s?0:s.length)&&Zd(oe)&&Gs(Le,oe)&&(mn(s)||tl(s))}function Ud(s){return"function"!=typeof s.constructor||va(s)?{}:ja(Zn(s))}function Fd(s){return mn(s)||tl(s)||!!(ji&&s&&s[ji])}function Gs(s,u){var C=typeof s;return!!(u=u??V)&&("number"==C||"symbol"!=C&&to.test(s))&&s>-1&&s%1==0&&s<u}function Nn(s,u,C){if(!br(C))return!1;var q=typeof u;return!!("number"==q?hs(C)&&Gs(u,C.length):"string"==q&&u in C)&&ds(C[u],s)}function Ys(s,u){if(mn(s))return!1;var C=typeof s;return!("number"!=C&&"symbol"!=C&&"boolean"!=C&&null!=s&&!Ps(s))||Je.test(s)||!lt.test(s)||null!=u&&s in Pn(u)}function Yc(s){var u=Wu(s),C=ge[u];if("function"!=typeof C||!(u in gn.prototype))return!1;if(s===C)return!0;var q=cc(C);return!!q&&s===q[0]}(Ao&&vr(new Ao(new ArrayBuffer(1)))!=ln||ur&&vr(new ur)!=Oe||ei&&vr(ei.resolve())!=Wt||rn&&vr(new rn)!=Nt||ia&&vr(new ia)!=Et)&&(vr=function(s){var u=Oi(s),C=u==yt?s.constructor:p,q=C?wa(C):"";if(q)switch(q){case pd:return ln;case _u:return Oe;case ir:return Wt;case Ha:return Nt;case Gl:return Et}return u});var dc=$a?Ho:Uf;function va(s){var u=s&&s.constructor;return s===("function"==typeof u&&u.prototype||os)}function Wd(s){return s==s&&!br(s)}function Hd(s,u){return function(C){return null!=C&&C[s]===u&&(u!==p||s in Pn(C))}}function Kd(s,u,C){return u=mr(u===p?s.length-1:u,0),function(){for(var q=arguments,oe=-1,we=mr(q.length-u,0),Le=tt(we);++oe<we;)Le[oe]=q[u+oe];oe=-1;for(var Fe=tt(u+1);++oe<u;)Fe[oe]=q[oe];return Fe[u]=C(Le),xr(s,this,Fe)}}function go(s,u){return u.length<2?s:bs(s,di(u,0,-1))}function qu(s,u){if(("constructor"!==u||"function"!=typeof s[u])&&"__proto__"!=u)return s[u]}var qd=Jc(Id),ni=Dc||function(s,u){return _r.setTimeout(s,u)},hc=Jc(ui);function Vu(s,u,C){var q=u+"";return hc(s,function Al(s,u){var C=u.length;if(!C)return s;var q=C-1;return u[q]=(C>1?"& ":"")+u[q],u=u.join(C>2?", ":" "),s.replace(Hn,"{\n/* [wrapped with "+u+"] */\n")}(q,function Fh(s,u){return zr(ae,function(C){var q="_."+C[0];u&C[1]&&!$i(s,q)&&s.push(q)}),s.sort()}(function ju(s){var u=s.match(Ln);return u?u[1].split(Tr):[]}(q),C)))}function Jc(s){var u=0,C=0;return function(){var q=wl(),oe=16-(q-C);if(C=q,oe>0){if(++u>=800)return arguments[0]}else u=0;return s.apply(p,arguments)}}function Xr(s,u){var C=-1,q=s.length,oe=q-1;for(u=u===p?q:u;++C<u;){var we=Tu(C,oe),Le=s[we];s[we]=s[C],s[C]=Le}return s.length=u,s}var Rl=function Nh(s){var u=Zu(s,function(q){return 500===C.size&&C.clear(),q}),C=u.cache;return u}(function(s){var u=[];return 46===s.charCodeAt(0)&&u.push(""),s.replace(Re,function(C,q,oe,we){u.push(oe?we.replace(Ma,"$1"):q||C)}),u});function Xs(s){if("string"==typeof s||Ps(s))return s;var u=s+"";return"0"==u&&1/s==-z?"-0":u}function wa(s){if(null!=s){try{return R.call(s)}catch{}try{return s+""}catch{}}return""}function zu(s){if(s instanceof gn)return s.clone();var u=new gi(s.__wrapped__,s.__chain__);return u.__actions__=sr(s.__actions__),u.__index__=s.__index__,u.__values__=s.__values__,u}var zd=Vt(function(s,u){return jr(s)?Xl(s,Wr(u,1,jr,!0)):[]}),f=Vt(function(s,u){var C=Sn(u);return jr(C)&&(C=p),jr(s)?Xl(s,Wr(u,1,jr,!0),Qt(C,2)):[]}),i=Vt(function(s,u){var C=Sn(u);return jr(C)&&(C=p),jr(s)?Xl(s,Wr(u,1,jr,!0),p,C):[]});function ee(s,u,C){var q=null==s?0:s.length;if(!q)return-1;var oe=null==C?0:Mn(C);return oe<0&&(oe=mr(q+oe,0)),Jr(s,Qt(u,3),oe)}function he(s,u,C){var q=null==s?0:s.length;if(!q)return-1;var oe=q-1;return C!==p&&(oe=Mn(C),oe=C<0?mr(q+oe,0):hn(oe,q-1)),Jr(s,Qt(u,3),oe,!0)}function ye(s){return null!=s&&s.length?Wr(s,1):[]}function Pt(s){return s&&s.length?s[0]:p}var Dt=Vt(function(s){var u=Ot(s,fo);return u.length&&u[0]===s[0]?Cu(u):[]}),Un=Vt(function(s){var u=Sn(s),C=Ot(s,fo);return u===Sn(C)?u=p:C.pop(),C.length&&C[0]===s[0]?Cu(C,Qt(u,2)):[]}),Cn=Vt(function(s){var u=Sn(s),C=Ot(s,fo);return(u="function"==typeof u?u:p)&&C.pop(),C.length&&C[0]===s[0]?Cu(C,p,u):[]});function Sn(s){var u=null==s?0:s.length;return u?s[u-1]:p}var er=Vt(mi);function mi(s,u){return s&&s.length&&u&&u.length?Nc(s,u):s}var Gd=Ms(function(s,u){var C=null==s?0:s.length,q=Ur(s,u);return Md(s,Ot(u,function(oe){return Gs(oe,C)?+oe:oe}).sort(Rd)),q});function mo(s){return null==s?s:bc.call(s)}var ya=Vt(function(s){return ua(Wr(s,1,jr,!0))}),Xi=Vt(function(s){var u=Sn(s);return jr(u)&&(u=p),ua(Wr(s,1,jr,!0),Qt(u,2))}),Za=Vt(function(s){var u=Sn(s);return u="function"==typeof u?u:p,ua(Wr(s,1,jr,!0),p,u)});function jh(s){if(!s||!s.length)return[];var u=0;return s=Cr(s,function(C){if(jr(C))return u=mr(C.length,u),!0}),La(u,function(C){return Ot(s,Wi(C))})}function Kh(s,u){if(!s||!s.length)return[];var C=jh(s);return null==u?C:Ot(C,function(q){return xr(u,p,q)})}var bp=Vt(function(s,u){return jr(s)?Xl(s,u):[]}),Sp=Vt(function(s){return Ad(Cr(s,jr))}),Mp=Vt(function(s){var u=Sn(s);return jr(u)&&(u=p),Ad(Cr(s,jr),Qt(u,2))}),z_=Vt(function(s){var u=Sn(s);return u="function"==typeof u?u:p,Ad(Cr(s,jr),p,u)}),G_=Vt(jh),tu=Vt(function(s){var u=s.length,C=u>1?s[u-1]:p;return C="function"==typeof C?(s.pop(),C):p,Kh(s,C)});function Y_(s){var u=ge(s);return u.__chain__=!0,u}function Vh(s,u){return u(s)}var Ip=Ms(function(s){var u=s.length,C=u?s[0]:0,q=this.__wrapped__,oe=function(we){return Ur(we,s)};return!(u>1||this.__actions__.length)&&q instanceof gn&&Gs(C)?((q=q.slice(C,+C+(u?1:0))).__actions__.push({func:Vh,args:[oe],thisArg:p}),new gi(q,this.__chain__).thru(function(we){return u&&!we.length&&we.push(p),we})):this.thru(oe)}),J_=ic(function(s,u,C){se.call(s,C)?++s[C]:Lo(s,C,1)}),Ap=xd(ee),Rp=xd(he);function ru(s,u){return(mn(s)?zr:xo)(s,Qt(u,3))}function ef(s,u){return(mn(s)?Gr:wu)(s,Qt(u,3))}var zm=ic(function(s,u,C){se.call(s,C)?s[C].push(u):Lo(s,C,[u])}),Ym=Vt(function(s,u,C){var q=-1,oe="function"==typeof u,we=hs(s)?tt(s.length):[];return xo(s,function(Le){we[++q]=oe?xr(u,Le,C):Rc(Le,u,C)}),we}),Xm=ic(function(s,u,C){Lo(s,C,u)});function Yh(s,u){return(mn(s)?Ot:tc)(s,Qt(u,3))}var kp=ic(function(s,u,C){s[C?0:1].push(u)},function(){return[[],[]]}),sf=Vt(function(s,u){if(null==s)return[];var C=u.length;return C>1&&Nn(s,u[0],u[1])?u=[]:C>2&&Nn(u[0],u[1],u[2])&&(u=[u[0]]),Mu(s,Wr(u,1),[])}),Qh=qi||function(){return _r.Date.now()};function Fp(s,u,C){return u=C?p:u,ga(s,128,p,p,p,p,u=s&&null==u?s.length:u)}function Qd(s,u){var C;if("function"!=typeof u)throw new Ii(b);return s=Mn(s),function(){return--s>0&&(C=u.apply(this,arguments)),s<=1&&(u=p),C}}var Ju=Vt(function(s,u,C){var q=1;if(C.length){var oe=ms(C,ma(Ju));q|=H}return ga(s,q,u,C,oe)}),$p=Vt(function(s,u,C){var q=3;if(C.length){var oe=ms(C,ma($p));q|=H}return ga(u,q,s,C,oe)});function af(s,u,C){var q,oe,we,Le,Fe,Ye,dt=0,ht=!1,gt=!1,At=!0;if("function"!=typeof s)throw new Ii(b);function Kt(ii){var Zs=q,Da=oe;return q=oe=p,dt=ii,Le=s.apply(Da,Zs)}function tn(ii){var Zs=ii-Ye;return Ye===p||Zs>=u||Zs<0||gt&&ii-dt>=we}function Fn(){var ii=Qh();if(tn(ii))return jn(ii);Fe=ni(Fn,function Tn(ii){var zf=u-(ii-Ye);return gt?hn(zf,we-(ii-dt)):zf}(ii))}function jn(ii){return Fe=p,At&&q?Kt(ii):(q=oe=p,Le)}function Js(){var ii=Qh(),Zs=tn(ii);if(q=arguments,oe=this,Ye=ii,Zs){if(Fe===p)return function on(ii){return dt=ii,Fe=ni(Fn,u),ht?Kt(ii):Le}(Ye);if(gt)return ha(Fe),Fe=ni(Fn,u),Kt(Ye)}return Fe===p&&(Fe=ni(Fn,u)),Le}return u=Os(u)||0,br(C)&&(ht=!!C.leading,we=(gt="maxWait"in C)?mr(Os(C.maxWait)||0,u):we,At="trailing"in C?!!C.trailing:At),Js.cancel=function Mr(){Fe!==p&&ha(Fe),dt=0,q=Ye=oe=Fe=p},Js.flush=function fs(){return Fe===p?Le:jn(Qh())},Js}var Hp=Vt(function(s,u){return vu(s,1,u)}),jp=Vt(function(s,u,C){return vu(s,Os(u)||0,C)});function Zu(s,u){if("function"!=typeof s||null!=u&&"function"!=typeof u)throw new Ii(b);var C=function(){var q=arguments,oe=u?u.apply(this,q):q[0],we=C.cache;if(we.has(oe))return we.get(oe);var Le=s.apply(this,q);return C.cache=we.set(oe,Le)||we,Le};return C.cache=new(Zu.Cache||cs),C}function _c(s){if("function"!=typeof s)throw new Ii(b);return function(){var u=arguments;switch(u.length){case 0:return!s.call(this);case 1:return!s.call(this,u[0]);case 2:return!s.call(this,u[0],u[1]);case 3:return!s.call(this,u[0],u[1],u[2])}return!s.apply(this,u)}}Zu.Cache=cs;var Zh=Or(function(s,u){var C=(u=1==u.length&&mn(u[0])?Ot(u[0],Hi(Qt())):Ot(Wr(u,1),Hi(Qt()))).length;return Vt(function(q){for(var oe=-1,we=hn(q.length,C);++oe<we;)q[oe]=u[oe].call(this,q[oe]);return xr(s,this,q)})}),e_=Vt(function(s,u){var C=ms(u,ma(e_));return ga(s,H,p,u,C)}),fc=Vt(function(s,u){var C=ms(u,ma(fc));return ga(s,64,p,u,C)}),Vp=Ms(function(s,u){return ga(s,256,p,p,p,u)});function ds(s,u){return s===u||s!=s&&u!=u}var df=jc(yd),hf=jc(function(s,u){return s>=u}),tl=Lc(function(){return arguments}())?Lc:function(s){return Sr(s)&&se.call(s,"callee")&&!cr.call(s,"callee")},mn=tt.isArray,Jp=Xt?Hi(Xt):function ec(s){return Sr(s)&&Oi(s)==It};function hs(s){return null!=s&&Zd(s.length)&&!Ho(s)}function jr(s){return Sr(s)&&hs(s)}var pc=Pr||Uf,t_=Po?Hi(Po):function Dd(s){return Sr(s)&&Oi(s)==Ke};function nl(s){if(!Sr(s))return!1;var u=Oi(s);return u==it||"[object DOMException]"==u||"string"==typeof s.message&&"string"==typeof s.name&&!nd(s)}function Ho(s){if(!br(s))return!1;var u=Oi(s);return u==Ne||u==We||"[object AsyncFunction]"==u||"[object Proxy]"==u}function td(s){return"number"==typeof s&&s==Mn(s)}function Zd(s){return"number"==typeof s&&s>-1&&s%1==0&&s<=V}function br(s){var u=typeof s;return null!=s&&("object"==u||"function"==u)}function Sr(s){return null!=s&&"object"==typeof s}var jo=ao?Hi(ao):function Bo(s){return Sr(s)&&vr(s)==Oe};function gf(s){return"number"==typeof s||Sr(s)&&Oi(s)==xe}function nd(s){if(!Sr(s)||Oi(s)!=yt)return!1;var u=Zn(s);if(null===u)return!0;var C=se.call(u,"constructor")&&u.constructor;return"function"==typeof C&&C instanceof C&&R.call(C)==Qe}var i_=Hs?Hi(Hs):function In(s){return Sr(s)&&Oi(s)==qt},o_=tr?Hi(tr):function bd(s){return Sr(s)&&vr(s)==Nt};function eh(s){return"string"==typeof s||!mn(s)&&Sr(s)&&Oi(s)==kt}function Ps(s){return"symbol"==typeof s||Sr(s)&&Oi(s)==fn}var xl=Jo?Hi(Jo):function Ss(s){return Sr(s)&&Zd(s.length)&&!!$n[Oi(s)]},sg=jc(kc),tv=jc(function(s,u){return s<=u});function og(s){if(!s)return[];if(hs(s))return eh(s)?Jn(s):sr(s);if(as&&s[as])return function ql(Se){for(var st,tt=[];!(st=Se.next()).done;)tt.push(st.value);return tt}(s[as]());var u=vr(s);return(u==Oe?ka:u==Nt?co:au)(s)}function vo(s){return s?(s=Os(s))===z||s===-z?17976931348623157e292*(s<0?-1:1):s==s?s:0:0===s?s:0}function Mn(s){var u=vo(s),C=u%1;return u==u?C?u-C:u:0}function th(s){return s?Vi(Mn(s),0,pe):0}function Os(s){if("number"==typeof s)return s;if(Ps(s))return NaN;if(br(s)){var u="function"==typeof s.valueOf?s.valueOf():s;s=br(u)?u+"":u}if("string"!=typeof s)return 0===s?s:+s;s=_l(s);var C=Fr.test(s);return C||Do.test(s)?cn(s.slice(2),C?2:8):Qn.test(s)?NaN:+s}function gc(s){return us(s,Qi(s))}function Yn(s){return null==s?"":zi(s)}var rd=Pl(function(s,u){if(va(u)||hs(u))us(u,hi(u),s);else for(var C in u)se.call(u,C)&&_o(s,C,u[C])}),id=Pl(function(s,u){us(u,Qi(u),s)}),rl=Pl(function(s,u,C,q){us(u,Qi(u),s,q)}),l_=Pl(function(s,u,C,q){us(u,hi(u),s,q)}),c_=Ms(Ur),nv=Vt(function(s,u){s=Pn(s);var C=-1,q=u.length,oe=q>2?u[2]:p;for(oe&&Nn(u[0],u[1],oe)&&(q=1);++C<q;)for(var we=u[C],Le=Qi(we),Fe=-1,Ye=Le.length;++Fe<Ye;){var dt=Le[Fe],ht=s[dt];(ht===p||ds(ht,os[dt])&&!se.call(s,dt))&&(s[dt]=we[dt])}return s}),u_=Vt(function(s){return s.push(p,Bd),xr(Cf,p,s)});function h_(s,u,C){var q=null==s?p:bs(s,u);return q===p?C:q}function __(s,u){return null!=s&&Ku(s,u,Rh)}var rh=oc(function(s,u,C){null!=u&&"function"!=typeof u.toString&&(u=Ie.call(u)),s[u]=C},ah(_s)),f_=oc(function(s,u,C){null!=u&&"function"!=typeof u.toString&&(u=Ie.call(u)),se.call(s,u)?s[u].push(C):s[u]=[C]},Qt),dg=Vt(Rc);function hi(s){return hs(s)?zn(s):Ka(s)}function Qi(s){return hs(s)?zn(s,!0):function Du(s){if(!br(s))return function Qc(s){var u=[];if(null!=s)for(var C in Pn(s))u.push(C);return u}(s);var u=va(s),C=[];for(var q in s)"constructor"==q&&(u||!se.call(s,q))||C.push(q);return C}(s)}var wf=Pl(function(s,u,C){Sl(s,u,C)}),Cf=Pl(function(s,u,C,q){Sl(s,u,C,q)}),yf=Ms(function(s,u){var C={};if(null==s)return C;var q=!1;u=Ot(u,function(we){return we=da(we,s),q||(q=we.length>1),we}),us(s,lc(s),C),q&&(C=wn(C,7,xh));for(var oe=u.length;oe--;)Pd(C,u[oe]);return C}),_g=Ms(function(s,u){return null==s?{}:function Sd(s,u){return nc(s,u,function(C,q){return __(s,q)})}(s,u)});function od(s,u){if(null==s)return{};var C=Ot(lc(s),function(q){return[q]});return u=Qt(u),nc(s,C,function(q,oe){return u(q,oe[0])})}var Ef=Fu(hi),p_=Fu(Qi);function au(s){return null==s?[]:xa(s,hi(s))}var vg=sc(function(s,u,C){return u=u.toLowerCase(),s+(C?Sf(u):u)});function Sf(s){return E_(Yn(s).toLowerCase())}function v_(s){return(s=Yn(s))&&s.replace(Ei,fl).replace(Zi,"")}var yg=sc(function(s,u,C){return s+(C?"-":"")+u.toLowerCase()}),ov=sc(function(s,u,C){return s+(C?" ":"")+u.toLowerCase()}),Tf=Bu("toLowerCase"),sh=sc(function(s,u,C){return s+(C?"_":"")+u.toLowerCase()}),Dg=sc(function(s,u,C){return s+(C?" ":"")+E_(u)}),Tg=sc(function(s,u,C){return s+(C?" ":"")+u.toUpperCase()}),E_=Bu("toUpperCase");function oh(s,u,C){return s=Yn(s),(u=C?p:u)===p?function na(Se){return hr.test(Se)}(s)?function ml(Se){return Se.match(En)||[]}(s):function rs(Se){return Se.match(Kr)||[]}(s):s.match(u)||[]}var D_=Vt(function(s,u){try{return xr(s,p,u)}catch(C){return nl(C)?C:new en(C)}}),Af=Ms(function(s,u){return zr(u,function(C){C=Xs(C),Lo(s,C,Ju(s[C],s))}),s});function ah(s){return function(){return s}}var Og=Ol(),Lf=Ol(!0);function _s(s){return s}function Bl(s){return Eu("function"==typeof s?s:wn(s,1))}var Ag=Vt(function(s,u){return function(C){return Rc(C,s,u)}}),Rg=Vt(function(s,u){return function(C){return Rc(s,C,u)}});function lh(s,u,C){var q=hi(u),oe=Jl(u,q);null==C&&(!br(u)||!oe.length&&q.length)&&(C=u,u=s,s=this,oe=Jl(u,hi(u)));var we=!(br(C)&&"chain"in C&&!C.chain),Le=Ho(s);return zr(oe,function(Fe){var Ye=u[Fe];s[Fe]=Ye,Le&&(s.prototype[Fe]=function(){var dt=this.__chain__;if(we||dt){var ht=s(this.__wrapped__);return(ht.__actions__=sr(this.__actions__)).push({func:Ye,args:arguments,thisArg:s}),ht.__chain__=dt,ht}return Ye.apply(s,gs([this.value()],arguments))})}),s}function ld(){}var ch=ac(Ot),kf=ac(Fi),Bf=ac(Yr);function Nf(s){return Ys(s)?Wi(Xs(s)):function ca(s){return function(u){return bs(u,s)}}(s)}var xg=Uu(),kg=Uu(!0);function uh(){return[]}function Uf(){return!1}var dh=Fo(function(s,u){return s+u},0),Wf=$o("ceil"),Hf=Fo(function(s,u){return s/u},1),Ng=$o("floor"),Ug=Fo(function(s,u){return s*u},1),Fg=$o("round"),hh=Fo(function(s,u){return s-u},0);return ge.after=function Qm(s,u){if("function"!=typeof u)throw new Ii(b);return s=Mn(s),function(){if(--s<1)return u.apply(this,arguments)}},ge.ary=Fp,ge.assign=rd,ge.assignIn=id,ge.assignInWith=rl,ge.assignWith=l_,ge.at=c_,ge.before=Qd,ge.bind=Ju,ge.bindAll=Af,ge.bindKey=$p,ge.castArray=function Xp(){if(!arguments.length)return[];var s=arguments[0];return mn(s)?s:[s]},ge.chain=Y_,ge.chunk=function $h(s,u,C){u=(C?Nn(s,u,C):u===p)?1:mr(Mn(u),0);var q=null==s?0:s.length;if(!q||u<1)return[];for(var oe=0,we=0,Le=tt(ra(q/u));oe<q;)Le[we++]=di(s,oe,oe+=u);return Le},ge.compact=function Vd(s){for(var u=-1,C=null==s?0:s.length,q=0,oe=[];++u<C;){var we=s[u];we&&(oe[q++]=we)}return oe},ge.concat=function Wh(){var s=arguments.length;if(!s)return[];for(var u=tt(s-1),C=arguments[0],q=s;q--;)u[q-1]=arguments[q];return gs(mn(C)?sr(C):[C],Wr(u,1))},ge.cond=function Ig(s){var u=null==s?0:s.length,C=Qt();return s=u?Ot(s,function(q){if("function"!=typeof q[1])throw new Ii(b);return[C(q[0]),q[1]]}):[],Vt(function(q){for(var oe=-1;++oe<u;){var we=s[oe];if(xr(we[0],this,q))return xr(we[1],this,q)}})},ge.conforms=function Rf(s){return function mu(s){var u=hi(s);return function(C){return Ic(C,s,u)}}(wn(s,1))},ge.constant=ah,ge.countBy=J_,ge.create=function nh(s,u){var C=ja(s);return null==u?C:Tc(C,u)},ge.curry=function Wp(s,u,C){var q=ga(s,8,p,p,p,p,p,u=C?p:u);return q.placeholder=Wp.placeholder,q},ge.curryRight=function Jh(s,u,C){var q=ga(s,16,p,p,p,p,p,u=C?p:u);return q.placeholder=Jh.placeholder,q},ge.debounce=af,ge.defaults=nv,ge.defaultsDeep=u_,ge.defer=Hp,ge.delay=jp,ge.difference=zd,ge.differenceBy=f,ge.differenceWith=i,ge.drop=function o(s,u,C){var q=null==s?0:s.length;return q?di(s,(u=C||u===p?1:Mn(u))<0?0:u,q):[]},ge.dropRight=function c(s,u,C){var q=null==s?0:s.length;return q?di(s,0,(u=q-(u=C||u===p?1:Mn(u)))<0?0:u):[]},ge.dropRightWhile=function m(s,u){return s&&s.length?za(s,Qt(u,3),!0,!0):[]},ge.dropWhile=function O(s,u){return s&&s.length?za(s,Qt(u,3),!0):[]},ge.fill=function K(s,u,C,q){var oe=null==s?0:s.length;return oe?(C&&"number"!=typeof C&&Nn(s,u,C)&&(C=0,q=oe),function Ah(s,u,C,q){var oe=s.length;for((C=Mn(C))<0&&(C=-C>oe?0:oe+C),(q=q===p||q>oe?oe:Mn(q))<0&&(q+=oe),q=C>q?0:th(q);C<q;)s[C++]=u;return s}(s,u,C,q)):[]},ge.filter=function Op(s,u){return(mn(s)?Cr:Ql)(s,Qt(u,3))},ge.flatMap=function Lp(s,u){return Wr(Yh(s,u),1)},ge.flatMapDeep=function xp(s,u){return Wr(Yh(s,u),z)},ge.flatMapDepth=function Ll(s,u,C){return C=C===p?1:Mn(C),Wr(Yh(s,u),C)},ge.flatten=ye,ge.flattenDeep=function ke(s){return null!=s&&s.length?Wr(s,z):[]},ge.flattenDepth=function Ve(s,u){return null!=s&&s.length?Wr(s,u=u===p?1:Mn(u)):[]},ge.flip=function Kp(s){return ga(s,512)},ge.flow=Og,ge.flowRight=Lf,ge.fromPairs=function mt(s){for(var u=-1,C=null==s?0:s.length,q={};++u<C;){var oe=s[u];q[oe[0]]=oe[1]}return q},ge.functions=function vf(s){return null==s?[]:Jl(s,hi(s))},ge.functionsIn=function ug(s){return null==s?[]:Jl(s,Qi(s))},ge.groupBy=zm,ge.initial=function Ct(s){return null!=s&&s.length?di(s,0,-1):[]},ge.intersection=Dt,ge.intersectionBy=Un,ge.intersectionWith=Cn,ge.invert=rh,ge.invertBy=f_,ge.invokeMap=Ym,ge.iteratee=Bl,ge.keyBy=Xm,ge.keys=hi,ge.keysIn=Qi,ge.map=Yh,ge.mapKeys=function ih(s,u){var C={};return u=Qt(u,3),Ds(s,function(q,oe,we){Lo(C,u(q,oe,we),q)}),C},ge.mapValues=function hg(s,u){var C={};return u=Qt(u,3),Ds(s,function(q,oe,we){Lo(C,oe,u(q,oe,we))}),C},ge.matches=function il(s){return qa(wn(s,1))},ge.matchesProperty=function lu(s,u){return bu(s,wn(u,1))},ge.memoize=Zu,ge.merge=wf,ge.mergeWith=Cf,ge.method=Ag,ge.methodOf=Rg,ge.mixin=lh,ge.negate=_c,ge.nthArg=function cd(s){return s=Mn(s),Vt(function(u){return Bc(u,s)})},ge.omit=yf,ge.omitBy=function iv(s,u){return od(s,_c(Qt(u)))},ge.once=function qp(s){return Qd(2,s)},ge.orderBy=function tf(s,u,C,q){return null==s?[]:(mn(u)||(u=null==u?[]:[u]),mn(C=q?p:C)||(C=null==C?[]:[C]),Mu(s,u,C))},ge.over=ch,ge.overArgs=Zh,ge.overEvery=kf,ge.overSome=Bf,ge.partial=e_,ge.partialRight=fc,ge.partition=kp,ge.pick=_g,ge.pickBy=od,ge.property=Nf,ge.propertyOf=function Lg(s){return function(u){return null==s?p:bs(s,u)}},ge.pull=er,ge.pullAll=mi,ge.pullAllBy=function vi(s,u,C){return s&&s.length&&u&&u.length?Nc(s,u,Qt(C,2)):s},ge.pullAllWith=function Is(s,u,C){return s&&s.length&&u&&u.length?Nc(s,u,p,C):s},ge.pullAt=Gd,ge.range=xg,ge.rangeRight=kg,ge.rearg=Vp,ge.reject=function Up(s,u){return(mn(s)?Cr:Ql)(s,_c(Qt(u,3)))},ge.remove=function Ja(s,u){var C=[];if(!s||!s.length)return C;var q=-1,oe=[],we=s.length;for(u=Qt(u,3);++q<we;){var Le=s[q];u(Le,q,s)&&(C.push(Le),oe.push(q))}return Md(s,oe),C},ge.rest=function zp(s,u){if("function"!=typeof s)throw new Ii(b);return Vt(s,u=u===p?u:Mn(u))},ge.reverse=mo,ge.sampleSize=function el(s,u,C){return u=(C?Nn(s,u,C):u===p)?1:Mn(u),(mn(s)?ys:Td)(s,u)},ge.set=function ou(s,u,C){return null==s?s:Va(s,u,C)},ge.setWith=function ad(s,u,C,q){return q="function"==typeof q?q:p,null==s?s:Va(s,u,C,q)},ge.shuffle=function Qu(s){return(mn(s)?Ro:Ou)(s)},ge.slice=function Ca(s,u,C){var q=null==s?0:s.length;return q?(C&&"number"!=typeof C&&Nn(s,u,C)?(u=0,C=q):(u=null==u?0:Mn(u),C=C===p?q:Mn(C)),di(s,u,C)):[]},ge.sortBy=sf,ge.sortedUniq=function Qs(s){return s&&s.length?Fc(s):[]},ge.sortedUniqBy=function Yi(s,u){return s&&s.length?Fc(s,Qt(u,2)):[]},ge.split=function Eg(s,u,C){return C&&"number"!=typeof C&&Nn(s,u,C)&&(u=C=p),(C=C===p?pe:C>>>0)?(s=Yn(s))&&("string"==typeof u||null!=u&&!i_(u))&&!(u=zi(u))&&Ks(s)?ti(Jn(s),0,C):s.split(u,C):[]},ge.spread=function lf(s,u){if("function"!=typeof s)throw new Ii(b);return u=null==u?0:mr(Mn(u),0),Vt(function(C){var q=C[u],oe=ti(C,0,u);return q&&gs(oe,q),xr(s,this,oe)})},ge.tail=function Wo(s){var u=null==s?0:s.length;return u?di(s,1,u):[]},ge.take=function fr(s,u,C){return s&&s.length?di(s,0,(u=C||u===p?1:Mn(u))<0?0:u):[]},ge.takeRight=function Yu(s,u,C){var q=null==s?0:s.length;return q?di(s,(u=q-(u=C||u===p?1:Mn(u)))<0?0:u,q):[]},ge.takeRightWhile=function Zc(s,u){return s&&s.length?za(s,Qt(u,3),!1,!0):[]},ge.takeWhile=function Hr(s,u){return s&&s.length?za(s,Qt(u,3)):[]},ge.tap=function Tp(s,u){return u(s),s},ge.throttle=function cf(s,u,C){var q=!0,oe=!0;if("function"!=typeof s)throw new Ii(b);return br(C)&&(q="leading"in C?!!C.leading:q,oe="trailing"in C?!!C.trailing:oe),af(s,u,{leading:q,maxWait:u,trailing:oe})},ge.thru=Vh,ge.toArray=og,ge.toPairs=Ef,ge.toPairsIn=p_,ge.toPath=function $f(s){return mn(s)?Ot(s,Xs):Ps(s)?[s]:sr(Rl(Yn(s)))},ge.toPlainObject=gc,ge.transform=function pg(s,u,C){var q=mn(s),oe=q||pc(s)||xl(s);if(u=Qt(u,4),null==C){var we=s&&s.constructor;C=oe?q?new we:[]:br(s)&&Ho(we)?ja(Zn(s)):{}}return(oe?zr:Ds)(s,function(Le,Fe,Ye){return u(C,Le,Fe,Ye)}),C},ge.unary=function Gp(s){return Fp(s,1)},ge.union=ya,ge.unionBy=Xi,ge.unionWith=Za,ge.uniq=function eu(s){return s&&s.length?ua(s):[]},ge.uniqBy=function Hh(s,u){return s&&s.length?ua(s,Qt(u,2)):[]},ge.uniqWith=function Xu(s,u){return u="function"==typeof u?u:p,s&&s.length?ua(s,p,u):[]},ge.unset=function gg(s,u){return null==s||Pd(s,u)},ge.unzip=jh,ge.unzipWith=Kh,ge.update=function mg(s,u,C){return null==s?s:Od(s,u,Au(C))},ge.updateWith=function Df(s,u,C,q){return q="function"==typeof q?q:p,null==s?s:Od(s,u,Au(C),q)},ge.values=au,ge.valuesIn=function g_(s){return null==s?[]:xa(s,Qi(s))},ge.without=bp,ge.words=oh,ge.wrap=function Yp(s,u){return e_(Au(u),s)},ge.xor=Sp,ge.xorBy=Mp,ge.xorWith=z_,ge.zip=G_,ge.zipObject=function Yd(s,u){return Lh(s||[],u||[],_o)},ge.zipObjectDeep=function qh(s,u){return Lh(s||[],u||[],Va)},ge.zipWith=tu,ge.entries=Ef,ge.entriesIn=p_,ge.extend=id,ge.extendWith=rl,lh(ge,ge),ge.add=dh,ge.attempt=D_,ge.camelCase=vg,ge.capitalize=Sf,ge.ceil=Wf,ge.clamp=function sv(s,u,C){return C===p&&(C=u,u=p),C!==p&&(C=(C=Os(C))==C?C:0),u!==p&&(u=(u=Os(u))==u?u:0),Vi(Os(s),u,C)},ge.clone=function Qp(s){return wn(s,4)},ge.cloneDeep=function Jm(s){return wn(s,5)},ge.cloneDeepWith=function Zm(s,u){return wn(s,5,u="function"==typeof u?u:p)},ge.cloneWith=function uf(s,u){return wn(s,4,u="function"==typeof u?u:p)},ge.conformsTo=function ed(s,u){return null==u||Ic(s,u,hi(u))},ge.deburr=v_,ge.defaultTo=function Pg(s,u){return null==s||s!=s?u:s},ge.divide=Hf,ge.endsWith=function wg(s,u,C){s=Yn(s),u=zi(u);var q=s.length,oe=C=C===p?q:Vi(Mn(C),0,q);return(C-=u.length)>=0&&s.slice(C,oe)==u},ge.eq=ds,ge.escape=function Mf(s){return(s=Yn(s))&&Ji.test(s)?s.replace(yi,pl):s},ge.escapeRegExp=function Cg(s){return(s=Yn(s))&&ct.test(s)?s.replace(qe,"\\$&"):s},ge.every=function Z_(s,u,C){var q=mn(s)?Fi:Pc;return C&&Nn(s,u,C)&&(u=p),q(s,Qt(u,3))},ge.find=Ap,ge.findIndex=ee,ge.findKey=function sd(s,u){return yr(s,Qt(u,3),Ds)},ge.findLast=Rp,ge.findLastIndex=he,ge.findLastKey=function ag(s,u){return yr(s,Qt(u,3),Ac)},ge.floor=Ng,ge.forEach=ru,ge.forEachRight=ef,ge.forIn=function mf(s,u){return null==s?s:Dl(s,Qt(u,3),Qi)},ge.forInRight=function lg(s,u){return null==s?s:Oc(s,Qt(u,3),Qi)},ge.forOwn=function cg(s,u){return s&&Ds(s,Qt(u,3))},ge.forOwnRight=function d_(s,u){return s&&Ac(s,Qt(u,3))},ge.get=h_,ge.gt=df,ge.gte=hf,ge.has=function rv(s,u){return null!=s&&Ku(s,u,Zl)},ge.hasIn=__,ge.head=Pt,ge.identity=_s,ge.includes=function Gm(s,u,C,q){s=hs(s)?s:au(s),C=C&&!q?Mn(C):0;var oe=s.length;return C<0&&(C=mr(oe+C,0)),eh(s)?C<=oe&&s.indexOf(u,C)>-1:!!oe&&qn(s,u,C)>-1},ge.indexOf=function ot(s,u,C){var q=null==s?0:s.length;if(!q)return-1;var oe=null==C?0:Mn(C);return oe<0&&(oe=mr(q+oe,0)),qn(s,u,oe)},ge.inRange=function m_(s,u,C){return u=vo(u),C===p?(C=u,u=0):C=vo(C),function Ed(s,u,C){return s>=hn(u,C)&&s<mr(u,C)}(s=Os(s),u,C)},ge.invoke=dg,ge.isArguments=tl,ge.isArray=mn,ge.isArrayBuffer=Jp,ge.isArrayLike=hs,ge.isArrayLikeObject=jr,ge.isBoolean=function Jd(s){return!0===s||!1===s||Sr(s)&&Oi(s)==je},ge.isBuffer=pc,ge.isDate=t_,ge.isElement=function Zp(s){return Sr(s)&&1===s.nodeType&&!nd(s)},ge.isEmpty=function n_(s){if(null==s)return!0;if(hs(s)&&(mn(s)||"string"==typeof s||"function"==typeof s.splice||pc(s)||xl(s)||tl(s)))return!s.length;var u=vr(s);if(u==Oe||u==Nt)return!s.size;if(va(s))return!Ka(s).length;for(var C in s)if(se.call(s,C))return!1;return!0},ge.isEqual=function _f(s,u){return ko(s,u)},ge.isEqualWith=function ff(s,u,C){var q=(C="function"==typeof C?C:p)?C(s,u):p;return q===p?ko(s,u,p,C):!!q},ge.isError=nl,ge.isFinite=function eg(s){return"number"==typeof s&&rr(s)},ge.isFunction=Ho,ge.isInteger=td,ge.isLength=Zd,ge.isMap=jo,ge.isMatch=function iu(s,u){return s===u||yu(s,u,zc(u))},ge.isMatchWith=function r_(s,u,C){return C="function"==typeof C?C:p,yu(s,u,zc(u),C)},ge.isNaN=function tg(s){return gf(s)&&s!=+s},ge.isNative=function ng(s){if(dc(s))throw new en("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xc(s)},ge.isNil=function su(s){return null==s},ge.isNull=function pf(s){return null===s},ge.isNumber=gf,ge.isObject=br,ge.isObjectLike=Sr,ge.isPlainObject=nd,ge.isRegExp=i_,ge.isSafeInteger=function s_(s){return td(s)&&s>=-V&&s<=V},ge.isSet=o_,ge.isString=eh,ge.isSymbol=Ps,ge.isTypedArray=xl,ge.isUndefined=function ev(s){return s===p},ge.isWeakMap=function rg(s){return Sr(s)&&vr(s)==Et},ge.isWeakSet=function ig(s){return Sr(s)&&"[object WeakSet]"==Oi(s)},ge.join=function yn(s,u){return null==s?"":ws.call(s,u)},ge.kebabCase=yg,ge.last=Sn,ge.lastIndexOf=function Gi(s,u,C){var q=null==s?0:s.length;if(!q)return-1;var oe=q;return C!==p&&(oe=(oe=Mn(C))<0?mr(q+oe,0):hn(oe,q-1)),u==u?function gl(Se,st,tt){for(var Rt=tt+1;Rt--;)if(Se[Rt]===st)return Rt;return Rt}(s,u,oe):Jr(s,Zo,oe,!0)},ge.lowerCase=ov,ge.lowerFirst=Tf,ge.lt=sg,ge.lte=tv,ge.max=function jf(s){return s&&s.length?zs(s,_s,yd):p},ge.maxBy=function Kf(s,u){return s&&s.length?zs(s,Qt(u,2),yd):p},ge.mean=function vn(s){return is(s,_s)},ge.meanBy=function qf(s,u){return is(s,Qt(u,2))},ge.min=function Vf(s){return s&&s.length?zs(s,_s,kc):p},ge.minBy=function cu(s,u){return s&&s.length?zs(s,Qt(u,2),kc):p},ge.stubArray=uh,ge.stubFalse=Uf,ge.stubObject=function Bg(){return{}},ge.stubString=function cv(){return""},ge.stubTrue=function uv(){return!0},ge.multiply=Ug,ge.nth=function Ar(s,u){return s&&s.length?Bc(s,Mn(u)):p},ge.noConflict=function xf(){return _r._===this&&(_r._=nt),this},ge.noop=ld,ge.now=Qh,ge.pad=function If(s,u,C){s=Yn(s);var q=(u=Mn(u))?Na(s):0;if(!u||q>=u)return s;var oe=(u-q)/2;return fa(Wa(oe),C)+s+fa(ra(oe),C)},ge.padEnd=function Ko(s,u,C){s=Yn(s);var q=(u=Mn(u))?Na(s):0;return u&&q<u?s+fa(u-q,C):s},ge.padStart=function Pf(s,u,C){s=Yn(s);var q=(u=Mn(u))?Na(s):0;return u&&q<u?fa(u-q,C)+s:s},ge.parseInt=function av(s,u,C){return C||null==u?u=0:u&&(u=+u),Cl(Yn(s).replace(Mt,""),u||0)},ge.random=function bf(s,u,C){if(C&&"boolean"!=typeof C&&Nn(s,u,C)&&(u=C=p),C===p&&("boolean"==typeof u?(C=u,u=p):"boolean"==typeof s&&(C=s,s=p)),s===p&&u===p?(s=0,u=1):(s=vo(s),u===p?(u=s,s=0):u=vo(u)),s>u){var q=s;s=u,u=q}if(C||s%1||u%1){var oe=pi();return hn(s+oe*(u-s+St("1e-"+((oe+"").length-1))),u)}return Tu(s,u)},ge.reduce=function Bp(s,u,C){var q=mn(s)?ns:lo,oe=arguments.length<3;return q(s,Qt(u,4),C,oe,xo)},ge.reduceRight=function Np(s,u,C){var q=mn(s)?jl:lo,oe=arguments.length<3;return q(s,Qt(u,4),C,oe,wu)},ge.repeat=function w_(s,u,C){return u=(C?Nn(s,u,C):u===p)?1:Mn(u),Iu(Yn(s),u)},ge.replace=function kl(){var s=arguments,u=Yn(s[0]);return s.length<3?u:u.replace(s[1],s[2])},ge.result=function fg(s,u,C){var q=-1,oe=(u=da(u,s)).length;for(oe||(oe=1,s=p);++q<oe;){var we=null==s?p:s[Xs(u[q])];we===p&&(q=oe,we=C),s=Ho(we)?we.call(s):we}return s},ge.round=Fg,ge.runInContext=Se,ge.sample=function Xh(s){return(mn(s)?On:Pu)(s)},ge.size=function nf(s){if(null==s)return 0;if(hs(s))return eh(s)?Na(s):s.length;var u=vr(s);return u==Oe||u==Nt?s.size:Ka(s).length},ge.snakeCase=sh,ge.some=function rf(s,u,C){var q=mn(s)?Yr:Ml;return C&&Nn(s,u,C)&&(u=p),q(s,Qt(u,3))},ge.sortedIndex=function Gu(s,u){return No(s,u)},ge.sortedIndexBy=function Ft(s,u,C){return rc(s,u,Qt(C,2))},ge.sortedIndexOf=function Gt(s,u){var C=null==s?0:s.length;if(C){var q=No(s,u);if(q<C&&ds(s[q],u))return q}return-1},ge.sortedLastIndex=function sn(s,u){return No(s,u,!0)},ge.sortedLastIndexBy=function An(s,u,C){return rc(s,u,Qt(C,2),!0)},ge.sortedLastIndexOf=function ri(s,u){if(null!=s&&s.length){var q=No(s,u,!0)-1;if(ds(s[q],u))return q}return-1},ge.startCase=Dg,ge.startsWith=function bg(s,u,C){return s=Yn(s),C=null==C?0:Vi(Mn(C),0,s.length),u=zi(u),s.slice(C,C+u.length)==u},ge.subtract=hh,ge.sum=function uu(s){return s&&s.length?hl(s,_s):0},ge.sumBy=function b_(s,u){return s&&s.length?hl(s,Qt(u,2)):0},ge.template=function C_(s,u,C){var q=ge.templateSettings;C&&Nn(s,u,C)&&(u=p),s=Yn(s),u=rl({},u,q,Kc);var Fe,Ye,oe=rl({},u.imports,q.imports,Kc),we=hi(oe),Le=xa(oe,we),dt=0,ht=u.interpolate||Qr,gt="__p += '",At=qs((u.escape||Qr).source+"|"+ht.source+"|"+(ht===Eo?xi:Qr).source+"|"+(u.evaluate||Qr).source+"|$","g"),Kt="//# sourceURL="+(se.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vr+"]")+"\n";s.replace(At,function(tn,Fn,jn,Mr,fs,Js){return jn||(jn=Mr),gt+=s.slice(dt,Js).replace(ks,yc),Fn&&(Fe=!0,gt+="' +\n__e("+Fn+") +\n'"),fs&&(Ye=!0,gt+="';\n"+fs+";\n__p += '"),jn&&(gt+="' +\n((__t = ("+jn+")) == null ? '' : __t) +\n'"),dt=Js+tn.length,tn}),gt+="';\n";var on=se.call(u,"variable")&&u.variable;if(on){if(qr.test(on))throw new en("Invalid `variable` option passed into `_.template`")}else gt="with (obj) {\n"+gt+"\n}\n";gt=(Ye?gt.replace(Rs,""):gt).replace(qo,"$1").replace(pn,"$1;"),gt="function("+(on||"obj")+") {\n"+(on?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Fe?", __e = _.escape":"")+(Ye?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+gt+"return __p\n}";var Tn=D_(function(){return Dn(we,Kt+"return "+gt).apply(p,Le)});if(Tn.source=gt,nl(Tn))throw Tn;return Tn},ge.times=function Ff(s,u){if((s=Mn(s))<1||s>V)return[];var C=pe,q=hn(s,pe);u=Qt(u),s-=pe;for(var oe=La(q,u);++C<s;)u(C);return oe},ge.toFinite=vo,ge.toInteger=Mn,ge.toLength=th,ge.toLower=function Ea(s){return Yn(s).toLowerCase()},ge.toNumber=Os,ge.toSafeInteger=function a_(s){return s?Vi(Mn(s),-V,V):0===s?s:0},ge.toString=Yn,ge.toUpper=function Of(s){return Yn(s).toUpperCase()},ge.trim=function Sg(s,u,C){if((s=Yn(s))&&(C||u===p))return _l(s);if(!s||!(u=zi(u)))return s;var q=Jn(s),oe=Jn(u);return ti(q,ta(q,oe),Oo(q,oe)+1).join("")},ge.trimEnd=function lv(s,u,C){if((s=Yn(s))&&(C||u===p))return s.slice(0,Ua(s)+1);if(!s||!(u=zi(u)))return s;var q=Jn(s);return ti(q,0,Oo(q,Jn(u))+1).join("")},ge.trimStart=function wi(s,u,C){if((s=Yn(s))&&(C||u===p))return s.replace(Mt,"");if(!s||!(u=zi(u)))return s;var q=Jn(s);return ti(q,ta(q,Jn(u))).join("")},ge.truncate=function Mg(s,u){var C=30,q="...";if(br(u)){var oe="separator"in u?u.separator:oe;C="length"in u?Mn(u.length):C,q="omission"in u?zi(u.omission):q}var we=(s=Yn(s)).length;if(Ks(s)){var Le=Jn(s);we=Le.length}if(C>=we)return s;var Fe=C-Na(q);if(Fe<1)return q;var Ye=Le?ti(Le,0,Fe).join(""):s.slice(0,Fe);if(oe===p)return Ye+q;if(Le&&(Fe+=Ye.length-Fe),i_(oe)){if(s.slice(Fe).search(oe)){var dt,ht=Ye;for(oe.global||(oe=qs(oe.source,Yn(ki.exec(oe))+"g")),oe.lastIndex=0;dt=oe.exec(ht);)var gt=dt.index;Ye=Ye.slice(0,gt===p?Fe:gt)}}else if(s.indexOf(zi(oe),Fe)!=Fe){var At=Ye.lastIndexOf(oe);At>-1&&(Ye=Ye.slice(0,At))}return Ye+q},ge.unescape=function y_(s){return(s=Yn(s))&&Ls.test(s)?s.replace(Ci,ze):s},ge.uniqueId=function dv(s){var u=++N;return Yn(s)+u},ge.upperCase=Tg,ge.upperFirst=E_,ge.each=ru,ge.eachRight=ef,ge.first=Pt,lh(ge,function(){var s={};return Ds(ge,function(u,C){se.call(ge.prototype,C)||(s[C]=u)}),s}(),{chain:!1}),ge.VERSION="4.17.21",zr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){ge[s].placeholder=ge}),zr(["drop","take"],function(s,u){gn.prototype[s]=function(C){C=C===p?1:mr(Mn(C),0);var q=this.__filtered__&&!u?new gn(this):this.clone();return q.__filtered__?q.__takeCount__=hn(C,q.__takeCount__):q.__views__.push({size:hn(C,pe),type:s+(q.__dir__<0?"Right":"")}),q},gn.prototype[s+"Right"]=function(C){return this.reverse()[s](C).reverse()}}),zr(["filter","map","takeWhile"],function(s,u){var C=u+1,q=1==C||3==C;gn.prototype[s]=function(oe){var we=this.clone();return we.__iteratees__.push({iteratee:Qt(oe,3),type:C}),we.__filtered__=we.__filtered__||q,we}}),zr(["head","last"],function(s,u){var C="take"+(u?"Right":"");gn.prototype[s]=function(){return this[C](1).value()[0]}}),zr(["initial","tail"],function(s,u){var C="drop"+(u?"":"Right");gn.prototype[s]=function(){return this.__filtered__?new gn(this):this[C](1)}}),gn.prototype.compact=function(){return this.filter(_s)},gn.prototype.find=function(s){return this.filter(s).head()},gn.prototype.findLast=function(s){return this.reverse().find(s)},gn.prototype.invokeMap=Vt(function(s,u){return"function"==typeof s?new gn(this):this.map(function(C){return Rc(C,s,u)})}),gn.prototype.reject=function(s){return this.filter(_c(Qt(s)))},gn.prototype.slice=function(s,u){s=Mn(s);var C=this;return C.__filtered__&&(s>0||u<0)?new gn(C):(s<0?C=C.takeRight(-s):s&&(C=C.drop(s)),u!==p&&(C=(u=Mn(u))<0?C.dropRight(-u):C.take(u-s)),C)},gn.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},gn.prototype.toArray=function(){return this.take(pe)},Ds(gn.prototype,function(s,u){var C=/^(?:filter|find|map|reject)|While$/.test(u),q=/^(?:head|last)$/.test(u),oe=ge[q?"take"+("last"==u?"Right":""):u],we=q||/^find/.test(u);oe&&(ge.prototype[u]=function(){var Le=this.__wrapped__,Fe=q?[1]:arguments,Ye=Le instanceof gn,dt=Fe[0],ht=Ye||mn(Le),gt=function(Fn){var jn=oe.apply(ge,gs([Fn],Fe));return q&&At?jn[0]:jn};ht&&C&&"function"==typeof dt&&1!=dt.length&&(Ye=ht=!1);var At=this.__chain__,on=we&&!At,Tn=Ye&&!this.__actions__.length;if(!we&&ht){Le=Tn?Le:new gn(this);var tn=s.apply(Le,Fe);return tn.__actions__.push({func:Vh,args:[gt],thisArg:p}),new gi(tn,At)}return on&&Tn?s.apply(this,Fe):(tn=this.thru(gt),on?q?tn.value()[0]:tn.value():tn)})}),zr(["pop","push","shift","sort","splice","unshift"],function(s){var u=ci[s],C=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",q=/^(?:pop|shift)$/.test(s);ge.prototype[s]=function(){var oe=arguments;if(q&&!this.__chain__){var we=this.value();return u.apply(mn(we)?we:[],oe)}return this[C](function(Le){return u.apply(mn(Le)?Le:[],oe)})}}),Ds(gn.prototype,function(s,u){var C=ge[u];if(C){var q=C.name+"";se.call(sa,q)||(sa[q]=[]),sa[q].push({name:u,func:C})}}),sa[_a(p,2).name]=[{name:"wrapper",func:p}],gn.prototype.clone=function md(){var s=new gn(this.__wrapped__);return s.__actions__=sr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=sr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=sr(this.__views__),s},gn.prototype.reverse=function vd(){if(this.__filtered__){var s=new gn(this);s.__dir__=-1,s.__filtered__=!0}else(s=this.clone()).__dir__*=-1;return s},gn.prototype.value=function wd(){var s=this.__wrapped__.value(),u=this.__dir__,C=mn(s),q=u<0,oe=C?s.length:0,we=function Hu(s,u,C){for(var q=-1,oe=C.length;++q<oe;){var we=C[q],Le=we.size;switch(we.type){case"drop":s+=Le;break;case"dropRight":u-=Le;break;case"take":u=hn(u,s+Le);break;case"takeRight":s=mr(s,u-Le)}}return{start:s,end:u}}(0,oe,this.__views__),Le=we.start,Fe=we.end,Ye=Fe-Le,dt=q?Fe:Le-1,ht=this.__iteratees__,gt=ht.length,At=0,Kt=hn(Ye,this.__takeCount__);if(!C||!q&&oe==Ye&&Kt==Ye)return $c(s,this.__actions__);var on=[];e:for(;Ye--&&At<Kt;){for(var Tn=-1,tn=s[dt+=u];++Tn<gt;){var Fn=ht[Tn],Mr=Fn.type,fs=(0,Fn.iteratee)(tn);if(2==Mr)tn=fs;else if(!fs){if(1==Mr)continue e;break e}}on[At++]=tn}return on},ge.prototype.at=Ip,ge.prototype.chain=function zh(){return Y_(this)},ge.prototype.commit=function Pp(){return new gi(this.value(),this.__chain__)},ge.prototype.next=function nu(){this.__values__===p&&(this.__values__=og(this.value()));var s=this.__index__>=this.__values__.length;return{done:s,value:s?p:this.__values__[this.__index__++]}},ge.prototype.plant=function Gh(s){for(var u,C=this;C instanceof Yl;){var q=zu(C);q.__index__=0,q.__values__=p,u?oe.__wrapped__=q:u=q;var oe=q;C=C.__wrapped__}return oe.__wrapped__=s,u},ge.prototype.reverse=function X_(){var s=this.__wrapped__;if(s instanceof gn){var u=s;return this.__actions__.length&&(u=new gn(this)),(u=u.reverse()).__actions__.push({func:Vh,args:[mo],thisArg:p}),new gi(u,this.__chain__)}return this.thru(mo)},ge.prototype.toJSON=ge.prototype.valueOf=ge.prototype.value=function Q_(){return $c(this.__wrapped__,this.__actions__)},ge.prototype.first=ge.prototype.head,as&&(ge.prototype[as]=function Xd(){return this}),ge}();_r._=uo,(d=function(){return uo}.call($,a,$,fe))!==p&&(fe.exports=d)}.call(this)},3524:function(fe,$,a){var w,d=a(9293).default;w=()=>(()=>{var p={873:(b,A)=>{var T,k,U=function(){var j=function(Be,Me){var Y=Be,z=W[Me],V=null,re=0,me=null,pe=[],ce={},Ce=function(Ne,We){V=function(Oe){for(var xe=new Array(Oe),Ze=0;Ze<Oe;Ze+=1){xe[Ze]=new Array(Oe);for(var yt=0;yt<Oe;yt+=1)xe[Ze][yt]=null}return xe}(re=4*Y+17),ae(0,0),ae(re-7,0),ae(0,re-7),Ee(),X(),je(Ne,We),Y>=7&&Ae(Ne),null==me&&(me=ut(Y,z,pe)),Ke(me,We)},ae=function(Ne,We){for(var Oe=-1;Oe<=7;Oe+=1)if(!(Ne+Oe<=-1||re<=Ne+Oe))for(var xe=-1;xe<=7;xe+=1)We+xe<=-1||re<=We+xe||(V[Ne+Oe][We+xe]=0<=Oe&&Oe<=6&&(0==xe||6==xe)||0<=xe&&xe<=6&&(0==Oe||6==Oe)||2<=Oe&&Oe<=4&&2<=xe&&xe<=4)},X=function(){for(var Ne=8;Ne<re-8;Ne+=1)null==V[Ne][6]&&(V[Ne][6]=Ne%2==0);for(var We=8;We<re-8;We+=1)null==V[6][We]&&(V[6][We]=We%2==0)},Ee=function(){for(var Ne=G.getPatternPosition(Y),We=0;We<Ne.length;We+=1)for(var Oe=0;Oe<Ne.length;Oe+=1){var xe=Ne[We],Ze=Ne[Oe];if(null==V[xe][Ze])for(var yt=-2;yt<=2;yt+=1)for(var Wt=-2;Wt<=2;Wt+=1)V[xe+yt][Ze+Wt]=-2==yt||2==yt||-2==Wt||2==Wt||0==yt&&0==Wt}},Ae=function(Ne){for(var We=G.getBCHTypeNumber(Y),Oe=0;Oe<18;Oe+=1){var xe=!Ne&&1==(We>>Oe&1);V[Math.floor(Oe/3)][Oe%3+re-8-3]=xe}for(Oe=0;Oe<18;Oe+=1)xe=!Ne&&1==(We>>Oe&1),V[Oe%3+re-8-3][Math.floor(Oe/3)]=xe},je=function(Ne,We){for(var xe=G.getBCHTypeInfo(z<<3|We),Ze=0;Ze<15;Ze+=1){var yt=!Ne&&1==(xe>>Ze&1);Ze<6?V[Ze][8]=yt:Ze<8?V[Ze+1][8]=yt:V[re-15+Ze][8]=yt}for(Ze=0;Ze<15;Ze+=1)yt=!Ne&&1==(xe>>Ze&1),Ze<8?V[8][re-Ze-1]=yt:Ze<9?V[8][15-Ze-1+1]=yt:V[8][15-Ze-1]=yt;V[re-8][8]=!Ne},Ke=function(Ne,We){for(var Oe=-1,xe=re-1,Ze=7,yt=0,Wt=G.getMaskFunction(We),vt=re-1;vt>0;vt-=2)for(6==vt&&(vt-=1);;){for(var qt=0;qt<2;qt+=1)if(null==V[xe][vt-qt]){var Nt=!1;yt<Ne.length&&(Nt=1==(Ne[yt]>>>Ze&1)),Wt(xe,vt-qt)&&(Nt=!Nt),V[xe][vt-qt]=Nt,-1==(Ze-=1)&&(yt+=1,Ze=7)}if((xe+=Oe)<0||re<=xe){xe-=Oe,Oe=-Oe;break}}},ut=function(Ne,We,Oe){for(var xe=H.getRSBlocks(Ne,We),Ze=te(),yt=0;yt<Oe.length;yt+=1){var Wt=Oe[yt];Ze.put(Wt.getMode(),4),Ze.put(Wt.getLength(),G.getLengthInBits(Wt.getMode(),Ne)),Wt.write(Ze)}var vt=0;for(yt=0;yt<xe.length;yt+=1)vt+=xe[yt].dataCount;if(Ze.getLengthInBits()>8*vt)throw"code length overflow. ("+Ze.getLengthInBits()+">"+8*vt+")";for(Ze.getLengthInBits()+4<=8*vt&&Ze.put(0,4);Ze.getLengthInBits()%8!=0;)Ze.putBit(!1);for(;!(Ze.getLengthInBits()>=8*vt||(Ze.put(236,8),Ze.getLengthInBits()>=8*vt));)Ze.put(17,8);return function(qt,Nt){for(var kt=0,fn=0,$t=0,Et=new Array(Nt.length),an=new Array(Nt.length),It=0;It<Nt.length;It+=1){var ln=Nt[It].dataCount,Ht=Nt[It].totalCount-ln;fn=Math.max(fn,ln),$t=Math.max($t,Ht),Et[It]=new Array(ln);for(var bt=0;bt<Et[It].length;bt+=1)Et[It][bt]=255&qt.getBuffer()[bt+kt];kt+=ln;var xt=G.getErrorCorrectPolynomial(Ht),Jt=ne(Et[It],xt.getLength()-1).mod(xt);for(an[It]=new Array(xt.getLength()-1),bt=0;bt<an[It].length;bt+=1){var Yt=bt+Jt.getLength()-an[It].length;an[It][bt]=Yt>=0?Jt.getAt(Yt):0}}var Ut=0;for(bt=0;bt<Nt.length;bt+=1)Ut+=Nt[bt].totalCount;var Rr=new Array(Ut),Xn=0;for(bt=0;bt<fn;bt+=1)for(It=0;It<Nt.length;It+=1)bt<Et[It].length&&(Rr[Xn]=Et[It][bt],Xn+=1);for(bt=0;bt<$t;bt+=1)for(It=0;It<Nt.length;It+=1)bt<an[It].length&&(Rr[Xn]=an[It][bt],Xn+=1);return Rr}(Ze,xe)};ce.addData=function(Ne,We){var Oe=null;switch(We=We||"Byte"){case"Numeric":Oe=De(Ne);break;case"Alphanumeric":Oe=ve(Ne);break;case"Byte":Oe=Te(Ne);break;case"Kanji":Oe=_e(Ne);break;default:throw"mode:"+We}pe.push(Oe),me=null},ce.isDark=function(Ne,We){if(Ne<0||re<=Ne||We<0||re<=We)throw Ne+","+We;return V[Ne][We]},ce.getModuleCount=function(){return re},ce.make=function(){if(Y<1){for(var Ne=1;Ne<40;Ne++){for(var We=H.getRSBlocks(Ne,z),Oe=te(),xe=0;xe<pe.length;xe++){var Ze=pe[xe];Oe.put(Ze.getMode(),4),Oe.put(Ze.getLength(),G.getLengthInBits(Ze.getMode(),Ne)),Ze.write(Oe)}var yt=0;for(xe=0;xe<We.length;xe++)yt+=We[xe].dataCount;if(Oe.getLengthInBits()<=8*yt)break}Y=Ne}Ce(!1,function(){for(var Wt=0,vt=0,qt=0;qt<8;qt+=1){Ce(!0,qt);var Nt=G.getLostPoint(ce);(0==qt||Wt>Nt)&&(Wt=Nt,vt=qt)}return vt}())},ce.createTableTag=function(Ne,We){Ne=Ne||2;var Oe="";Oe+='<table style="',Oe+=" border-width: 0px; border-style: none;",Oe+=" border-collapse: collapse;",Oe+=" padding: 0px; margin: "+(We=void 0===We?4*Ne:We)+"px;",Oe+='">',Oe+="<tbody>";for(var xe=0;xe<ce.getModuleCount();xe+=1){Oe+="<tr>";for(var Ze=0;Ze<ce.getModuleCount();Ze+=1)Oe+='<td style="',Oe+=" border-width: 0px; border-style: none;",Oe+=" border-collapse: collapse;",Oe+=" padding: 0px; margin: 0px;",Oe+=" width: "+Ne+"px;",Oe+=" height: "+Ne+"px;",Oe+=" background-color: ",Oe+=ce.isDark(xe,Ze)?"#000000":"#ffffff",Oe+=";",Oe+='"/>';Oe+="</tr>"}return(Oe+="</tbody>")+"</table>"},ce.createSvgTag=function(Ne,We,Oe,xe){var Ze={};"object"==typeof arguments[0]&&(Ne=(Ze=arguments[0]).cellSize,We=Ze.margin,Oe=Ze.alt,xe=Ze.title),Ne=Ne||2,We=void 0===We?4*Ne:We,(Oe="string"==typeof Oe?{text:Oe}:Oe||{}).text=Oe.text||null,Oe.id=Oe.text?Oe.id||"qrcode-description":null,(xe="string"==typeof xe?{text:xe}:xe||{}).text=xe.text||null,xe.id=xe.text?xe.id||"qrcode-title":null;var yt,Wt,vt,qt,Nt=ce.getModuleCount()*Ne+2*We,kt="";for(qt="l"+Ne+",0 0,"+Ne+" -"+Ne+",0 0,-"+Ne+"z ",kt+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',kt+=Ze.scalable?"":' width="'+Nt+'px" height="'+Nt+'px"',kt+=' viewBox="0 0 '+Nt+" "+Nt+'" ',kt+=' preserveAspectRatio="xMinYMin meet"',kt+=xe.text||Oe.text?' role="img" aria-labelledby="'+it([xe.id,Oe.id].join(" ").trim())+'"':"",kt+=">",kt+=xe.text?'<title id="'+it(xe.id)+'">'+it(xe.text)+"</title>":"",kt+=Oe.text?'<description id="'+it(Oe.id)+'">'+it(Oe.text)+"</description>":"",kt+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',kt+='<path d="',Wt=0;Wt<ce.getModuleCount();Wt+=1)for(vt=Wt*Ne+We,yt=0;yt<ce.getModuleCount();yt+=1)ce.isDark(Wt,yt)&&(kt+="M"+(yt*Ne+We)+","+vt+qt);return(kt+='" stroke="transparent" fill="black"/>')+"</svg>"},ce.createDataURL=function(Ne,We){Ne=Ne||2,We=void 0===We?4*Ne:We;var Oe=ce.getModuleCount()*Ne+2*We,xe=We,Ze=Oe-We;return He(Oe,Oe,function(yt,Wt){if(xe<=yt&&yt<Ze&&xe<=Wt&&Wt<Ze){var vt=Math.floor((yt-xe)/Ne),qt=Math.floor((Wt-xe)/Ne);return ce.isDark(qt,vt)?0:1}return 1})},ce.createImgTag=function(Ne,We,Oe){Ne=Ne||2,We=void 0===We?4*Ne:We;var xe=ce.getModuleCount()*Ne+2*We,Ze="";return Ze+="<img",Ze+=' src="',Ze+=ce.createDataURL(Ne,We),Ze+='"',Ze+=' width="',Ze+=xe,Ze+='"',Ze+=' height="',Ze+=xe,Ze+='"',Oe&&(Ze+=' alt="',Ze+=it(Oe),Ze+='"'),Ze+"/>"};var it=function(Ne){for(var We="",Oe=0;Oe<Ne.length;Oe+=1){var xe=Ne.charAt(Oe);switch(xe){case"<":We+="&lt;";break;case">":We+="&gt;";break;case"&":We+="&amp;";break;case'"':We+="&quot;";break;default:We+=xe}}return We};return ce.createASCII=function(Ne,We){if((Ne=Ne||1)<2)return function(Et){Et=void 0===Et?2:Et;var an,It,ln,Ht,bt,xt=1*ce.getModuleCount()+2*Et,Jt=Et,Yt=xt-Et,Ut={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},Rr={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},Xn="";for(an=0;an<xt;an+=2){for(ln=Math.floor((an-Jt)/1),Ht=Math.floor((an+1-Jt)/1),It=0;It<xt;It+=1)bt="\u2588",Jt<=It&&It<Yt&&Jt<=an&&an<Yt&&ce.isDark(ln,Math.floor((It-Jt)/1))&&(bt=" "),Jt<=It&&It<Yt&&Jt<=an+1&&an+1<Yt&&ce.isDark(Ht,Math.floor((It-Jt)/1))?bt+=" ":bt+="\u2588",Xn+=Et<1&&an+1>=Yt?Rr[bt]:Ut[bt];Xn+="\n"}return xt%2&&Et>0?Xn.substring(0,Xn.length-xt-1)+Array(xt+1).join("\u2580"):Xn.substring(0,Xn.length-1)}(We);Ne-=1,We=void 0===We?2*Ne:We;var Oe,xe,Ze,yt,Wt=ce.getModuleCount()*Ne+2*We,vt=We,qt=Wt-We,Nt=Array(Ne+1).join("\u2588\u2588"),kt=Array(Ne+1).join("  "),fn="",$t="";for(Oe=0;Oe<Wt;Oe+=1){for(Ze=Math.floor((Oe-vt)/Ne),$t="",xe=0;xe<Wt;xe+=1)yt=1,vt<=xe&&xe<qt&&vt<=Oe&&Oe<qt&&ce.isDark(Ze,Math.floor((xe-vt)/Ne))&&(yt=0),$t+=yt?Nt:kt;for(Ze=0;Ze<Ne;Ze+=1)fn+=$t+"\n"}return fn.substring(0,fn.length-1)},ce.renderTo2dContext=function(Ne,We){We=We||2;for(var Oe=ce.getModuleCount(),xe=0;xe<Oe;xe++)for(var Ze=0;Ze<Oe;Ze++)Ne.fillStyle=ce.isDark(xe,Ze)?"black":"white",Ne.fillRect(xe*We,Ze*We,We,We)},ce};j.stringToBytes=(j.stringToBytesFuncs={default:function(Be){for(var Me=[],Y=0;Y<Be.length;Y+=1){var z=Be.charCodeAt(Y);Me.push(255&z)}return Me}}).default,j.createStringToBytes=function(Be,Me){var Y=function(){for(var V=$e(Be),re=function(){var X=V.read();if(-1==X)throw"eof";return X},me=0,pe={};;){var ce=V.read();if(-1==ce)break;var Ce=re(),ae=re()<<8|re();pe[String.fromCharCode(ce<<8|Ce)]=ae,me+=1}if(me!=Me)throw me+" != "+Me;return pe}(),z="?".charCodeAt(0);return function(V){for(var re=[],me=0;me<V.length;me+=1){var pe=V.charCodeAt(me);if(pe<128)re.push(pe);else{var ce=Y[V.charAt(me)];"number"==typeof ce?(255&ce)==ce?re.push(ce):(re.push(ce>>>8),re.push(255&ce)):re.push(z)}}return re}};var F,D,E,y,M,W={L:1,M:0,Q:3,H:2},G=(F=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],D=1335,E=7973,M=function(Be){for(var Me=0;0!=Be;)Me+=1,Be>>>=1;return Me},(y={}).getBCHTypeInfo=function(Be){for(var Me=Be<<10;M(Me)-M(D)>=0;)Me^=D<<M(Me)-M(D);return 21522^(Be<<10|Me)},y.getBCHTypeNumber=function(Be){for(var Me=Be<<12;M(Me)-M(E)>=0;)Me^=E<<M(Me)-M(E);return Be<<12|Me},y.getPatternPosition=function(Be){return F[Be-1]},y.getMaskFunction=function(Be){switch(Be){case 0:return function(Me,Y){return(Me+Y)%2==0};case 1:return function(Me,Y){return Me%2==0};case 2:return function(Me,Y){return Y%3==0};case 3:return function(Me,Y){return(Me+Y)%3==0};case 4:return function(Me,Y){return(Math.floor(Me/2)+Math.floor(Y/3))%2==0};case 5:return function(Me,Y){return Me*Y%2+Me*Y%3==0};case 6:return function(Me,Y){return(Me*Y%2+Me*Y%3)%2==0};case 7:return function(Me,Y){return(Me*Y%3+(Me+Y)%2)%2==0};default:throw"bad maskPattern:"+Be}},y.getErrorCorrectPolynomial=function(Be){for(var Me=ne([1],0),Y=0;Y<Be;Y+=1)Me=Me.multiply(ne([1,Z.gexp(Y)],0));return Me},y.getLengthInBits=function(Be,Me){if(1<=Me&&Me<10)switch(Be){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+Be}else if(Me<27)switch(Be){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+Be}else{if(!(Me<41))throw"type:"+Me;switch(Be){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+Be}}},y.getLostPoint=function(Be){for(var Me=Be.getModuleCount(),Y=0,z=0;z<Me;z+=1)for(var V=0;V<Me;V+=1){for(var re=0,me=Be.isDark(z,V),pe=-1;pe<=1;pe+=1)if(!(z+pe<0||Me<=z+pe))for(var ce=-1;ce<=1;ce+=1)V+ce<0||Me<=V+ce||0==pe&&0==ce||me==Be.isDark(z+pe,V+ce)&&(re+=1);re>5&&(Y+=3+re-5)}for(z=0;z<Me-1;z+=1)for(V=0;V<Me-1;V+=1){var Ce=0;Be.isDark(z,V)&&(Ce+=1),Be.isDark(z+1,V)&&(Ce+=1),Be.isDark(z,V+1)&&(Ce+=1),Be.isDark(z+1,V+1)&&(Ce+=1),0!=Ce&&4!=Ce||(Y+=3)}for(z=0;z<Me;z+=1)for(V=0;V<Me-6;V+=1)Be.isDark(z,V)&&!Be.isDark(z,V+1)&&Be.isDark(z,V+2)&&Be.isDark(z,V+3)&&Be.isDark(z,V+4)&&!Be.isDark(z,V+5)&&Be.isDark(z,V+6)&&(Y+=40);for(V=0;V<Me;V+=1)for(z=0;z<Me-6;z+=1)Be.isDark(z,V)&&!Be.isDark(z+1,V)&&Be.isDark(z+2,V)&&Be.isDark(z+3,V)&&Be.isDark(z+4,V)&&!Be.isDark(z+5,V)&&Be.isDark(z+6,V)&&(Y+=40);var ae=0;for(V=0;V<Me;V+=1)for(z=0;z<Me;z+=1)Be.isDark(z,V)&&(ae+=1);return Y+Math.abs(100*ae/Me/Me-50)/5*10},y),Z=function(){for(var Be=new Array(256),Me=new Array(256),Y=0;Y<8;Y+=1)Be[Y]=1<<Y;for(Y=8;Y<256;Y+=1)Be[Y]=Be[Y-4]^Be[Y-5]^Be[Y-6]^Be[Y-8];for(Y=0;Y<255;Y+=1)Me[Be[Y]]=Y;return{glog:function(z){if(z<1)throw"glog("+z+")";return Me[z]},gexp:function(z){for(;z<0;)z+=255;for(;z>=256;)z-=255;return Be[z]}}}();function ne(Be,Me){if(void 0===Be.length)throw Be.length+"/"+Me;var Y=function(){for(var V=0;V<Be.length&&0==Be[V];)V+=1;for(var re=new Array(Be.length-V+Me),me=0;me<Be.length-V;me+=1)re[me]=Be[me+V];return re}(),z={getAt:function(V){return Y[V]},getLength:function(){return Y.length},multiply:function(V){for(var re=new Array(z.getLength()+V.getLength()-1),me=0;me<z.getLength();me+=1)for(var pe=0;pe<V.getLength();pe+=1)re[me+pe]^=Z.gexp(Z.glog(z.getAt(me))+Z.glog(V.getAt(pe)));return ne(re,0)},mod:function(V){if(z.getLength()-V.getLength()<0)return z;for(var re=Z.glog(z.getAt(0))-Z.glog(V.getAt(0)),me=new Array(z.getLength()),pe=0;pe<z.getLength();pe+=1)me[pe]=z.getAt(pe);for(pe=0;pe<V.getLength();pe+=1)me[pe]^=Z.gexp(Z.glog(V.getAt(pe))+re);return ne(me,0).mod(V)}};return z}var Be,Me,H=(Be=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Me=function(z,V){var re={};return re.totalCount=z,re.dataCount=V,re},{getRSBlocks:function(z,V){var re=function(Ae,je){switch(je){case W.L:return Be[4*(Ae-1)+0];case W.M:return Be[4*(Ae-1)+1];case W.Q:return Be[4*(Ae-1)+2];case W.H:return Be[4*(Ae-1)+3];default:return}}(z,V);if(void 0===re)throw"bad rs block @ typeNumber:"+z+"/errorCorrectionLevel:"+V;for(var me=re.length/3,pe=[],ce=0;ce<me;ce+=1)for(var Ce=re[3*ce+0],ae=re[3*ce+1],X=re[3*ce+2],Ee=0;Ee<Ce;Ee+=1)pe.push(Me(ae,X));return pe}}),te=function(){var Be=[],Me=0,Y={getBuffer:function(){return Be},getAt:function(z){var V=Math.floor(z/8);return 1==(Be[V]>>>7-z%8&1)},put:function(z,V){for(var re=0;re<V;re+=1)Y.putBit(1==(z>>>V-re-1&1))},getLengthInBits:function(){return Me},putBit:function(z){var V=Math.floor(Me/8);Be.length<=V&&Be.push(0),z&&(Be[V]|=128>>>Me%8),Me+=1}};return Y},De=function(Be){var Me=Be,Y={getMode:function(){return 1},getLength:function(re){return Me.length},write:function(re){for(var me=Me,pe=0;pe+2<me.length;)re.put(z(me.substring(pe,pe+3)),10),pe+=3;pe<me.length&&(me.length-pe==1?re.put(z(me.substring(pe,pe+1)),4):me.length-pe==2&&re.put(z(me.substring(pe,pe+2)),7))}},z=function(re){for(var me=0,pe=0;pe<re.length;pe+=1)me=10*me+V(re.charAt(pe));return me},V=function(re){if("0"<=re&&re<="9")return re.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+re};return Y},ve=function(Be){var Me=Be,Y={getMode:function(){return 2},getLength:function(V){return Me.length},write:function(V){for(var re=Me,me=0;me+1<re.length;)V.put(45*z(re.charAt(me))+z(re.charAt(me+1)),11),me+=2;me<re.length&&V.put(z(re.charAt(me)),6)}},z=function(V){if("0"<=V&&V<="9")return V.charCodeAt(0)-"0".charCodeAt(0);if("A"<=V&&V<="Z")return V.charCodeAt(0)-"A".charCodeAt(0)+10;switch(V){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+V}};return Y},Te=function(Be){var Me=j.stringToBytes(Be);return{getMode:function(){return 4},getLength:function(Y){return Me.length},write:function(Y){for(var z=0;z<Me.length;z+=1)Y.put(Me[z],8)}}},_e=function(Be){var Me=j.stringToBytesFuncs.SJIS;if(!Me)throw"sjis not supported.";!function(){var V=Me("\u53cb");if(2!=V.length||38726!=(V[0]<<8|V[1]))throw"sjis not supported."}();var Y=Me(Be);return{getMode:function(){return 8},getLength:function(V){return~~(Y.length/2)},write:function(V){for(var re=Y,me=0;me+1<re.length;){var pe=(255&re[me])<<8|255&re[me+1];if(33088<=pe&&pe<=40956)pe-=33088;else{if(!(57408<=pe&&pe<=60351))throw"illegal char at "+(me+1)+"/"+pe;pe-=49472}V.put(pe=192*(pe>>>8&255)+(255&pe),13),me+=2}if(me<re.length)throw"illegal char at "+(me+1)}}},ue=function(){var Be=[],Me={writeByte:function(Y){Be.push(255&Y)},writeShort:function(Y){Me.writeByte(Y),Me.writeByte(Y>>>8)},writeBytes:function(Y,z,V){z=z||0,V=V||Y.length;for(var re=0;re<V;re+=1)Me.writeByte(Y[re+z])},writeString:function(Y){for(var z=0;z<Y.length;z+=1)Me.writeByte(Y.charCodeAt(z))},toByteArray:function(){return Be},toString:function(){var Y="";Y+="[";for(var z=0;z<Be.length;z+=1)z>0&&(Y+=","),Y+=Be[z];return Y+"]"}};return Me},$e=function(Be){var Me=Be,Y=0,z=0,V=0,re={read:function(){for(;V<8;){if(Y>=Me.length){if(0==V)return-1;throw"unexpected end of file./"+V}var pe=Me.charAt(Y);if(Y+=1,"="==pe)return V=0,-1;pe.match(/^\s$/)||(z=z<<6|me(pe.charCodeAt(0)),V+=6)}var ce=z>>>V-8&255;return V-=8,ce}},me=function(pe){if(65<=pe&&pe<=90)return pe-65;if(97<=pe&&pe<=122)return pe-97+26;if(48<=pe&&pe<=57)return pe-48+52;if(43==pe)return 62;if(47==pe)return 63;throw"c:"+pe};return re},He=function(Be,Me,Y){for(var z=function(ae,X){var Ee=ae,Ae=X,je=new Array(ae*X),Ke={setPixel:function(Ne,We,Oe){je[We*Ee+Ne]=Oe},write:function(Ne){Ne.writeString("GIF87a"),Ne.writeShort(Ee),Ne.writeShort(Ae),Ne.writeByte(128),Ne.writeByte(0),Ne.writeByte(0),Ne.writeByte(0),Ne.writeByte(0),Ne.writeByte(0),Ne.writeByte(255),Ne.writeByte(255),Ne.writeByte(255),Ne.writeString(","),Ne.writeShort(0),Ne.writeShort(0),Ne.writeShort(Ee),Ne.writeShort(Ae),Ne.writeByte(0);var We=ut(2);Ne.writeByte(2);for(var Oe=0;We.length-Oe>255;)Ne.writeByte(255),Ne.writeBytes(We,Oe,255),Oe+=255;Ne.writeByte(We.length-Oe),Ne.writeBytes(We,Oe,We.length-Oe),Ne.writeByte(0),Ne.writeString(";")}},ut=function(Ne){for(var We=1<<Ne,Oe=1+(1<<Ne),xe=Ne+1,Ze=it(),yt=0;yt<We;yt+=1)Ze.add(String.fromCharCode(yt));Ze.add(String.fromCharCode(We)),Ze.add(String.fromCharCode(Oe));var Wt,vt,qt,Nt=ue(),kt=(Wt=Nt,vt=0,qt=0,{write:function(an,It){if(an>>>It)throw"length over";for(;vt+It>=8;)Wt.writeByte(255&(an<<vt|qt)),It-=8-vt,an>>>=8-vt,qt=0,vt=0;qt|=an<<vt,vt+=It},flush:function(){vt>0&&Wt.writeByte(qt)}});kt.write(We,xe);var fn=0,$t=String.fromCharCode(je[fn]);for(fn+=1;fn<je.length;){var Et=String.fromCharCode(je[fn]);fn+=1,Ze.contains($t+Et)?$t+=Et:(kt.write(Ze.indexOf($t),xe),Ze.size()<4095&&(Ze.size()==1<<xe&&(xe+=1),Ze.add($t+Et)),$t=Et)}return kt.write(Ze.indexOf($t),xe),kt.write(Oe,xe),kt.flush(),Nt.toByteArray()},it=function(){var Ne={},We=0,Oe={add:function(xe){if(Oe.contains(xe))throw"dup key:"+xe;Ne[xe]=We,We+=1},size:function(){return We},indexOf:function(xe){return Ne[xe]},contains:function(xe){return void 0!==Ne[xe]}};return Oe};return Ke}(Be,Me),V=0;V<Me;V+=1)for(var re=0;re<Be;re+=1)z.setPixel(re,V,Y(re,V));var me=ue();z.write(me);for(var pe=function(){var ae=0,X=0,Ee=0,Ae="",je={},Ke=function(it){Ae+=String.fromCharCode(ut(63&it))},ut=function(it){if(!(it<0)){if(it<26)return 65+it;if(it<52)return it-26+97;if(it<62)return it-52+48;if(62==it)return 43;if(63==it)return 47}throw"n:"+it};return je.writeByte=function(it){for(ae=ae<<8|255&it,X+=8,Ee+=1;X>=6;)Ke(ae>>>X-6),X-=6},je.flush=function(){if(X>0&&(Ke(ae<<6-X),ae=0,X=0),Ee%3!=0)for(var it=3-Ee%3,Ne=0;Ne<it;Ne+=1)Ae+="="},je.toString=function(){return Ae},je}(),ce=me.toByteArray(),Ce=0;Ce<ce.length;Ce+=1)pe.writeByte(ce[Ce]);return pe.flush(),"data:image/gif;base64,"+pe};return j}();U.stringToBytesFuncs["UTF-8"]=function(j){return function(F){for(var D=[],E=0;E<F.length;E++){var y=F.charCodeAt(E);y<128?D.push(y):y<2048?D.push(192|y>>6,128|63&y):y<55296||y>=57344?D.push(224|y>>12,128|y>>6&63,128|63&y):(E++,y=65536+((1023&y)<<10|1023&F.charCodeAt(E)),D.push(240|y>>18,128|y>>12&63,128|y>>6&63,128|63&y))}return D}(j)},void 0===(k="function"==typeof(T=function(){return U})?T.apply(A,[]):T)||(b.exports=k)}},w={};function _(b){var A=w[b];if(void 0!==A)return A.exports;var T=w[b]={exports:{}};return p[b](T,T.exports,_),T.exports}_.n=b=>{var A=b&&b.__esModule?()=>b.default:()=>b;return _.d(A,{a:A}),A},_.d=(b,A)=>{for(var T in A)_.o(A,T)&&!_.o(b,T)&&Object.defineProperty(b,T,{enumerable:!0,get:A[T]})},_.o=(b,A)=>Object.prototype.hasOwnProperty.call(b,A);var g={};return(()=>{"use strict";_.d(g,{default:()=>Me});const b=Y=>!!Y&&"object"==typeof Y&&!Array.isArray(Y);function A(Y,...z){if(!z.length)return Y;const V=z.shift();return void 0!==V&&b(Y)&&b(V)?(Y=Object.assign({},Y),Object.keys(V).forEach(re=>{const me=Y[re],pe=V[re];Y[re]=Array.isArray(me)&&Array.isArray(pe)?pe:b(me)&&b(pe)?A(Object.assign({},me),pe):pe}),A(Y,...z)):Y}function T(Y,z){const V=document.createElement("a");V.download=z,V.href=Y,document.body.appendChild(V),V.click(),document.body.removeChild(V)}const k={L:.07,M:.15,Q:.25,H:.3};class U{constructor({svg:z,type:V,window:re}){this._svg=z,this._type=V,this._window=re}draw(z,V,re,me){let pe;switch(this._type){case"dots":pe=this._drawDot;break;case"classy":pe=this._drawClassy;break;case"classy-rounded":pe=this._drawClassyRounded;break;case"rounded":pe=this._drawRounded;break;case"extra-rounded":pe=this._drawExtraRounded;break;default:pe=this._drawSquare}pe.call(this,{x:z,y:V,size:re,getNeighbor:me})}_rotateFigure({x:z,y:V,size:re,rotation:me=0,draw:pe}){var ce;const Ce=z+re/2,ae=V+re/2;pe(),null===(ce=this._element)||void 0===ce||ce.setAttribute("transform",`rotate(${180*me/Math.PI},${Ce},${ae})`)}_basicDot(z){const{size:V,x:re,y:me}=z;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(re+V/2)),this._element.setAttribute("cy",String(me+V/2)),this._element.setAttribute("r",String(V/2))}}))}_basicSquare(z){const{size:V,x:re,y:me}=z;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(re)),this._element.setAttribute("y",String(me)),this._element.setAttribute("width",String(V)),this._element.setAttribute("height",String(V))}}))}_basicSideRounded(z){const{size:V,x:re,y:me}=z;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${re} ${me}v ${V}h `+V/2+`a ${V/2} ${V/2}, 0, 0, 0, 0 ${-V}`)}}))}_basicCornerRounded(z){const{size:V,x:re,y:me}=z;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${re} ${me}v ${V}h ${V}v `+-V/2+`a ${V/2} ${V/2}, 0, 0, 0, ${-V/2} ${-V/2}`)}}))}_basicCornerExtraRounded(z){const{size:V,x:re,y:me}=z;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${re} ${me}v ${V}h ${V}a ${V} ${V}, 0, 0, 0, ${-V} ${-V}`)}}))}_basicCornersRounded(z){const{size:V,x:re,y:me}=z;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${re} ${me}v `+V/2+`a ${V/2} ${V/2}, 0, 0, 0, ${V/2} ${V/2}h `+V/2+"v "+-V/2+`a ${V/2} ${V/2}, 0, 0, 0, ${-V/2} ${-V/2}`)}}))}_drawDot({x:z,y:V,size:re}){this._basicDot({x:z,y:V,size:re,rotation:0})}_drawSquare({x:z,y:V,size:re}){this._basicSquare({x:z,y:V,size:re,rotation:0})}_drawRounded({x:z,y:V,size:re,getNeighbor:me}){const pe=me?+me(-1,0):0,ce=me?+me(1,0):0,Ce=me?+me(0,-1):0,ae=me?+me(0,1):0,X=pe+ce+Ce+ae;if(0!==X)if(X>2||pe&&ce||Ce&&ae)this._basicSquare({x:z,y:V,size:re,rotation:0});else{if(2===X){let Ee=0;return pe&&Ce?Ee=Math.PI/2:Ce&&ce?Ee=Math.PI:ce&&ae&&(Ee=-Math.PI/2),void this._basicCornerRounded({x:z,y:V,size:re,rotation:Ee})}if(1===X){let Ee=0;return Ce?Ee=Math.PI/2:ce?Ee=Math.PI:ae&&(Ee=-Math.PI/2),void this._basicSideRounded({x:z,y:V,size:re,rotation:Ee})}}else this._basicDot({x:z,y:V,size:re,rotation:0})}_drawExtraRounded({x:z,y:V,size:re,getNeighbor:me}){const pe=me?+me(-1,0):0,ce=me?+me(1,0):0,Ce=me?+me(0,-1):0,ae=me?+me(0,1):0,X=pe+ce+Ce+ae;if(0!==X)if(X>2||pe&&ce||Ce&&ae)this._basicSquare({x:z,y:V,size:re,rotation:0});else{if(2===X){let Ee=0;return pe&&Ce?Ee=Math.PI/2:Ce&&ce?Ee=Math.PI:ce&&ae&&(Ee=-Math.PI/2),void this._basicCornerExtraRounded({x:z,y:V,size:re,rotation:Ee})}if(1===X){let Ee=0;return Ce?Ee=Math.PI/2:ce?Ee=Math.PI:ae&&(Ee=-Math.PI/2),void this._basicSideRounded({x:z,y:V,size:re,rotation:Ee})}}else this._basicDot({x:z,y:V,size:re,rotation:0})}_drawClassy({x:z,y:V,size:re,getNeighbor:me}){const pe=me?+me(-1,0):0,ce=me?+me(1,0):0,Ce=me?+me(0,-1):0,ae=me?+me(0,1):0;pe+ce+Ce+ae!==0?pe||Ce?ce||ae?this._basicSquare({x:z,y:V,size:re,rotation:0}):this._basicCornerRounded({x:z,y:V,size:re,rotation:Math.PI/2}):this._basicCornerRounded({x:z,y:V,size:re,rotation:-Math.PI/2}):this._basicCornersRounded({x:z,y:V,size:re,rotation:Math.PI/2})}_drawClassyRounded({x:z,y:V,size:re,getNeighbor:me}){const pe=me?+me(-1,0):0,ce=me?+me(1,0):0,Ce=me?+me(0,-1):0,ae=me?+me(0,1):0;pe+ce+Ce+ae!==0?pe||Ce?ce||ae?this._basicSquare({x:z,y:V,size:re,rotation:0}):this._basicCornerExtraRounded({x:z,y:V,size:re,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:z,y:V,size:re,rotation:-Math.PI/2}):this._basicCornersRounded({x:z,y:V,size:re,rotation:Math.PI/2})}}const j={dot:"dot",square:"square",extraRounded:"extra-rounded"},F=Object.values(j);class D{constructor({svg:z,type:V,window:re}){this._svg=z,this._type=V,this._window=re}draw(z,V,re,me){let pe;switch(this._type){case j.square:pe=this._drawSquare;break;case j.extraRounded:pe=this._drawExtraRounded;break;default:pe=this._drawDot}pe.call(this,{x:z,y:V,size:re,rotation:me})}_rotateFigure({x:z,y:V,size:re,rotation:me=0,draw:pe}){var ce;const Ce=z+re/2,ae=V+re/2;pe(),null===(ce=this._element)||void 0===ce||ce.setAttribute("transform",`rotate(${180*me/Math.PI},${Ce},${ae})`)}_basicDot(z){const{size:V,x:re,y:me}=z,pe=V/7;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${re+V/2} ${me}a ${V/2} ${V/2} 0 1 0 0.1 0zm 0 ${pe}a ${V/2-pe} ${V/2-pe} 0 1 1 -0.1 0Z`)}}))}_basicSquare(z){const{size:V,x:re,y:me}=z,pe=V/7;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${re} ${me}v ${V}h ${V}v `+-V+`zM ${re+pe} ${me+pe}h `+(V-2*pe)+"v "+(V-2*pe)+"h "+(2*pe-V)+"z")}}))}_basicExtraRounded(z){const{size:V,x:re,y:me}=z,pe=V/7;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${re} ${me+2.5*pe}v `+2*pe+`a ${2.5*pe} ${2.5*pe}, 0, 0, 0, ${2.5*pe} ${2.5*pe}h `+2*pe+`a ${2.5*pe} ${2.5*pe}, 0, 0, 0, ${2.5*pe} ${2.5*-pe}v `+-2*pe+`a ${2.5*pe} ${2.5*pe}, 0, 0, 0, ${2.5*-pe} ${2.5*-pe}h `+-2*pe+`a ${2.5*pe} ${2.5*pe}, 0, 0, 0, ${2.5*-pe} ${2.5*pe}M ${re+2.5*pe} ${me+pe}h `+2*pe+`a ${1.5*pe} ${1.5*pe}, 0, 0, 1, ${1.5*pe} ${1.5*pe}v `+2*pe+`a ${1.5*pe} ${1.5*pe}, 0, 0, 1, ${1.5*-pe} ${1.5*pe}h `+-2*pe+`a ${1.5*pe} ${1.5*pe}, 0, 0, 1, ${1.5*-pe} ${1.5*-pe}v `+-2*pe+`a ${1.5*pe} ${1.5*pe}, 0, 0, 1, ${1.5*pe} ${1.5*-pe}`)}}))}_drawDot({x:z,y:V,size:re,rotation:me}){this._basicDot({x:z,y:V,size:re,rotation:me})}_drawSquare({x:z,y:V,size:re,rotation:me}){this._basicSquare({x:z,y:V,size:re,rotation:me})}_drawExtraRounded({x:z,y:V,size:re,rotation:me}){this._basicExtraRounded({x:z,y:V,size:re,rotation:me})}}const E={dot:"dot",square:"square"},y=Object.values(E);class M{constructor({svg:z,type:V,window:re}){this._svg=z,this._type=V,this._window=re}draw(z,V,re,me){let pe;pe=this._type===E.square?this._drawSquare:this._drawDot,pe.call(this,{x:z,y:V,size:re,rotation:me})}_rotateFigure({x:z,y:V,size:re,rotation:me=0,draw:pe}){var ce;const Ce=z+re/2,ae=V+re/2;pe(),null===(ce=this._element)||void 0===ce||ce.setAttribute("transform",`rotate(${180*me/Math.PI},${Ce},${ae})`)}_basicDot(z){const{size:V,x:re,y:me}=z;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(re+V/2)),this._element.setAttribute("cy",String(me+V/2)),this._element.setAttribute("r",String(V/2))}}))}_basicSquare(z){const{size:V,x:re,y:me}=z;this._rotateFigure(Object.assign(Object.assign({},z),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(re)),this._element.setAttribute("y",String(me)),this._element.setAttribute("width",String(V)),this._element.setAttribute("height",String(V))}}))}_drawDot({x:z,y:V,size:re,rotation:me}){this._basicDot({x:z,y:V,size:re,rotation:me})}_drawSquare({x:z,y:V,size:re,rotation:me}){this._basicSquare({x:z,y:V,size:re,rotation:me})}}const W="circle",G=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Z=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],H=(()=>{class Y{constructor(V,re){this._roundSize=me=>this._options.dotsOptions.roundSize?Math.floor(me):me,this._window=re,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(V.width)),this._element.setAttribute("height",String(V.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),V.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${V.width} ${V.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=V.image,this._instanceId=Y.instanceCount++,this._options=V}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}drawQR(V){var re=this;return d(function*(){const me=V.getModuleCount(),pe=Math.min(re._options.width,re._options.height)-2*re._options.margin,ce=re._options.shape===W?pe/Math.sqrt(2):pe,Ce=re._roundSize(ce/me);let ae={hideXDots:0,hideYDots:0,width:0,height:0};if(re._qr=V,re._options.image){if(yield re.loadImage(),!re._image)return;const{imageOptions:X,qrOptions:Ee}=re._options,je=Math.floor(X.imageSize*k[Ee.errorCorrectionLevel]*me*me);ae=function({originalHeight:Ke,originalWidth:ut,maxHiddenDots:it,maxHiddenAxisDots:Ne,dotSize:We}){const Oe={x:0,y:0},xe={x:0,y:0};if(Ke<=0||ut<=0||it<=0||We<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const Ze=Ke/ut;return Oe.x=Math.floor(Math.sqrt(it/Ze)),Oe.x<=0&&(Oe.x=1),Ne&&Ne<Oe.x&&(Oe.x=Ne),Oe.x%2==0&&Oe.x--,xe.x=Oe.x*We,Oe.y=1+2*Math.ceil((Oe.x*Ze-1)/2),xe.y=Math.round(xe.x*Ze),(Oe.y*Oe.x>it||Ne&&Ne<Oe.y)&&(Ne&&Ne<Oe.y?(Oe.y=Ne,Oe.y%2==0&&Oe.x--):Oe.y-=2,xe.y=Oe.y*We,Oe.x=1+2*Math.ceil((Oe.y/Ze-1)/2),xe.x=Math.round(xe.y/Ze)),{height:xe.y,width:xe.x,hideYDots:Oe.y,hideXDots:Oe.x}}({originalWidth:re._image.width,originalHeight:re._image.height,maxHiddenDots:je,maxHiddenAxisDots:me-14,dotSize:Ce})}re.drawBackground(),re.drawDots((X,Ee)=>{var Ae,je,Ke,ut,it,Ne;return!(re._options.imageOptions.hideBackgroundDots&&X>=(me-ae.hideYDots)/2&&X<(me+ae.hideYDots)/2&&Ee>=(me-ae.hideXDots)/2&&Ee<(me+ae.hideXDots)/2||null!==(Ae=G[X])&&void 0!==Ae&&Ae[Ee]||null!==(je=G[X-me+7])&&void 0!==je&&je[Ee]||null!==(Ke=G[X])&&void 0!==Ke&&Ke[Ee-me+7]||null!==(ut=Z[X])&&void 0!==ut&&ut[Ee]||null!==(it=Z[X-me+7])&&void 0!==it&&it[Ee]||null!==(Ne=Z[X])&&void 0!==Ne&&Ne[Ee-me+7])}),re.drawCorners(),re._options.image&&(yield re.drawImage({width:ae.width,height:ae.height,count:me,dotSize:Ce}))})()}drawBackground(){var V,re,me;const ce=this._options;if(this._element){const Ce=null===(V=ce.backgroundOptions)||void 0===V?void 0:V.gradient,ae=null===(re=ce.backgroundOptions)||void 0===re?void 0:re.color;let X=ce.height,Ee=ce.width;if(Ce||ae){const Ae=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!(null===(me=ce.backgroundOptions)||void 0===me)&&me.round&&(X=Ee=Math.min(ce.width,ce.height),Ae.setAttribute("rx",String(X/2*ce.backgroundOptions.round))),Ae.setAttribute("x",String(this._roundSize((ce.width-Ee)/2))),Ae.setAttribute("y",String(this._roundSize((ce.height-X)/2))),Ae.setAttribute("width",String(Ee)),Ae.setAttribute("height",String(X)),this._backgroundClipPath.appendChild(Ae),this._createColor({options:Ce,color:ae,additionalRotation:0,x:0,y:0,height:ce.height,width:ce.width,name:`background-color-${this._instanceId}`})}}}drawDots(V){var re,me;if(!this._qr)throw"QR code is not defined";const pe=this._options,ce=this._qr.getModuleCount();if(ce>pe.width||ce>pe.height)throw"The canvas is too small.";const Ce=Math.min(pe.width,pe.height)-2*pe.margin,ae=pe.shape===W?Ce/Math.sqrt(2):Ce,X=this._roundSize(ae/ce),Ee=this._roundSize((pe.width-ce*X)/2),Ae=this._roundSize((pe.height-ce*X)/2),je=new U({svg:this._element,type:pe.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(re=pe.dotsOptions)||void 0===re?void 0:re.gradient,color:pe.dotsOptions.color,additionalRotation:0,x:0,y:0,height:pe.height,width:pe.width,name:`dot-color-${this._instanceId}`});for(let Ke=0;Ke<ce;Ke++)for(let ut=0;ut<ce;ut++)V&&!V(Ke,ut)||null!==(me=this._qr)&&void 0!==me&&me.isDark(Ke,ut)&&(je.draw(Ee+ut*X,Ae+Ke*X,X,(it,Ne)=>!(ut+it<0||Ke+Ne<0||ut+it>=ce||Ke+Ne>=ce)&&!(V&&!V(Ke+Ne,ut+it))&&!!this._qr&&this._qr.isDark(Ke+Ne,ut+it)),je._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(je._element));if(pe.shape===W){const Ke=this._roundSize((Ce/X-ce)/2),ut=ce+2*Ke,it=Ee-Ke*X,Ne=Ae-Ke*X,We=[],Oe=this._roundSize(ut/2);for(let xe=0;xe<ut;xe++){We[xe]=[];for(let Ze=0;Ze<ut;Ze++)We[xe][Ze]=xe>=Ke-1&&xe<=ut-Ke&&Ze>=Ke-1&&Ze<=ut-Ke||Math.sqrt((xe-Oe)*(xe-Oe)+(Ze-Oe)*(Ze-Oe))>Oe?0:this._qr.isDark(Ze-2*Ke<0?Ze:Ze>=ce?Ze-2*Ke:Ze-Ke,xe-2*Ke<0?xe:xe>=ce?xe-2*Ke:xe-Ke)?1:0}for(let xe=0;xe<ut;xe++)for(let Ze=0;Ze<ut;Ze++)We[xe][Ze]&&(je.draw(it+Ze*X,Ne+xe*X,X,(yt,Wt)=>{var vt;return!(null===(vt=We[xe+Wt])||void 0===vt||!vt[Ze+yt])}),je._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(je._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const re=this._options;if(!this._element)throw"Element code is not defined";const me=this._qr.getModuleCount(),pe=Math.min(re.width,re.height)-2*re.margin,ce=re.shape===W?pe/Math.sqrt(2):pe,Ce=this._roundSize(ce/me),ae=7*Ce,X=3*Ce,Ee=this._roundSize((re.width-me*Ce)/2),Ae=this._roundSize((re.height-me*Ce)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([je,Ke,ut])=>{var it,Ne,We,Oe,xe,Ze,yt,Wt,vt,qt,Nt,kt,fn,$t;const Et=Ee+je*Ce*(me-7),an=Ae+Ke*Ce*(me-7);let It=this._dotsClipPath,ln=this._dotsClipPath;if((!(null===(it=re.cornersSquareOptions)||void 0===it)&&it.gradient||!(null===(Ne=re.cornersSquareOptions)||void 0===Ne)&&Ne.color)&&(It=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),It.setAttribute("id",`clip-path-corners-square-color-${je}-${Ke}-${this._instanceId}`),this._defs.appendChild(It),this._cornersSquareClipPath=this._cornersDotClipPath=ln=It,this._createColor({options:null===(We=re.cornersSquareOptions)||void 0===We?void 0:We.gradient,color:null===(Oe=re.cornersSquareOptions)||void 0===Oe?void 0:Oe.color,additionalRotation:ut,x:Et,y:an,height:ae,width:ae,name:`corners-square-color-${je}-${Ke}-${this._instanceId}`})),(null===(xe=re.cornersSquareOptions)||void 0===xe?void 0:xe.type)&&F.includes(re.cornersSquareOptions.type)){const Ht=new D({svg:this._element,type:re.cornersSquareOptions.type,window:this._window});Ht.draw(Et,an,ae,ut),Ht._element&&It&&It.appendChild(Ht._element)}else{const Ht=new U({svg:this._element,type:(null===(Ze=re.cornersSquareOptions)||void 0===Ze?void 0:Ze.type)||re.dotsOptions.type,window:this._window});for(let bt=0;bt<G.length;bt++)for(let xt=0;xt<G[bt].length;xt++)null!==(yt=G[bt])&&void 0!==yt&&yt[xt]&&(Ht.draw(Et+xt*Ce,an+bt*Ce,Ce,(Jt,Yt)=>{var Ut;return!(null===(Ut=G[bt+Yt])||void 0===Ut||!Ut[xt+Jt])}),Ht._element&&It&&It.appendChild(Ht._element))}if((!(null===(Wt=re.cornersDotOptions)||void 0===Wt)&&Wt.gradient||!(null===(vt=re.cornersDotOptions)||void 0===vt)&&vt.color)&&(ln=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),ln.setAttribute("id",`clip-path-corners-dot-color-${je}-${Ke}-${this._instanceId}`),this._defs.appendChild(ln),this._cornersDotClipPath=ln,this._createColor({options:null===(qt=re.cornersDotOptions)||void 0===qt?void 0:qt.gradient,color:null===(Nt=re.cornersDotOptions)||void 0===Nt?void 0:Nt.color,additionalRotation:ut,x:Et+2*Ce,y:an+2*Ce,height:X,width:X,name:`corners-dot-color-${je}-${Ke}-${this._instanceId}`})),(null===(kt=re.cornersDotOptions)||void 0===kt?void 0:kt.type)&&y.includes(re.cornersDotOptions.type)){const Ht=new M({svg:this._element,type:re.cornersDotOptions.type,window:this._window});Ht.draw(Et+2*Ce,an+2*Ce,X,ut),Ht._element&&ln&&ln.appendChild(Ht._element)}else{const Ht=new U({svg:this._element,type:(null===(fn=re.cornersDotOptions)||void 0===fn?void 0:fn.type)||re.dotsOptions.type,window:this._window});for(let bt=0;bt<Z.length;bt++)for(let xt=0;xt<Z[bt].length;xt++)null!==($t=Z[bt])&&void 0!==$t&&$t[xt]&&(Ht.draw(Et+xt*Ce,an+bt*Ce,Ce,(Jt,Yt)=>{var Ut;return!(null===(Ut=Z[bt+Yt])||void 0===Ut||!Ut[xt+Jt])}),Ht._element&&ln&&ln.appendChild(Ht._element))}})}loadImage(){var V=this;return new Promise((re,me)=>{var pe;const ce=this._options;if(!ce.image)return me("Image is not defined");if(null!==(pe=ce.nodeCanvas)&&void 0!==pe&&pe.loadImage)ce.nodeCanvas.loadImage(ce.image).then(Ce=>{var ae,X;if(this._image=Ce,this._options.imageOptions.saveAsBlob){const Ee=null===(ae=ce.nodeCanvas)||void 0===ae?void 0:ae.createCanvas(this._image.width,this._image.height);null===(X=Ee?.getContext("2d"))||void 0===X||X.drawImage(Ce,0,0),this._imageUri=Ee?.toDataURL()}re()}).catch(me);else{const Ce=new this._window.Image;"string"==typeof ce.imageOptions.crossOrigin&&(Ce.crossOrigin=ce.imageOptions.crossOrigin),this._image=Ce,Ce.onload=d(function*(){var ae;V._options.imageOptions.saveAsBlob&&(V._imageUri=yield(ae=d(function*(X,Ee){return new Promise(Ae=>{const je=new Ee.XMLHttpRequest;je.onload=function(){const Ke=new Ee.FileReader;Ke.onloadend=function(){Ae(Ke.result)},Ke.readAsDataURL(je.response)},je.open("GET",X),je.responseType="blob",je.send()})}),function(X,Ee){return ae.apply(this,arguments)})(ce.image||"",V._window)),re()}),Ce.src=ce.image}})}drawImage({width:V,height:re,count:me,dotSize:pe}){var ce=this;return d(function*(){const Ce=ce._options,ae=ce._roundSize((Ce.width-me*pe)/2),X=ce._roundSize((Ce.height-me*pe)/2),Ee=ae+ce._roundSize(Ce.imageOptions.margin+(me*pe-V)/2),Ae=X+ce._roundSize(Ce.imageOptions.margin+(me*pe-re)/2),je=V-2*Ce.imageOptions.margin,Ke=re-2*Ce.imageOptions.margin,ut=ce._window.document.createElementNS("http://www.w3.org/2000/svg","image");ut.setAttribute("href",ce._imageUri||""),ut.setAttribute("x",String(Ee)),ut.setAttribute("y",String(Ae)),ut.setAttribute("width",`${je}px`),ut.setAttribute("height",`${Ke}px`),ce._element.appendChild(ut)})()}_createColor({options:V,color:re,additionalRotation:me,x:pe,y:ce,height:Ce,width:ae,name:X}){const Ee=ae>Ce?ae:Ce,Ae=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(Ae.setAttribute("x",String(pe)),Ae.setAttribute("y",String(ce)),Ae.setAttribute("height",String(Ce)),Ae.setAttribute("width",String(ae)),Ae.setAttribute("clip-path",`url('#clip-path-${X}')`),V){let je;if("radial"===V.type)je=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),je.setAttribute("id",X),je.setAttribute("gradientUnits","userSpaceOnUse"),je.setAttribute("fx",String(pe+ae/2)),je.setAttribute("fy",String(ce+Ce/2)),je.setAttribute("cx",String(pe+ae/2)),je.setAttribute("cy",String(ce+Ce/2)),je.setAttribute("r",String(Ee/2));else{const Ke=((V.rotation||0)+me)%(2*Math.PI),ut=(Ke+2*Math.PI)%(2*Math.PI);let it=pe+ae/2,Ne=ce+Ce/2,We=pe+ae/2,Oe=ce+Ce/2;ut>=0&&ut<=.25*Math.PI||ut>1.75*Math.PI&&ut<=2*Math.PI?(it-=ae/2,Ne-=Ce/2*Math.tan(Ke),We+=ae/2,Oe+=Ce/2*Math.tan(Ke)):ut>.25*Math.PI&&ut<=.75*Math.PI?(Ne-=Ce/2,it-=ae/2/Math.tan(Ke),Oe+=Ce/2,We+=ae/2/Math.tan(Ke)):ut>.75*Math.PI&&ut<=1.25*Math.PI?(it+=ae/2,Ne+=Ce/2*Math.tan(Ke),We-=ae/2,Oe-=Ce/2*Math.tan(Ke)):ut>1.25*Math.PI&&ut<=1.75*Math.PI&&(Ne+=Ce/2,it+=ae/2/Math.tan(Ke),Oe-=Ce/2,We-=ae/2/Math.tan(Ke)),je=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),je.setAttribute("id",X),je.setAttribute("gradientUnits","userSpaceOnUse"),je.setAttribute("x1",String(Math.round(it))),je.setAttribute("y1",String(Math.round(Ne))),je.setAttribute("x2",String(Math.round(We))),je.setAttribute("y2",String(Math.round(Oe)))}V.colorStops.forEach(({offset:Ke,color:ut})=>{const it=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");it.setAttribute("offset",100*Ke+"%"),it.setAttribute("stop-color",ut),je.appendChild(it)}),Ae.setAttribute("fill",`url('#${X}')`),this._defs.appendChild(je)}else re&&Ae.setAttribute("fill",re);this._element.appendChild(Ae)}}return Y.instanceCount=0,Y})(),te="canvas",De={};for(let Y=0;Y<=40;Y++)De[Y]=Y;const ve={type:te,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:De[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function Te(Y){const z=Object.assign({},Y);if(!z.colorStops||!z.colorStops.length)throw"Field 'colorStops' is required in gradient";return z.rotation=z.rotation?Number(z.rotation):0,z.colorStops=z.colorStops.map(V=>Object.assign(Object.assign({},V),{offset:Number(V.offset)})),z}function _e(Y){const z=Object.assign({},Y);return z.width=Number(z.width),z.height=Number(z.height),z.margin=Number(z.margin),z.imageOptions=Object.assign(Object.assign({},z.imageOptions),{hideBackgroundDots:!!z.imageOptions.hideBackgroundDots,imageSize:Number(z.imageOptions.imageSize),margin:Number(z.imageOptions.margin)}),z.margin>Math.min(z.width,z.height)&&(z.margin=Math.min(z.width,z.height)),z.dotsOptions=Object.assign({},z.dotsOptions),z.dotsOptions.gradient&&(z.dotsOptions.gradient=Te(z.dotsOptions.gradient)),z.cornersSquareOptions&&(z.cornersSquareOptions=Object.assign({},z.cornersSquareOptions),z.cornersSquareOptions.gradient&&(z.cornersSquareOptions.gradient=Te(z.cornersSquareOptions.gradient))),z.cornersDotOptions&&(z.cornersDotOptions=Object.assign({},z.cornersDotOptions),z.cornersDotOptions.gradient&&(z.cornersDotOptions.gradient=Te(z.cornersDotOptions.gradient))),z.backgroundOptions&&(z.backgroundOptions=Object.assign({},z.backgroundOptions),z.backgroundOptions.gradient&&(z.backgroundOptions.gradient=Te(z.backgroundOptions.gradient))),z}var ue=_(873),$e=_.n(ue);function He(Y){if(!Y)throw new Error("Extension must be defined");"."===Y[0]&&(Y=Y.substring(1));const z={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[Y.toLowerCase()];if(!z)throw new Error(`Extension "${Y}" is not supported`);return z}class Be{constructor(z){this._window=z?.jsdom?new z.jsdom("",{resources:"usable"}).window:window,this._options=z?_e(A(ve,z)):ve,this.update()}static _clearContainer(z){z&&(z.innerHTML="")}_setupSvg(){if(!this._qr)return;const z=new H(this._options,this._window);this._svg=z.getElement(),this._svgDrawingPromise=z.drawQR(this._qr).then(()=>{var V;this._svg&&(null===(V=this._extension)||void 0===V||V.call(this,z.getElement(),this._options))})}_setupCanvas(){var z,V;this._qr&&(null!==(z=this._options.nodeCanvas)&&void 0!==z&&z.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=null===(V=this._svgDrawingPromise)||void 0===V?void 0:V.then(()=>{var re;if(!this._svg)return;const me=this._svg,pe=(new this._window.XMLSerializer).serializeToString(me),ce=btoa(pe),Ce=`data:${He("svg")};base64,${ce}`;if(null!==(re=this._options.nodeCanvas)&&void 0!==re&&re.loadImage)return this._options.nodeCanvas.loadImage(Ce).then(ae=>{var X,Ee;ae.width=this._options.width,ae.height=this._options.height,null===(Ee=null===(X=this._nodeCanvas)||void 0===X?void 0:X.getContext("2d"))||void 0===Ee||Ee.drawImage(ae,0,0)});{const ae=new this._window.Image;return new Promise(X=>{ae.onload=()=>{var Ee,Ae;null===(Ae=null===(Ee=this._domCanvas)||void 0===Ee?void 0:Ee.getContext("2d"))||void 0===Ae||Ae.drawImage(ae,0,0),X()},ae.src=Ce})}}))}_getElement(z="png"){var V=this;return d(function*(){if(!V._qr)throw"QR code is empty";return"svg"===z.toLowerCase()?(V._svg&&V._svgDrawingPromise||V._setupSvg(),yield V._svgDrawingPromise,V._svg):((V._domCanvas||V._nodeCanvas)&&V._canvasDrawingPromise||V._setupCanvas(),yield V._canvasDrawingPromise,V._domCanvas||V._nodeCanvas)})()}update(z){Be._clearContainer(this._container),this._options=z?_e(A(this._options,z)):this._options,this._options.data&&(this._qr=$e()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(V){switch(!0){case/^[0-9]*$/.test(V):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(V):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===te?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(z){if(z){if("function"!=typeof z.appendChild)throw"Container should be a single DOM node";this._options.type===te?this._domCanvas&&z.appendChild(this._domCanvas):this._svg&&z.appendChild(this._svg),this._container=z}}applyExtension(z){if(!z)throw"Extension function should be defined.";this._extension=z,this.update()}deleteExtension(){this._extension=void 0,this.update()}getRawData(z="png"){var V=this;return d(function*(){if(!V._qr)throw"QR code is empty";const re=yield V._getElement(z),me=He(z);if(!re)return null;if("svg"===z.toLowerCase()){const pe=`<?xml version="1.0" standalone="no"?>\r\n${(new V._window.XMLSerializer).serializeToString(re)}`;return typeof Blob>"u"||V._options.jsdom?Buffer.from(pe):new Blob([pe],{type:me})}return new Promise(pe=>{const ce=re;if("toBuffer"in ce)if("image/png"===me)pe(ce.toBuffer(me));else if("image/jpeg"===me)pe(ce.toBuffer(me));else{if("application/pdf"!==me)throw Error("Unsupported extension");pe(ce.toBuffer(me))}else"toBlob"in ce&&ce.toBlob(pe,me,1)})})()}download(z){var V=this;return d(function*(){if(!V._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let re="png",me="qr";"string"==typeof z?(re=z,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==typeof z&&null!==z&&(z.name&&(me=z.name),z.extension&&(re=z.extension));const pe=yield V._getElement(re);if(pe)if("svg"===re.toLowerCase()){let ce=(new XMLSerializer).serializeToString(pe);ce='<?xml version="1.0" standalone="no"?>\r\n'+ce,T(`data:${He(re)};charset=utf-8,${encodeURIComponent(ce)}`,`${me}.svg`)}else T(pe.toDataURL(He(re)),`${me}.${re}`)})()}}const Me=Be})(),g.default})(),fe.exports=w()},4412:(fe,$,a)=>{"use strict";a.d($,{t:()=>p});var d=a(1413);class p extends d.B{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const g=super._subscribe(_);return!g.closed&&_.next(this._value),g}getValue(){const{hasError:_,thrownError:g,_value:b}=this;if(_)throw g;return this._throwIfClosed(),b}next(_){super.next(this._value=_)}}},1985:(fe,$,a)=>{"use strict";a.d($,{c:()=>T});var d=a(7707),p=a(8359),w=a(3494),_=a(1203),g=a(1026),b=a(8071),A=a(9786);let T=(()=>{class F{constructor(E){E&&(this._subscribe=E)}lift(E){const y=new F;return y.source=this,y.operator=E,y}subscribe(E,y,M){const W=function j(F){return F&&F instanceof d.vU||function U(F){return F&&(0,b.T)(F.next)&&(0,b.T)(F.error)&&(0,b.T)(F.complete)}(F)&&(0,p.Uv)(F)}(E)?E:new d.Ms(E,y,M);return(0,A.Y)(()=>{const{operator:G,source:Z}=this;W.add(G?G.call(W,Z):Z?this._subscribe(W):this._trySubscribe(W))}),W}_trySubscribe(E){try{return this._subscribe(E)}catch(y){E.error(y)}}forEach(E,y){return new(y=k(y))((M,W)=>{const G=new d.Ms({next:Z=>{try{E(Z)}catch(ne){W(ne),G.unsubscribe()}},error:W,complete:M});this.subscribe(G)})}_subscribe(E){var y;return null===(y=this.source)||void 0===y?void 0:y.subscribe(E)}[w.s](){return this}pipe(...E){return(0,_.m)(E)(this)}toPromise(E){return new(E=k(E))((y,M)=>{let W;this.subscribe(G=>W=G,G=>M(G),()=>y(W))})}}return F.create=D=>new F(D),F})();function k(F){var D;return null!==(D=F??g.$.Promise)&&void 0!==D?D:Promise}},1413:(fe,$,a)=>{"use strict";a.d($,{B:()=>A});var d=a(1985),p=a(8359);const _=(0,a(1853).L)(k=>function(){k(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var g=a(7908),b=a(9786);let A=(()=>{class k extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const F=new T(this,this);return F.operator=j,F}_throwIfClosed(){if(this.closed)throw new _}next(j){(0,b.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const F of this.currentObservers)F.next(j)}})}error(j){(0,b.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:F}=this;for(;F.length;)F.shift().error(j)}})}complete(){(0,b.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:F,isStopped:D,observers:E}=this;return F||D?p.Kn:(this.currentObservers=null,E.push(j),new p.yU(()=>{this.currentObservers=null,(0,g.o)(E,j)}))}_checkFinalizedStatuses(j){const{hasError:F,thrownError:D,isStopped:E}=this;F?j.error(D):E&&j.complete()}asObservable(){const j=new d.c;return j.source=this,j}}return k.create=(U,j)=>new T(U,j),k})();class T extends A{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,F;null===(F=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===F||F.call(j,U)}error(U){var j,F;null===(F=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===F||F.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,F;return null!==(F=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==F?F:p.Kn}}},7707:(fe,$,a)=>{"use strict";a.d($,{Ms:()=>M,vU:()=>F});var d=a(8071),p=a(8359),w=a(1026),_=a(5334),g=a(5343);const b=k("C",void 0,void 0);function k(H,te,De){return{kind:H,value:te,error:De}}var U=a(9270),j=a(9786);class F extends p.yU{constructor(te){super(),this.isStopped=!1,te?(this.destination=te,(0,p.Uv)(te)&&te.add(this)):this.destination=ne}static create(te,De,ve){return new M(te,De,ve)}next(te){this.isStopped?Z(function T(H){return k("N",H,void 0)}(te),this):this._next(te)}error(te){this.isStopped?Z(function A(H){return k("E",void 0,H)}(te),this):(this.isStopped=!0,this._error(te))}complete(){this.isStopped?Z(b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(te){this.destination.next(te)}_error(te){try{this.destination.error(te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const D=Function.prototype.bind;function E(H,te){return D.call(H,te)}class y{constructor(te){this.partialObserver=te}next(te){const{partialObserver:De}=this;if(De.next)try{De.next(te)}catch(ve){W(ve)}}error(te){const{partialObserver:De}=this;if(De.error)try{De.error(te)}catch(ve){W(ve)}else W(te)}complete(){const{partialObserver:te}=this;if(te.complete)try{te.complete()}catch(De){W(De)}}}class M extends F{constructor(te,De,ve){let Te;if(super(),(0,d.T)(te)||!te)Te={next:te??void 0,error:De??void 0,complete:ve??void 0};else{let _e;this&&w.$.useDeprecatedNextContext?(_e=Object.create(te),_e.unsubscribe=()=>this.unsubscribe(),Te={next:te.next&&E(te.next,_e),error:te.error&&E(te.error,_e),complete:te.complete&&E(te.complete,_e)}):Te=te}this.destination=new y(Te)}}function W(H){w.$.useDeprecatedSynchronousErrorHandling?(0,j.l)(H):(0,_.m)(H)}function Z(H,te){const{onStoppedNotification:De}=w.$;De&&U.f.setTimeout(()=>De(H,te))}const ne={closed:!0,next:g.l,error:function G(H){throw H},complete:g.l}},8359:(fe,$,a)=>{"use strict";a.d($,{Kn:()=>b,yU:()=>g,Uv:()=>A});var d=a(8071);const w=(0,a(1853).L)(k=>function(j){k(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((F,D)=>`${D+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var _=a(7908);class g{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const E of j)E.remove(this);else j.remove(this);const{initialTeardown:F}=this;if((0,d.T)(F))try{F()}catch(E){U=E instanceof w?E.errors:[E]}const{_finalizers:D}=this;if(D){this._finalizers=null;for(const E of D)try{T(E)}catch(y){U=U??[],y instanceof w?U=[...U,...y.errors]:U.push(y)}}if(U)throw new w(U)}}add(U){var j;if(U&&U!==this)if(this.closed)T(U);else{if(U instanceof g){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,_.o)(j,U)}remove(U){const{_finalizers:j}=this;j&&(0,_.o)(j,U),U instanceof g&&U._removeParent(this)}}g.EMPTY=(()=>{const k=new g;return k.closed=!0,k})();const b=g.EMPTY;function A(k){return k instanceof g||k&&"closed"in k&&(0,d.T)(k.remove)&&(0,d.T)(k.add)&&(0,d.T)(k.unsubscribe)}function T(k){(0,d.T)(k)?k():k.unsubscribe()}},1026:(fe,$,a)=>{"use strict";a.d($,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4843:(fe,$,a)=>{"use strict";a.d($,{_:()=>w});var d=a(9350),p=a(7707);function w(_,g){const b="object"==typeof g;return new Promise((A,T)=>{const k=new p.Ms({next:U=>{A(U),k.unsubscribe()},error:T,complete:()=>{b?A(g.defaultValue):T(new d.G)}});_.subscribe(k)})}},4439:(fe,$,a)=>{"use strict";a.d($,{z:()=>G});var d=a(1985);const{isArray:p}=Array,{getPrototypeOf:w,prototype:_,keys:g}=Object;var T=a(6648),k=a(3669),U=a(6354);const{isArray:j}=Array;var E=a(3794),M=a(4360),W=a(5225);function G(...H){const te=(0,E.lI)(H),De=(0,E.ms)(H),{args:ve,keys:Te}=function b(H){if(1===H.length){const te=H[0];if(p(te))return{args:te,keys:null};if(function A(H){return H&&"object"==typeof H&&w(H)===_}(te)){const De=g(te);return{args:De.map(ve=>te[ve]),keys:De}}}return{args:H,keys:null}}(H);if(0===ve.length)return(0,T.H)([],te);const _e=new d.c(function Z(H,te,De=k.D){return ve=>{ne(te,()=>{const{length:Te}=H,_e=new Array(Te);let ue=Te,$e=Te;for(let He=0;He<Te;He++)ne(te,()=>{const Be=(0,T.H)(H[He],te);let Me=!1;Be.subscribe((0,M._)(ve,Y=>{_e[He]=Y,Me||(Me=!0,$e--),$e||ve.next(De(_e.slice()))},()=>{--ue||ve.complete()}))},ve)},ve)}}(ve,te,Te?ue=>function y(H,te){return H.reduce((De,ve,Te)=>(De[ve]=te[Te],De),{})}(Te,ue):k.D));return De?_e.pipe(function D(H){return(0,U.T)(te=>function F(H,te){return j(te)?H(...te):H(te)}(H,te))}(De)):_e}function ne(H,te,De){H?(0,W.N)(De,H,te):te()}},983:(fe,$,a)=>{"use strict";a.d($,{w:()=>p});const p=new(a(1985).c)(g=>g.complete())},6648:(fe,$,a)=>{"use strict";a.d($,{H:()=>ve});var d=a(8750),p=a(5225),w=a(9974),_=a(4360);function g(Te,_e=0){return(0,w.N)((ue,$e)=>{ue.subscribe((0,_._)($e,He=>(0,p.N)($e,Te,()=>$e.next(He),_e),()=>(0,p.N)($e,Te,()=>$e.complete(),_e),He=>(0,p.N)($e,Te,()=>$e.error(He),_e)))})}function b(Te,_e=0){return(0,w.N)((ue,$e)=>{$e.add(Te.schedule(()=>ue.subscribe($e),_e))})}var k=a(1985),j=a(4761),F=a(8071);function E(Te,_e){if(!Te)throw new Error("Iterable cannot be null");return new k.c(ue=>{(0,p.N)(ue,_e,()=>{const $e=Te[Symbol.asyncIterator]();(0,p.N)(ue,_e,()=>{$e.next().then(He=>{He.done?ue.complete():ue.next(He.value)})},0,!0)})})}var y=a(5055),M=a(9858),W=a(7441),G=a(5397),Z=a(7953),ne=a(591),H=a(5196);function ve(Te,_e){return _e?function De(Te,_e){if(null!=Te){if((0,y.l)(Te))return function A(Te,_e){return(0,d.Tg)(Te).pipe(b(_e),g(_e))}(Te,_e);if((0,W.X)(Te))return function U(Te,_e){return new k.c(ue=>{let $e=0;return _e.schedule(function(){$e===Te.length?ue.complete():(ue.next(Te[$e++]),ue.closed||this.schedule())})})}(Te,_e);if((0,M.y)(Te))return function T(Te,_e){return(0,d.Tg)(Te).pipe(b(_e),g(_e))}(Te,_e);if((0,Z.T)(Te))return E(Te,_e);if((0,G.x)(Te))return function D(Te,_e){return new k.c(ue=>{let $e;return(0,p.N)(ue,_e,()=>{$e=Te[j.l](),(0,p.N)(ue,_e,()=>{let He,Be;try{({value:He,done:Be}=$e.next())}catch(Me){return void ue.error(Me)}Be?ue.complete():ue.next(He)},0,!0)}),()=>(0,F.T)($e?.return)&&$e.return()})}(Te,_e);if((0,H.U)(Te))return function te(Te,_e){return E((0,H.C)(Te),_e)}(Te,_e)}throw(0,ne.L)(Te)}(Te,_e):(0,d.Tg)(Te)}},8750:(fe,$,a)=>{"use strict";a.d($,{Tg:()=>D});var d=a(1635),p=a(7441),w=a(9858),_=a(1985),g=a(5055),b=a(7953),A=a(591),T=a(5397),k=a(5196),U=a(8071),j=a(5334),F=a(3494);function D(H){if(H instanceof _.c)return H;if(null!=H){if((0,g.l)(H))return function E(H){return new _.c(te=>{const De=H[F.s]();if((0,U.T)(De.subscribe))return De.subscribe(te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(H);if((0,p.X)(H))return function y(H){return new _.c(te=>{for(let De=0;De<H.length&&!te.closed;De++)te.next(H[De]);te.complete()})}(H);if((0,w.y)(H))return function M(H){return new _.c(te=>{H.then(De=>{te.closed||(te.next(De),te.complete())},De=>te.error(De)).then(null,j.m)})}(H);if((0,b.T)(H))return G(H);if((0,T.x)(H))return function W(H){return new _.c(te=>{for(const De of H)if(te.next(De),te.closed)return;te.complete()})}(H);if((0,k.U)(H))return function Z(H){return G((0,k.C)(H))}(H)}throw(0,A.L)(H)}function G(H){return new _.c(te=>{(function ne(H,te){var De,ve,Te,_e;return(0,d.sH)(this,void 0,void 0,function*(){try{for(De=(0,d.xN)(H);!(ve=yield De.next()).done;)if(te.next(ve.value),te.closed)return}catch(ue){Te={error:ue}}finally{try{ve&&!ve.done&&(_e=De.return)&&(yield _e.call(De))}finally{if(Te)throw Te.error}}te.complete()})})(H,te).catch(De=>te.error(De))})}},7673:(fe,$,a)=>{"use strict";a.d($,{of:()=>w});var d=a(3794),p=a(6648);function w(..._){const g=(0,d.lI)(_);return(0,p.H)(_,g)}},4360:(fe,$,a)=>{"use strict";a.d($,{_:()=>p});var d=a(7707);function p(_,g,b,A,T){return new w(_,g,b,A,T)}class w extends d.vU{constructor(g,b,A,T,k,U){super(g),this.onFinalize=k,this.shouldUnsubscribe=U,this._next=b?function(j){try{b(j)}catch(F){g.error(F)}}:super._next,this._error=T?function(j){try{T(j)}catch(F){g.error(F)}finally{this.unsubscribe()}}:super._error,this._complete=A?function(){try{A()}catch(j){g.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:b}=this;super.unsubscribe(),!b&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}},3294:(fe,$,a)=>{"use strict";a.d($,{F:()=>_});var d=a(3669),p=a(9974),w=a(4360);function _(b,A=d.D){return b=b??g,(0,p.N)((T,k)=>{let U,j=!0;T.subscribe((0,w._)(k,F=>{const D=A(F);(j||!b(U,D))&&(j=!1,U=D,k.next(F))}))})}function g(b,A){return b===A}},5964:(fe,$,a)=>{"use strict";a.d($,{p:()=>w});var d=a(9974),p=a(4360);function w(_,g){return(0,d.N)((b,A)=>{let T=0;b.subscribe((0,p._)(A,k=>_.call(g,k,T++)&&A.next(k)))})}},6354:(fe,$,a)=>{"use strict";a.d($,{T:()=>w});var d=a(9974),p=a(4360);function w(_,g){return(0,d.N)((b,A)=>{let T=0;b.subscribe((0,p._)(A,k=>{A.next(_.call(g,k,T++))}))})}},6365:(fe,$,a)=>{"use strict";a.d($,{U:()=>w});var d=a(1397),p=a(3669);function w(_=1/0){return(0,d.Z)(p.D,_)}},1397:(fe,$,a)=>{"use strict";a.d($,{Z:()=>T});var d=a(6354),p=a(8750),w=a(9974),_=a(5225),g=a(4360),A=a(8071);function T(k,U,j=1/0){return(0,A.T)(U)?T((F,D)=>(0,d.T)((E,y)=>U(F,E,D,y))((0,p.Tg)(k(F,D))),j):("number"==typeof U&&(j=U),(0,w.N)((F,D)=>function b(k,U,j,F,D,E,y,M){const W=[];let G=0,Z=0,ne=!1;const H=()=>{ne&&!W.length&&!G&&U.complete()},te=ve=>G<F?De(ve):W.push(ve),De=ve=>{E&&U.next(ve),G++;let Te=!1;(0,p.Tg)(j(ve,Z++)).subscribe((0,g._)(U,_e=>{D?.(_e),E?te(_e):U.next(_e)},()=>{Te=!0},void 0,()=>{if(Te)try{for(G--;W.length&&G<F;){const _e=W.shift();y?(0,_.N)(U,y,()=>De(_e)):De(_e)}H()}catch(_e){U.error(_e)}}))};return k.subscribe((0,g._)(U,te,()=>{ne=!0,H()})),()=>{M?.()}}(F,D,k,j)))}},5558:(fe,$,a)=>{"use strict";a.d($,{n:()=>_});var d=a(8750),p=a(9974),w=a(4360);function _(g,b){return(0,p.N)((A,T)=>{let k=null,U=0,j=!1;const F=()=>j&&!k&&T.complete();A.subscribe((0,w._)(T,D=>{k?.unsubscribe();let E=0;const y=U++;(0,d.Tg)(g(D,y)).subscribe(k=(0,w._)(T,M=>T.next(b?b(D,M,y,E++):M),()=>{k=null,F()}))},()=>{j=!0,F()}))})}},6697:(fe,$,a)=>{"use strict";a.d($,{s:()=>_});var d=a(983),p=a(9974),w=a(4360);function _(g){return g<=0?()=>d.w:(0,p.N)((b,A)=>{let T=0;b.subscribe((0,w._)(A,k=>{++T<=g&&(A.next(k),g<=T&&A.complete())}))})}},9270:(fe,$,a)=>{"use strict";a.d($,{f:()=>d});const d={setTimeout(p,w,..._){const{delegate:g}=d;return g?.setTimeout?g.setTimeout(p,w,..._):setTimeout(p,w,..._)},clearTimeout(p){const{delegate:w}=d;return(w?.clearTimeout||clearTimeout)(p)},delegate:void 0}},4761:(fe,$,a)=>{"use strict";a.d($,{l:()=>p});const p=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(fe,$,a)=>{"use strict";a.d($,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(fe,$,a)=>{"use strict";a.d($,{G:()=>p});const p=(0,a(1853).L)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(fe,$,a)=>{"use strict";a.d($,{R0:()=>b,ms:()=>_,lI:()=>g});var d=a(8071);function w(A){return A[A.length-1]}function _(A){return(0,d.T)(w(A))?A.pop():void 0}function g(A){return function p(A){return A&&(0,d.T)(A.schedule)}(w(A))?A.pop():void 0}function b(A,T){return"number"==typeof w(A)?A.pop():T}},7908:(fe,$,a)=>{"use strict";function d(p,w){if(p){const _=p.indexOf(w);0<=_&&p.splice(_,1)}}a.d($,{o:()=>d})},1853:(fe,$,a)=>{"use strict";function d(p){const _=p(g=>{Error.call(g),g.stack=(new Error).stack});return _.prototype=Object.create(Error.prototype),_.prototype.constructor=_,_}a.d($,{L:()=>d})},9786:(fe,$,a)=>{"use strict";a.d($,{Y:()=>w,l:()=>_});var d=a(1026);let p=null;function w(g){if(d.$.useDeprecatedSynchronousErrorHandling){const b=!p;if(b&&(p={errorThrown:!1,error:null}),g(),b){const{errorThrown:A,error:T}=p;if(p=null,A)throw T}}else g()}function _(g){d.$.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=g)}},5225:(fe,$,a)=>{"use strict";function d(p,w,_,g=0,b=!1){const A=w.schedule(function(){_(),b?p.add(this.schedule(null,g)):this.unsubscribe()},g);if(p.add(A),!b)return A}a.d($,{N:()=>d})},3669:(fe,$,a)=>{"use strict";function d(p){return p}a.d($,{D:()=>d})},7441:(fe,$,a)=>{"use strict";a.d($,{X:()=>d});const d=p=>p&&"number"==typeof p.length&&"function"!=typeof p},7953:(fe,$,a)=>{"use strict";a.d($,{T:()=>p});var d=a(8071);function p(w){return Symbol.asyncIterator&&(0,d.T)(w?.[Symbol.asyncIterator])}},8071:(fe,$,a)=>{"use strict";function d(p){return"function"==typeof p}a.d($,{T:()=>d})},5055:(fe,$,a)=>{"use strict";a.d($,{l:()=>w});var d=a(3494),p=a(8071);function w(_){return(0,p.T)(_[d.s])}},5397:(fe,$,a)=>{"use strict";a.d($,{x:()=>w});var d=a(4761),p=a(8071);function w(_){return(0,p.T)(_?.[d.l])}},9858:(fe,$,a)=>{"use strict";a.d($,{y:()=>p});var d=a(8071);function p(w){return(0,d.T)(w?.then)}},5196:(fe,$,a)=>{"use strict";a.d($,{C:()=>w,U:()=>_});var d=a(1635),p=a(8071);function w(g){return(0,d.AQ)(this,arguments,function*(){const A=g.getReader();try{for(;;){const{value:T,done:k}=yield(0,d.N3)(A.read());if(k)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(T)}}finally{A.releaseLock()}})}function _(g){return(0,p.T)(g?.getReader)}},9974:(fe,$,a)=>{"use strict";a.d($,{N:()=>w,S:()=>p});var d=a(8071);function p(_){return(0,d.T)(_?.lift)}function w(_){return g=>{if(p(g))return g.lift(function(b){try{return _(b,this)}catch(A){this.error(A)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(fe,$,a)=>{"use strict";function d(){}a.d($,{l:()=>d})},1203:(fe,$,a)=>{"use strict";a.d($,{F:()=>p,m:()=>w});var d=a(3669);function p(..._){return w(_)}function w(_){return 0===_.length?d.D:1===_.length?_[0]:function(b){return _.reduce((A,T)=>T(A),b)}}},5334:(fe,$,a)=>{"use strict";a.d($,{m:()=>w});var d=a(1026),p=a(9270);function w(_){p.f.setTimeout(()=>{const{onUnhandledError:g}=d.$;if(!g)throw _;g(_)})}},591:(fe,$,a)=>{"use strict";function d(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}a.d($,{L:()=>d})},9293:fe=>{function $(d,p,w,_,g,b,A){try{var T=d[b](A),k=T.value}catch(U){return void w(U)}T.done?p(k):Promise.resolve(k).then(_,g)}fe.exports=function a(d){return function(){var p=this,w=arguments;return new Promise(function(_,g){var b=d.apply(p,w);function A(k){$(b,_,g,A,T,"next",k)}function T(k){$(b,_,g,A,T,"throw",k)}A(void 0)})}},fe.exports.__esModule=!0,fe.exports.default=fe.exports},9255:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Fo:()=>CliModule,Go:()=>ICliUsersStoreService_TOKEN,Ih:()=>CliPanelComponent,Jn:()=>CliUsersStoreService,N9:()=>CliCanViewService,P7:()=>resolveCommandProcessorProvider,oL:()=>CliComponent});var _home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(467),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6276),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(177),_angular_router__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(307),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4412),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1413),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(6697),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6354),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8359),rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4439),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(5964),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(7673),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(4843),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3294),_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7983),_xterm_xterm__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8069),_xterm_addon_fit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8389),_xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8829),_xterm_addon_unicode11__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3205);const _c0=["terminal"];function CollapsableContentComponent_div_0__svg_svg_12_Template(fe,$){1&fe&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.qSk(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"svg",14),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(1,"polyline",21)(2,"polyline",22)(3,"line",23)(4,"line",24),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s())}function CollapsableContentComponent_div_0__svg_svg_13_Template(fe,$){1&fe&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.qSk(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"svg",14),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(1,"polyline",25)(2,"polyline",26)(3,"line",27)(4,"line",24),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s())}function CollapsableContentComponent_div_0__svg_polyline_16_Template(fe,$){1&fe&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.qSk(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(0,"polyline",28))}function CollapsableContentComponent_div_0__svg_polyline_17_Template(fe,$){1&fe&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.qSk(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(0,"polyline",29))}function CollapsableContentComponent_div_0_div_22_Template(fe,$){1&fe&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.qSk(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.joV(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"div",30),_angular_core__WEBPACK_IMPORTED_MODULE_4__.SdG(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s())}const _c1=function(fe){return{height:fe}};function CollapsableContentComponent_div_0_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"div",1)(1,"div",2)(2,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("mousedown",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(w.onResizeStart(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(3,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(4,"div",5)(5,"p",6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qSk(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(6,"svg",7),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(7,"polyline",8)(8,"line",9),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(9," CLI "),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.joV(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(10,"div",10)(11,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.toggleMaximizationTerminal())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(12,CollapsableContentComponent_div_0__svg_svg_12_Template,5,0,"svg",12),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(13,CollapsableContentComponent_div_0__svg_svg_13_Template,5,0,"svg",12),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(14,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.toggleTerminal())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qSk(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(15,"svg",14),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(16,CollapsableContentComponent_div_0__svg_polyline_16_Template,1,0,"polyline",15),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(17,CollapsableContentComponent_div_0__svg_polyline_17_Template,1,0,"polyline",16),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.joV(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(18,"button",17),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.closeTerminal())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qSk(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(19,"svg",14),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(20,"line",18)(21,"line",19),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(22,CollapsableContentComponent_div_0_div_22_Template,2,0,"div",20),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()}if(2&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_4__.Aen(_angular_core__WEBPACK_IMPORTED_MODULE_4__.eq3(16,_c1,a.panelHeight+"px")),_angular_core__WEBPACK_IMPORTED_MODULE_4__.AVh("collapsed",a.isCollapsed)("maximized",a.isMaximized)("resizing",a.isResizing),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(11),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("title",a.isMaximized?"Restore":"Maximize")("disabled",a.isCollapsed),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",!a.isMaximized),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",a.isMaximized),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("title",a.isCollapsed?"Expand":"Collapse"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",a.isCollapsed),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",!a.isCollapsed),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(5),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",!a.isCollapsed)}}const _c2=["*"];function CliPanelComponent_collapsable_content_0_ng_container_1_li_3_input_1_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"input",14,15),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("keydown",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit,_=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(_.onRenameKeydown(p,w))})("blur",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit,_=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(_.onRenameBlur(p,w))})("click",function(p){return p.stopPropagation()})("dblclick",function(p){return p.stopPropagation()}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()}if(2&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("value",a.title)}}function CliPanelComponent_collapsable_content_0_ng_container_1_li_3_span_2_Template(fe,$){if(1&fe&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"span",16),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()),2&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.JRh(a.title)}}function CliPanelComponent_collapsable_content_0_ng_container_1_li_3_button_3_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"button",17),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3).closeTab(w.id),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.stopPropagation())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(1," \xd7 "),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()}}function CliPanelComponent_collapsable_content_0_ng_container_1_li_3_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"li",10),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a).$implicit,_=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(_.selectTab(w.id))})("dblclick",function(){const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a).$implicit,_=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(_.onTabDoubleClick(w))})("contextmenu",function(p){const _=_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a).$implicit,g=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(g.onTabContextMenu(p,_))}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(1,CliPanelComponent_collapsable_content_0_ng_container_1_li_3_input_1_Template,2,1,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(2,CliPanelComponent_collapsable_content_0_ng_container_1_li_3_span_2_Template,2,1,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(3,CliPanelComponent_collapsable_content_0_ng_container_1_li_3_button_3_Template,2,0,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()}if(2&fe){const a=$.$implicit,d=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_4__.AVh("active",a.id===d.activeTabId),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",a.isEditing),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",!a.isEditing),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",!a.isEditing)}}function CliPanelComponent_collapsable_content_0_ng_container_1_div_7_ng_container_2_div_1_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"div",25),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("mousedown",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().index,_=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit,g=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(g.onPaneResizeStart(p,_.id,w-1))}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(1,"div",26),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()}}function CliPanelComponent_collapsable_content_0_ng_container_1_div_7_ng_container_2_button_3_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"button",27),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit,_=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3).closePane(_.id,w.id),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.stopPropagation())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(1,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()}}function CliPanelComponent_collapsable_content_0_ng_container_1_div_7_ng_container_2_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(1,CliPanelComponent_collapsable_content_0_ng_container_1_div_7_ng_container_2_div_1_Template,2,0,"div",21),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(2,"div",22),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a).$implicit,_=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit,g=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(g.onPaneClick(_.id,w.id))}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(3,CliPanelComponent_collapsable_content_0_ng_container_1_div_7_ng_container_2_button_3_Template,2,0,"button",23),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(4,"cli",24),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bVm()}if(2&fe){const a=$.$implicit,d=$.index,p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG().$implicit,w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",d>0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xc7("flex",a.widthPercent+" 1 0"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.AVh("active-pane",a.id===w.activePaneId&&p.id===w.activeTabId),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",p.panes.length>1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("options",w.options)("height",w.terminalHeight)}}function CliPanelComponent_collapsable_content_0_ng_container_1_div_7_Template(fe,$){if(1&fe&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"div",18)(1,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(2,CliPanelComponent_collapsable_content_0_ng_container_1_div_7_ng_container_2_Template,5,8,"ng-container",20),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()()),2&fe){const a=$.$implicit,d=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(3);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("hidden",a.id!==d.activeTabId),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.AVh("resizing",d.paneResizing),_angular_core__WEBPACK_IMPORTED_MODULE_4__.BMQ("data-tab-id",a.id),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngForOf",a.panes)("ngForTrackBy",d.trackByPaneId)}}function CliPanelComponent_collapsable_content_0_ng_container_1_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.qex(0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(1,"div",4)(2,"ul",5),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(3,CliPanelComponent_collapsable_content_0_ng_container_1_li_3_Template,4,5,"li",6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(4,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(2);return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.addTab())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(5,"+"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(6,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(7,CliPanelComponent_collapsable_content_0_ng_container_1_div_7_Template,3,6,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bVm()}if(2&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG(2);_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngForOf",a.tabs)("ngForTrackBy",a.trackByTabId),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngForOf",a.tabs)("ngForTrackBy",a.trackByTabId)}}function CliPanelComponent_collapsable_content_0_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"collapsable-content",2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("onToggle",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(w.onToggle(p))})("onContentSizeChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(w.onContentSizeChange(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(1,CliPanelComponent_collapsable_content_0_ng_container_1_Template,8,4,"ng-container",3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()}if(2&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();let d;_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("isCollapsed",null===(d=null==a.options?null:a.options.isCollapsed)||void 0===d||d),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",a.initialized)}}function CliPanelComponent_div_1_Template(fe,$){if(1&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.RV6();_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(p){return p.stopPropagation()}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(1,"button",29),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.contextMenuRename())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(2,"Rename"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(3,"button",29),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.contextMenuDuplicate())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(4,"Duplicate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(5,"button",29),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.contextMenuSplitRight())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(6,"Split Right"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(7,"div",30),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(8,"button",29),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.contextMenuClose())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(9,"Close"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(10,"button",31),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.contextMenuCloseOthers())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(11,"Close Others"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(12,"button",29),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.contextMenuCloseToTheRight())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(13,"Close to the Right"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(14,"div",30),_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(15,"button",32),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_4__.eBV(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();return _angular_core__WEBPACK_IMPORTED_MODULE_4__.Njj(p.contextMenuCloseAll())}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.EFF(16,"Close All"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()()}if(2&fe){const a=_angular_core__WEBPACK_IMPORTED_MODULE_4__.XpG();_angular_core__WEBPACK_IMPORTED_MODULE_4__.xc7("left",a.contextMenu.x,"px")("top",a.contextMenu.y,"px"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(10),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("disabled",a.tabs.length<=1)}}const CliCommandProcessor_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.nKC("cli-processors"),ICliUserSessionService_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.nKC("cli-user-session-service"),ICliUsersStoreService_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.nKC("cli-users-store-service"),ICliPingServerService_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.nKC("cli-ping-server-service"),CliLogger_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.nKC("cli-logger"),CliProcessorsRegistry_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.nKC("cli-processors-registry"),CliServiceProvider_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.nKC("cli-service-provider");class CliStateStore{constructor($,a,d){this.services=$,this.name=a,this.initialState=d,this.state$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.t(d),this.storageKey=`store-state-${a}`}getState(){return this.state$.getValue()}updateState($){this.state$.next({...this.getState(),...$})}select($){return this.state$.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.T)($),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.F)())}subscribe($){return this.state$.asObservable().subscribe($)}reset(){this.state$.next(this.initialState)}persist(){var $=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){yield $.services.get("cli-key-value-store").set($.storageKey,$.getState())})()}initialize(){var $=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const d=yield $.services.get("cli-key-value-store").get($.storageKey);d&&$.state$.next(d)})()}}let CliStateStoreManager=(()=>{class fe{constructor(a){this.services=a,this.stores=new Map}getStateStore(a,d){return this.stores.has(a)||this.stores.set(a,new CliStateStore(this.services,a,d??{})),this.stores.get(a)}getProcessorStateStore(a){const p=this.services.get(CliProcessorsRegistry_TOKEN).getRootProcessor(a);return this.getStateStore(p.stateConfiguration?.storeName||p.command,p.stateConfiguration?.initialState)}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(CliServiceProvider_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac})}}return fe})();class CliCommandExecutionContext{get promptLength(){return this.context.promptLength}set promptLength($){this.context.promptLength=$}get currentLine(){return this.context.currentLine}get cursorPosition(){return this.context.cursorPosition}set cursorPosition($){this.context.cursorPosition=$}constructor($,a){this.context=$,this.setCurrentLine=d=>{this.context.setCurrentLine(d)},this.userSession=$.userSession,this.spinner=$.spinner,this.progressBar=$.progressBar,this.textAnimator=$.textAnimator,this.onAbort=$.onAbort,this.terminal=$.terminal,this.writer=$.writer,this.executor=$.executor,this.clipboard=$.clipboard,this.options=$.options,this.setContextProcessor=$.setContextProcessor,this.clearLine=()=>$.clearLine(),this.showPrompt=d=>$.showPrompt(d),this.clearCurrentLine=()=>$.clearCurrentLine(),this.refreshCurrentLine=()=>$.refreshCurrentLine(),this.process=$.process,this.logger=$.logger,this.services=$.services,this.state=$.services.get(CliStateStoreManager).getProcessorStateStore(a)}}let CliKeyValueStore=(()=>{class fe{constructor(){this.dbName="CliKeyValueDB",this.storeName="KeyValueStore"}initialize(){return new Promise((a,d)=>{const p=indexedDB.open(this.dbName,1);p.onupgradeneeded=w=>{const _=w.target.result;_.objectStoreNames.contains(this.storeName)||_.createObjectStore(this.storeName)},p.onsuccess=w=>{this.db=w.target.result,a()},p.onerror=w=>{console.error("Error initializing IndexedDB:",w),d()}})}get(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){return new Promise((p,w)=>{try{const b=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName).get(a);b.onsuccess=()=>{p(b.result)},b.onerror=A=>{console.error("Error getting value:",A),w(void 0)}}catch(_){console.error("Error getting value:",_),w(void 0)}})})()}set(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){return new Promise((w,_)=>{const A=p.db.transaction(p.storeName,"readwrite").objectStore(p.storeName).put(d,a);A.onsuccess=()=>w(),A.onerror=T=>{console.error("Error setting value:",T),_()}})})()}remove(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){return new Promise((p,w)=>{const b=d.db.transaction(d.storeName,"readwrite").objectStore(d.storeName).delete(a);b.onsuccess=()=>p(),b.onerror=A=>{console.error("Error removing value:",A),w()}})})()}clear(){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){return new Promise((d,p)=>{const g=a.db.transaction(a.storeName,"readwrite").objectStore(a.storeName).clear();g.onsuccess=()=>d(),g.onerror=b=>{console.error("Error clearing store:",b),p()}})})()}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliCommandHistoryService=(()=>{class fe{constructor(a){this.store=a,this.storageKey="cli-command-history",this.commandHistory=[]}addCommand(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const p=a.trim();if(p){if(d.commandHistory.length>0&&d.commandHistory[d.commandHistory.length-1]===p)return;d.commandHistory.push(p),yield d.saveHistory()}})()}getLastIndex(){return this.commandHistory.length}getHistory(){return[...this.commandHistory]}clearHistory(){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.commandHistory=[],yield a.saveHistory()})()}getCommand(a){return this.commandHistory[a]}saveHistory(){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const d=a.commandHistory.slice(-500);return yield a.store.set(a.storageKey,d)})()}loadHistory(){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const d=localStorage.getItem("cliCommandHistory");d&&(localStorage.removeItem("cliCommandHistory"),yield a.store.set(a.storageKey,JSON.parse(d)));const p=yield a.store.get(a.storageKey);p&&(a.commandHistory=p)})()}initialize(){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){yield a.loadHistory()})()}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(CliKeyValueStore))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();class CliTerminalWriter{constructor($){this.terminal=$}write($){this.terminal.write($)}writeln($){this.terminal.writeln($||"")}writeSuccess($){this.writeLog($,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.CheckIcon)}writeInfo($){this.writeLog($,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.InfoIcon)}writeWarning($){this.writeLog($,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.WarningIcon)}writeError($){this.writeLog($,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Red,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.CrossIcon)}writeLog($,a,d){this.terminal.writeln(this.wrapInColor(d?d+" "+$:$,a))}writeDivider($){const{color:a,length:d,char:p}=$||{};let w=d??80;this.terminal.cols<w&&(w=this.terminal.cols);let g=(p??"-").repeat(w);a&&(g=this.wrapInColor(g,a)),this.writeln(g)}wrapInColor($,a){return a+$+_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Reset}wrapInBackgroundColor($,a){return a+$+_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Reset}writeJson($){this.terminal.writeln((0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.IB)($))}writeToFile($,a){const d=new Blob([a],{type:"text/plain"}),p=document.createElement("a");p.href=URL.createObjectURL(d),p.download=$,document.body.appendChild(p),p.click(),document.body.removeChild(p)}writeObjectsAsTable($){if(0===$.length)return void this.writeInfo("No objects to display");const a=Object.keys($[0]),d=$.map(p=>a.map(w=>p[w]));this.writeTable(a,d)}writeTable($,a){const d=$.map((w,_)=>Math.max(w.length,...a.map(g=>g[_]?.length||0))),p=(w,_)=>w?.toString()?.padEnd(_," ");this.write($.map((w,_)=>this.wrapInColor(p(w,d[_]),_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)).join(" | ")+"\r\n"),this.write("-".repeat(d.reduce((w,_)=>w+_+3,-3))+"\r\n"),a.forEach(w=>{this.write(w.map((_,g)=>p(_,d[g])).join(" | ")+"\r\n")})}}class CliTerminalSpinner{constructor($){this.terminal=$,this.isRunning=!1,this.text="",this.spinnerFrames=["\u280b","\u2819","\u2839","\u2838","\u283c","\u2834","\u2826","\u2827","\u2807","\u280f"],this.spinnerColors=["\x1b[38;5;39m","\x1b[38;5;45m","\x1b[38;5;49m","\x1b[38;5;48m","\x1b[38;5;83m","\x1b[38;5;118m","\x1b[38;5;154m","\x1b[38;5;220m","\x1b[38;5;214m","\x1b[38;5;171m"],this.spinnerIndex=0,this.savedCurrentLine="",this.lastContentLength=0,this.lastLineCount=1}show($){$&&(this.text=$),this.context&&(this.savedCurrentLine=this.context.currentLine,this.context.setCurrentLine("")),this.lastContentLength=0,this.lastLineCount=1,this.isRunning=!0,this.resizeDisposable=this.terminal.onResize(()=>{this.lastLineCount=Math.max(this.lastLineCount,this.calcLineCount(this.lastContentLength))}),this.spinnerInterval=setInterval(()=>{this.clearCurrentLine();const w=this.text.length>0?` ${this.text}`:"",_=`${this.spinnerColors[this.spinnerIndex%this.spinnerColors.length]}${this.spinnerFrames[this.spinnerIndex]}\x1b[0m${w}`,g=1+w.length;this.terminal.write(_),this.lastContentLength=g,this.lastLineCount=this.calcLineCount(g),this.context&&this.context.setCurrentLine(_),this.spinnerIndex=(this.spinnerIndex+1)%this.spinnerFrames.length},80)}hide(){this.isRunning=!1,this.spinnerInterval&&(clearInterval(this.spinnerInterval),this.spinnerInterval=null),this.resizeDisposable?.dispose(),this.resizeDisposable=void 0,this.clearCurrentLine(),this.context&&this.context.setCurrentLine(this.savedCurrentLine),this.text="",this.savedCurrentLine="",this.lastContentLength=0,this.lastLineCount=1}setText($){this.text=$}clearCurrentLine(){const $=Math.max(this.lastLineCount,this.calcLineCount(this.lastContentLength));for(let a=0;a<$;a++)this.terminal.write("\x1b[2K"),a<$-1&&this.terminal.write("\x1b[A");this.terminal.write("\r")}calcLineCount($){return Math.max(1,Math.ceil($/this.terminal.cols))}}class CliTerminalProgressBar{constructor($){this.terminal=$,this.isRunning=!1,this.text="",this.progress=0,this.total=100,this.progressText="",this.progressTextPlainLength=0,this.savedCurrentLine="",this.tickCount=0,this.lastLineCount=1}show($){this.isRunning=!0,this.progress=0,this.tickCount=0,this.lastLineCount=1,this.text=$||"",this.context&&(this.savedCurrentLine=this.context.currentLine,this.context.setCurrentLine("")),this.resizeDisposable=this.terminal.onResize(()=>{this.lastLineCount=Math.max(this.lastLineCount,this.calcLineCount(this.progressTextPlainLength))}),this.progressBarInterval=setInterval(()=>{this.tickCount++,this.tickCount%3==0&&this.progress<90&&(this.progress=Math.min(90,this.progress+(this.progress<30?2:this.progress<60?1:.5))),this.updateProgressBar(),this.progress>this.total&&(this.progress=this.total,this.hide())},100)}hide(){this.isRunning=!1,this.progressBarInterval&&(clearInterval(this.progressBarInterval),this.progressBarInterval=null),this.resizeDisposable?.dispose(),this.resizeDisposable=void 0,this.clearCurrentLine(),this.context&&this.context.setCurrentLine(this.savedCurrentLine),this.text="",this.progressText="",this.progressTextPlainLength=0,this.savedCurrentLine="",this.lastLineCount=1}update($,a){"increment"===a?.type?this.progress+=$:this.progress=$,this.progress>this.total&&(this.progress=this.total),this.updateProgressBar()}complete(){this.progress=100,this.hide()}setText($){this.text=$,this.updateProgressBar()}updateProgressBar(){const $=Math.round(this.progress),d=Math.round($/this.total*50),p=50-d,w="\x1b[0m";let g="";const b=this.tickCount%(d+6);for(let j=0;j<d;j++)g+=`${this.progressGradientColor(d>1?j/(d-1):1)}${j>=b-2&&j<=b?"\x1b[1m":""}#${w}`;const T=`[${g}\x1b[2m${".".repeat(p)}${w}]`,k=`${$}%`.padStart(4," "),U=this.text.length>0?` ${this.text}`:"";this.clearCurrentLine(),this.progressText=`${T} ${k} ${U}`,this.progressTextPlainLength=58+U.length,this.terminal.write(this.progressText),this.lastLineCount=this.calcLineCount(this.progressTextPlainLength),this.context&&this.context.setCurrentLine(this.progressText)}progressGradientColor($){let a,d;return $<.5?(a=5,d=Math.round($/.5*5)):(a=Math.round((1-$)/.5*5),d=5),`\x1b[38;5;${16+36*a+6*d+0}m`}clearCurrentLine(){const $=Math.max(this.lastLineCount,this.calcLineCount(this.progressTextPlainLength));for(let a=0;a<$;a++)this.terminal.write("\x1b[2K"),a<$-1&&this.terminal.write("\x1b[A");this.terminal.write("\r")}calcLineCount($){return Math.max(1,Math.ceil($/this.terminal.cols))}}class CliClipboard{constructor($){this.context=$}write($){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){try{yield navigator.clipboard.writeText($)}catch{a.context.writer.writeError("Failed to write to clipboard")}})()}read(){var $=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){try{return yield navigator.clipboard.readText()}catch{return $.context.writer.writeError("Failed to read from clipboard"),""}})()}}class ProcessExitedError extends Error{constructor($){super(`Process exited with code ${$}`),this.name="ProcessExitedError",this.code=$,Object.setPrototypeOf(this,new.target.prototype)}}class CliExecutionProcess{constructor($){this.context=$,this.running=!1}exit($,a){if($=$??0,this.exited=!0,this.exitCode=$,!a?.silent)throw new ProcessExitedError($)}output($){this.data=$}start(){this.exited=void 0,this.exitCode=void 0,this.data=void 0,this.running=!0}end(){this.running=!1,this.exitCode=0}}class CliTerminalTextAnimator{constructor($){this.terminal=$,this.isRunning=!1,this.text="",this.waveColors=["\x1b[38;5;39m","\x1b[38;5;45m","\x1b[38;5;49m","\x1b[38;5;83m","\x1b[38;5;118m","\x1b[38;5;220m","\x1b[38;5;214m","\x1b[38;5;209m","\x1b[38;5;171m","\x1b[38;5;135m"]}show($){this.showText($||"")}showText($,a){const{speed:d,removeAfterTyping:p}=a||{};if(this.isRunning)return;this.isRunning=!0,this.text=$||this.text;const w=this.context?.currentLine||"";let _=0,g=!0;this.animationInterval=setInterval(()=>{g?(this.terminal.write(`${this.waveColors[_%this.waveColors.length]}${this.text[_]}\x1b[0m`),_++,_===this.text.length&&(g=!1)):p?(clearInterval(this.animationInterval),this.animationInterval=null,(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.cb)(1e3).then(()=>{this.context&&(this.context.setCurrentLine(w+this.text),this.context.clearCurrentLine())}),this.isRunning=!1):(this.terminal.write("\b \b"),_--,_<0&&(clearInterval(this.animationInterval),this.animationInterval=null,this.isRunning=!1))},d||100)}hide(){this.isRunning&&(this.isRunning=!1,this.animationInterval&&(clearInterval(this.animationInterval),this.animationInterval=null),this.text="")}}class CliExecutionContext{get currentLine(){return this._currentLine}constructor($,a,d,p){this.injector=$,this.terminal=a,this.executor=d,this.isExecutingCommand=!1,this.onAbort=new rxjs__WEBPACK_IMPORTED_MODULE_10__.B,this.promptLength=0,this._currentLine="",this.cursorPosition=0,this.historyIndex=0,this.selectionStart=null,this.selectionEnd=null,this.services=$.get(CliServiceProvider_TOKEN);const w=$.get(CliStateStoreManager);this.state=w.getStateStore("shared"),this.options=p,this.writer=new CliTerminalWriter(a);const _=new CliTerminalSpinner(a),g=new CliTerminalProgressBar(a),b=new CliTerminalTextAnimator(a);_.context=this,g.context=this,b.context=this,this.spinner=_,this.progressBar=g,this.textAnimator=b,this.clipboard=new CliClipboard(this),this.process=new CliExecutionProcess(this),this.logger=$.get(CliLogger_TOKEN),this.logger.setCliLogLevel(p?.logLevel||_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tE.ERROR),this.commandHistoryService=$.get(CliCommandHistoryService)}initializeTerminalListeners(){var $=this;this.commandHistoryService.initialize().then(()=>{this.historyIndex=this.commandHistoryService.getLastIndex()}),this.terminal.onData(function(){var a=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(d){return yield $.handleInput(d)});return function(d){return a.apply(this,arguments)}}()),this.terminal.onKey(function(){var a=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(d){});return function(d){return a.apply(this,arguments)}}()),this.terminal.attachCustomKeyEventHandler(a=>{if("keydown"===a.type){if("KeyC"===a.code&&a.ctrlKey)return this.abort(),this.setContextProcessor(void 0),this.terminal.writeln("Ctrl+C"),this.isExecutingCommand||this.showPrompt(),!1;if("Escape"===a.code)return this.abort(),this.showPrompt({newLine:!0}),!1;if("KeyV"===a.code&&a.ctrlKey)return!1;if("KeyL"===a.code&&a.ctrlKey)return a.preventDefault(),this.clearCurrentLine(),this.terminal.clear(),!1;if(a.shiftKey&&("ArrowLeft"===a.code||"ArrowRight"===a.code)){switch(this.selectionStart||(this.selectionStart=this.getTerminalCursorPosition()),a.code){case"ArrowLeft":this.moveCursorLeft();break;case"ArrowRight":this.moveCursorRight()}return this.selectionEnd=this.getTerminalCursorPosition(),this.updateSelection(),!1}this.selectionStart=null}return!0})}setContextProcessor($,a){$?(a||this.writer.writeInfo("Set "+$?.command+" as context processor, press Ctrl+C to exit"),this.contextProcessor=$):this.contextProcessor=$}setCurrentLine($){this._currentLine=$}clearLine(){(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.uM)(this.terminal,this.promptLength+this.currentLine.length)}showPrompt($){const{reset:a,newLine:d,keepCurrentLine:p}=$||{};a&&this.terminal.write("\x1b[2K\r"),d&&this.terminal.write("\r\n"),p||(this._currentLine="",this.cursorPosition=0),this.terminal.write(this.getPromptString()),this.promptLength=this.terminal.buffer.active.cursorX}clearCurrentLine(){this.clearLine(),this.showPrompt(),this._currentLine="",this.cursorPosition=0}refreshCurrentLine($){const a=this.promptLength+this.currentLine.length,d=this.terminal.cols,p=void 0!==$?Math.max(a,$):a,w=Math.max(1,Math.ceil(p/d));let _="";for(let b=0;b<w;b++)_+="\x1b[2K",b<w-1&&(_+="\x1b[A");_+="\r",_+=this.getPromptString(),_+=(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.Q6)(this.currentLine,b=>this.writer.wrapInColor(b,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)??this.currentLine);const g=this.currentLine.length-this.cursorPosition;g>0&&(_+=`\x1b[${g}D`),this.terminal.write(_)}getPromptString(){let $=this.options?.usersModule?.hideUserName||!this.options?.usersModule?.enabled?"":`\x1b[32m${this.userSession?.user.email}\x1b[0m:`;return this.contextProcessor&&($=`${this.contextProcessor.command}`),`${$}\x1b[34m~\x1b[0m$ `}isProgressRunning(){return this.progressBar.isRunning||this.spinner.isRunning||this.textAnimator.isRunning}abort(){this.progressBar.isRunning&&this.progressBar.complete(),this.spinner?.isRunning&&this.spinner.hide(),this.textAnimator?.isRunning&&this.textAnimator.hide(),this.onAbort.next()}setSession($){this.userSession=$}handleInput($){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.isProgressRunning()||("\r"===$?(a.terminal.write("\r\n"),a.currentLine&&(yield a.commandHistoryService.addCommand(a.currentLine),a.historyIndex=a.commandHistoryService.getLastIndex(),a.cursorPosition=0,a.isExecutingCommand=!0,yield a.executor.executeCommand(a.currentLine,a),a.isExecutingCommand=!1,a.onAbort.observed&&a.terminal.writeln("\x1b[33mPress Ctrl+C to cancel\x1b[0m")),a.showPrompt()):"\x1b[A"===$?a.showPreviousCommand():"\x1b[B"===$?a.showNextCommand():"\x1b[D"===$?a.moveCursorLeft($):"\x1b[C"===$?a.moveCursorRight($):"\x7f"===$?a.handleBackspace():a.handleInputText($))})()}normalizeText($){return"\t"===$?"    ":$.replace(/[\r\n]+/g,"")}handleInputText($){$=this.normalizeText($),this._currentLine=this._currentLine.slice(0,this.cursorPosition)+$+this._currentLine.slice(this.cursorPosition),this.cursorPosition+=$.length,this.refreshCurrentLine()}handleBackspace(){this.cursorPosition>0&&(this._currentLine=this._currentLine.slice(0,this.cursorPosition-1)+this._currentLine.slice(this.cursorPosition),this.cursorPosition--,this.refreshCurrentLine())}moveCursorLeft($="\x1b[D"){this.cursorPosition>0&&(this.cursorPosition--,this.terminal.write($))}moveCursorRight($="\x1b[C"){this.cursorPosition<this.currentLine.length&&(this.cursorPosition++,this.terminal.write($))}showPreviousCommand(){this.historyIndex>0&&(this.historyIndex--,this.displayCommandFromHistory())}showNextCommand(){if(this.historyIndex<this.commandHistoryService.getLastIndex()-1)this.historyIndex++,this.displayCommandFromHistory();else{this.historyIndex=this.commandHistoryService.getLastIndex();const $=this.promptLength+this._currentLine.length;this._currentLine="",this.cursorPosition=0,this.refreshCurrentLine($)}}displayCommandFromHistory(){const $=this.promptLength+this._currentLine.length;this._currentLine=this.commandHistoryService.getCommand(this.historyIndex)||"",this.cursorPosition=this._currentLine.length,this.refreshCurrentLine($)}getTerminalCursorPosition(){return{x:this.terminal._core.buffer.x,y:this.terminal._core.buffer.y}}updateSelection(){if(this.selectionStart&&this.selectionEnd){const $=Math.min(this.selectionStart.y,this.selectionEnd.y),a=Math.max(this.selectionStart.y,this.selectionEnd.y);if($===a){const d=Math.min(this.selectionStart.x,this.selectionEnd.x),p=Math.max(this.selectionStart.x,this.selectionEnd.x);this.terminal.select(d,$,Math.abs(p-d))}else this.terminal.selectLines($,a)}}}const LIBRARY_VERSION="1.0.39";let CliBoot=(()=>{class fe{constructor(a,d){this.implementations=a,this.registry=d,this.initialized=!1,this.initializing=!1}boot(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){if(a.spinner?.show(_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.Rocket+"  Booting..."),d.initialized||d.initializing)return yield d.bootShared(a),void a.spinner?.hide();d.initializing=!0,yield d.registerServices(a),(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.eL)({context:a,handlers:[function(){var w=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(_){yield d.registerUmdModule(_,a)});return function(_){return w.apply(this,arguments)}}()]});let p=d.implementations;a.options?.usersModule?.enabled||(p=p.filter(w=>"users"!==w.metadata?.module)),p=p.filter(w=>{const _=w.metadata;return _?.requiredCoreVersion&&!(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.C$)(_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.Zh,_.requiredCoreVersion)?(a.writer.writeWarning(`Plugin "${w.command}" requires cli-core >=${_.requiredCoreVersion} but ${_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.Zh} is installed. Skipping.`),!1):!(_?.requiredCliVersion&&!(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.C$)(LIBRARY_VERSION,_.requiredCliVersion)&&(a.writer.writeWarning(`Plugin "${w.command}" requires angular-cli >=${_.requiredCliVersion} but ${LIBRARY_VERSION} is installed. Skipping.`),1))}),p.forEach(w=>d.registry.registerProcessor(w)),yield d.bootShared(a),a.spinner?.hide(),d.initialized=!0})()}bootShared(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){yield d.initializeProcessorsInternal(a,d.registry.processors),yield(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.cb)(300)})()}initializeProcessorsInternal(a,d,p){var w=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){try{for(const _ of d){if(_.parent=p,_.initialize){const g=new CliCommandExecutionContext(a,_);yield g.state.initialize(),yield _.initialize(g)}_.processors&&_.processors.length>0&&(yield w.initializeProcessorsInternal(a,_.processors,_))}}catch(_){a.writer.writeError(`Error initializing processors: ${_}`)}})()}registerServices(a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.services.set([{provide:"cli-key-value-store",useValue:a.services.get(CliKeyValueStore)}])})()}registerUmdModule(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{logger:w}=d;if(a)if(a.processors){w.info("Registering processors from module "+a.name);for(const _ of a.processors)p.registry.registerProcessor(_);yield p.initializeProcessorsInternal(d,a.processors)}else w.warn(`Module ${a.name} has no processors`)})()}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(CliCommandProcessor_TOKEN),_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(CliProcessorsRegistry_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();const CLi_Name_Art_Full="\n   ____            _       _ _        _____ _      _____\n  / __ \\          | |     | (_)      / ____| |    |_   _|\n | |  | | ___   __| | __ _| |_ ___  | |    | |      | |\n | |  | |/ _ \\ / _` |/ _` | | / __| | |    | |      | |\n | |__| | (_) | (_| | (_| | | \\__ \\ | |____| |____ _| |_\n  \\___\\_\\\\___/ \\__,_|\\__,_|_|_|___/  \\_____|______|_____|\n",CLi_Name_Art_Compact="\n  ___          _      _ _\n / _ \\ ___  __| |__ _| (_)___\n| (_) / _ \\/ _` / _` | | (_-<\n \\__\\_\\___/\\__,_\\__,_|_|_/__/  CLI\n",getCliNameArt=fe=>fe>=60?CLi_Name_Art_Full:fe>=35?CLi_Name_Art_Compact:"\n  Qodalis CLI\n",CLi_Name_Art=null,hotkeysInfo=[{key:"Ctrl + C",description:"\u23f9  Cancel the running command or copy selection"},{key:"Ctrl + V",description:"\u{1f4cb} Paste from clipboard"},{key:"Ctrl + L",description:"\u{1f9f9} Clear the terminal screen"},{key:"\u2191 / \u2193",description:"\u{1f4dc} Navigate through command history"},{key:"Tab",description:"\u26a1 Autocomplete command"}];class CommandParser{parse($){try{const d=Array.from($.matchAll(/(?:--?([a-zA-Z0-9-_]+)(?:=("[^"]*"|'[^']*'|[^\s]+))?)|(?:[^\s]+)/g));if(0===d.length)throw new Error("Invalid command string");const p=[],w=[];return d.forEach(g=>{if(g[1]){const b=g[1];let A=g[2];A=!A||A.replace(/^['"]|['"]$/g,""),w.push({name:b,value:this.parseValue(A)})}else g[0].startsWith("--")||p.push(g[0])}),{commandName:p.join(" "),args:w}}catch(a){return console.error("Unable to parse the command:",$,a),{commandName:"",args:[]}}}parseValue($){return isNaN(Number($))?"true"===$||"false"===$?"true"===$:$:Number($)}}const resolveCliProvider=(fe,$)=>({provide:fe,useExisting:$,multi:!0}),resolveCommandProcessorProvider=fe=>[fe,resolveCliProvider(CliCommandProcessor_TOKEN,fe)],openLink=fe=>{try{window.open(fe,"_blank")}catch($){console.error($)}},getGreetingBasedOnTime=fe=>{const $=(fe??new Date).getHours();return $>=5&&$<12?"\u2600\ufe0f Good morning! Wishing you a productive day ahead!":$>=12&&$<18?"\u{1f324}\ufe0f Good afternoon! Keep up the great work!":$>=18&&$<22?"\u{1f306} Good evening! Hope you had a fantastic day!":"\u{1f319} Good night! Rest well and see you tomorrow!"};let CliWelcomeMessageService=(()=>{class fe{displayWelcomeMessage(a){const d=a.options?.welcomeMessage;!d?.show||this.shouldDisplayWelcomeMessage(d.show)?(d?.message?a.terminal.writeln(d?.message):[`\u{1f680} Welcome to Web CLI [Version ${a.writer.wrapInColor(LIBRARY_VERSION,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}]`,"(c) 2024 Qodalis Solutions. All rights reserved.",getCliNameArt(a.terminal.cols),"",`\u{1f4d6} ${a.writer.wrapInColor("Documentation:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)} https://cli.qodalis.com/docs/`,"",`\u{1f4a1} Type ${a.writer.wrapInColor("'help'",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to see available commands`,""].forEach((w,_)=>{a.terminal.write(w+"\r\n")}),this.recordWelcomeMessageDisplay(),a.showPrompt(),a.textAnimator?.showText(getGreetingBasedOnTime(),{speed:60,removeAfterTyping:!0})):a.showPrompt()}shouldDisplayWelcomeMessage(a){const d=this.getLastWelcomeMessageDisplayTime();switch(a){case"always":default:return!0;case"once":return!d;case"daily":if(!d)return!0;const p=new Date,w=new Date(d);return p.toDateString()!==w.toDateString();case"never":return!1}}recordWelcomeMessageDisplay(){localStorage.setItem("cliWelcomeMessageLastDisplayed",(new Date).toISOString())}getLastWelcomeMessageDisplayTime(){return localStorage.getItem("cliWelcomeMessageLastDisplayed")}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();const themes={..._qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.kh};class OverlayAddon{constructor(){this.overlayNode=document.createElement("div"),this.overlayNode.style.cssText="border-radius: 15px;\nfont-size: xx-large;\nopacity: 0.75;\npadding: 0.2em 0.5em 0.2em 0.5em;\nposition: absolute;\n-webkit-user-select: none;\n-webkit-transition: opacity 180ms ease-in;\n-moz-user-select: none;\n-moz-transition: opacity 180ms ease-in;",this.overlayNode.addEventListener("mousedown",$=>{$.preventDefault(),$.stopPropagation()},!0)}activate($){this.terminal=$}dispose(){}showOverlay($,a){const{terminal:d,overlayNode:p}=this;if(!d.element)return;p.style.color="#101010",p.style.backgroundColor="#f0f0f0",p.textContent=$,p.style.opacity="0.75",p.parentNode||d.element.appendChild(p);const w=d.element.getBoundingClientRect(),_=p.getBoundingClientRect();p.style.top=(w.height-_.height)/2+"px",p.style.left=(w.width-_.width)/2+"px",this.overlayTimeout&&clearTimeout(this.overlayTimeout),a&&(this.overlayTimeout=window.setTimeout(()=>{p.style.opacity="0",this.overlayTimeout=window.setTimeout(()=>{p.parentNode&&p.parentNode.removeChild(p),this.overlayTimeout=void 0,p.style.opacity="0.75"},200)},a||1500))}}let CliTerminalComponent=(()=>{class fe{constructor(){this.onTerminalReady=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.bkB}ngOnInit(){this.initializeTerminal()}ngAfterViewInit(){this.handleResize()}initializeTerminal(){this.options||(this.options={allowProposedApi:!0}),this.terminal=new _xterm_xterm__WEBPACK_IMPORTED_MODULE_0__.Terminal(this.options),this.fitAddon=new _xterm_addon_fit__WEBPACK_IMPORTED_MODULE_1__.FitAddon,this.terminal.loadAddon(this.fitAddon);const a=new _xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_2__.WebLinksAddon;this.terminal.loadAddon(a);const d=new OverlayAddon;this.terminal.loadAddon(d);const p=new _xterm_addon_unicode11__WEBPACK_IMPORTED_MODULE_3__.Unicode11Addon;this.terminal.loadAddon(p),this.terminal.open(this.terminalDiv.nativeElement),this.fitAddon.fit(),this.wheelListener=w=>w.preventDefault(),this.terminalDiv.nativeElement.addEventListener("wheel",this.wheelListener,{passive:!1}),this.terminal.focus(),this.onTerminalReady.emit(this.terminal)}handleResize(){this.resizeListener=()=>{this.fitAddon.fit()},window.addEventListener("resize",this.resizeListener),this.observeContainerSize()}observeContainerSize(){this.resizeObserver=new ResizeObserver(()=>{this.fitAddon.fit()}),this.resizeObserver.observe(this.terminalDiv.nativeElement)}fitTerminal(){requestAnimationFrame(()=>{this.fitAddon.fit(),this.terminal.focus()})}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener),this.terminalDiv.nativeElement.removeEventListener("wheel",this.wheelListener),this.resizeObserver&&this.resizeObserver.disconnect(),this.terminal?.dispose()}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.VBU({type:fe,selectors:[["cli-terminal"]],viewQuery:function(d,p){if(1&d&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.GBs(_c0,7),2&d){let w;_angular_core__WEBPACK_IMPORTED_MODULE_4__.mGM(w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.lsd())&&(p.terminalDiv=w.first)}},inputs:{options:"options",height:"height"},outputs:{onTerminalReady:"onTerminalReady"},decls:2,vars:2,consts:[[1,"terminal-container"],["terminal",""]],template:function(d,p){1&d&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.nrm(0,"div",0,1),2&d&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.xc7("height",p.height)},styles:[".terminal-container[_ngcontent-%COMP%]{background-color:#0c0c0c;padding:4px}"]})}}return fe})(),CliUserSessionService=(()=>{class fe{constructor(a){this.usersService=a,this.userSessionSubject=new rxjs__WEBPACK_IMPORTED_MODULE_5__.t({user:{id:"anonymous",name:"Anonymous",email:"anonymous"}}),this.usersService.getUsers().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_11__.s)(1)).subscribe(d=>{const p=d.find(w=>"root"===w.id);p&&this.setUserSession({user:p})})}setUserSession(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){d.userSessionSubject.next(a)})()}getUserSession(){return this.userSessionSubject.asObservable()}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(ICliUsersStoreService_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliUsersStoreService=(()=>{class fe{constructor(){this.localStorageKey="users",this.defaultUsers=[{id:"root",name:"root",email:"root@domain.com",groups:["admin"]}],this.usersSubject=new rxjs__WEBPACK_IMPORTED_MODULE_5__.t([]),this.initialize(this.defaultUsers)}initialize(a){const d=this.loadUsers(a);this.usersSubject.next(d)}createUser(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const p=d.usersSubject.getValue();if(p.some(_=>_.email===a.email||_.name===a.name))return Promise.reject("User already exists");const w={...a,id:a.email};return p.push(w),d.saveUsers(p),d.usersSubject.next(p),w})()}getUsers(a){const{query:d,skip:p,take:w}=a||{};return this.usersSubject.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.T)(_=>{if(d){const g=d.toLowerCase();_=_.filter(b=>b.name.toLowerCase().includes(g)||b.email.toLowerCase().includes(g))}return p&&(_=_.slice(p)),w&&(_=_.slice(0,w)),_}))}getUser(a){return this.usersSubject.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.T)(d=>d.find(p=>p.id===a||p.name===a||p.email===a)))}saveUsers(a){localStorage.setItem(this.localStorageKey,JSON.stringify(a))}loadUsers(a){const d=localStorage.getItem(this.localStorageKey);if(!d)return a;try{return JSON.parse(d)}catch(p){return console.error("Failed to parse user data from localStorage",p),a}}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();class CliArgsParser{static convertToRecord($,a){const d={};return $.forEach(w=>{const _=a.parameters?.find(g=>g.name===w.name||g.aliases?.some(b=>b===w.name));if(_){let g=w.value;switch(_.type){case"array":g=[...Array.isArray(d[w.name])?d[w.name]:[],w.value];break;case"boolean":g="true"===g||"1"===g||"yes"===g||"y"===g||1===g;break;default:g=w.value}((w,_)=>{d[w.name]=_,w.aliases?.forEach(g=>{d[g]=_})})(_,g)}else d[w.name]=w.value}),d}}let CliCommandExecutorService=(()=>{class fe{constructor(a){this.registry=a,this.commandParser=new CommandParser}executeCommand(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const w=a.split(/(&&|\|\|)/).map(b=>b.trim());let g,_=!0;g=d instanceof CliCommandExecutionContext?d.context:d;for(let b=0;b<w.length;b++){const A=w[b];if("&&"===A)continue;if("||"===A){_=!_;continue}if(!_){_=!0;continue}let T=!0;try{const k=d.process.data,U=A;yield p.executeSingleCommand(U,k,g),T=void 0===d.process.exitCode||0===d.process.exitCode}catch(k){T=!1,d.writer.writeError(`Command ${A} failed: ${k}`)}_=T}})()}executeSingleCommand(a,d,p){var w=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const _=p.process;_.start();const{commandName:g,args:b}=w.commandParser.parse(a),[A,...T]=g.split(" "),k=T.map(G=>G.toLowerCase()),j=w.registry.findProcessorInCollection(A,k,p.contextProcessor?p.contextProcessor.processors??[]:w.registry.processors);if(!j){const G=w.registry.findProcessor("alias",[]).userAliases??{};if(G[A]){const Z=G[A];return yield w.executeSingleCommand(Z,d,p)}return p.writer.writeError(`Command not found: ${p.writer.wrapInColor(g,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),p.writer.writeln(),p.writer.writeInfo(`\u{1f4a1} Type ${p.writer.wrapInColor("help",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} for a list of available commands`),p.writer.writeInfo(`\u{1f4e6} Use ${p.writer.wrapInColor("pkg add <name>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to install additional commands`),void p.process.exit(-1,{silent:!0})}const F=CliArgsParser.convertToRecord(b,j),D={command:g,chainCommands:k,rawCommand:a,args:F,data:d};if(w.versionRequested(p,j,F))return void _.end();if(yield w.helpRequested(D,p))return void _.end();if(w.setContextProcessorRequested(p,j,F))return void _.end();if(!w.validateBeforeExecution(p,j,F))return void _.end();const E=j.allowUnlistedCommands||j.valueRequired?(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.co)(g,j.command):void 0;if(D.value=E,j.valueRequired&&!E)return p.writer.writeError(`Value required: ${p.writer.wrapInColor(`${g} <value>`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),void p.process.exit(-1);if(j.validateBeforeExecution){const G=j.validateBeforeExecution(D,p);if(!1===G.valid)return p.writer.writeError(G?.message||"An error occurred while validating the command."),void p.process.exit(-1)}let M=null;const W=new CliCommandExecutionContext(p,j);try{const G=j.hooks??[];for(const Z of G.filter(ne=>"before"===ne.when))yield Z.execute(W);M=new _qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.m$(function(){var Z=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(ne,H){j.processCommand(D,W).then(()=>{ne()}).catch(te=>{H(te)})});return function(ne,H){return Z.apply(this,arguments)}}()),yield M.execute();for(const Z of G.filter(ne=>"after"===ne.when))yield Z.execute(W);_.end()}catch(G){p.spinner?.hide(),G instanceof ProcessExitedError?(M?.cancel(),p?.abort(),0!==G.code?p.writer.writeError(`Process exited with code ${G.code}`):p.writer.writeInfo("Process exited successfully with code 0")):(p.writer.writeError(`Error executing command: ${G}`),p.process.exit(-1))}})()}showHelp(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){try{yield p.executeCommand("help "+a.rawCommand,d)}catch(w){d.writer.writeError(`Error executing command: ${w}`)}})()}versionRequested(a,d,p){return!(!p.v&&!p.version||(a.writer.writeln(`${a.writer.wrapInColor(d.version||"1.0.0",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),0))}setContextProcessorRequested(a,d,p){return!!p.context&&(a.setContextProcessor(d),!0)}helpRequested(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){return!(a.command?.startsWith("help")||!a.args.h&&!a.args.help||(yield p.showHelp(a,d),0))})()}validateBeforeExecution(a,d,p){if(d.parameters?.some(_=>_.required)){const _=d.parameters?.filter(g=>g.required&&!p[g.name]&&!g.aliases?.some(b=>p[b]));if(_?.length)return a.writer.writeError(`Missing required parameters: ${_.map(g=>a.writer.wrapInColor(`--${g.name}`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)).join(", ")}`),!1}const w=d.parameters?.filter(_=>_.validator)?.map(_=>({parameter:_,value:(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.dt)(_,p)}))?.filter(_=>_.value)??[];if(w.length>0){const _=w.map(g=>({name:g.parameter.name,result:g.parameter.validator(g.value)})).filter(g=>!g.result.valid).map(g=>({name:g.name,message:g.result.message}));if(_?.length)return a.writer.writeError("Invalid parameters:"),_.forEach((g,b)=>{a.writer.writeln(`  ${b+1}. ${a.writer.wrapInColor(`--${g.name}`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} = "${p[g.name]}" \u2192 ${g.message}`)}),!1}return!0}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(CliProcessorsRegistry_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();class CliDefaultPingServerService{ping(){return new Promise($=>setTimeout($,2e3))}}const CDN_BASE_URLS={unpkg:"https://unpkg.com/",jsdelivr:"https://cdn.jsdelivr.net/npm/"},DEFAULT_CDN_ORDER=["unpkg","jsdelivr"];let ScriptLoaderService=(()=>{class fe{constructor(){this.cdnOrder=[...DEFAULT_CDN_ORDER]}setCdnSource(a){this.cdnOrder=[a,...["unpkg","jsdelivr"].filter(p=>p!==a)]}getCdnSource(){return this.cdnOrder[0]}injectScript(a){return new Promise((d,p)=>{const w=document.createElement("script");w.src=a,w.async=!0,w.onload=()=>d(),w.onerror=()=>p(new Error(`Failed to load script: ${a}`)),document.head.appendChild(w)})}getScript(a,d){const{onProgress:p,signal:w}=d||{};let _=0;return new Promise((g,b)=>{const A=new XMLHttpRequest;if(A.open("GET",a,!0),w){if(w.aborted)return void b(new Error("Aborted"));w.addEventListener("abort",()=>{A.abort(),b(new Error("Aborted"))})}A.onprogress=T=>{if(T.lengthComputable){const k=Math.round(T.loaded/T.total*100);_=k,p?.(k)}else _+=20,p?.(_)},A.onload=()=>{200===A.status?(p?.(100),_=100,g({xhr:A,content:A.responseText})):b(new Error(`Failed to load package: ${a}, Status: ${A.status}, Message: ${A.responseText}`))},A.onerror=()=>{b(new Error(`Failed to load package: ${a}`))},A.send()})}injectBodyScript(a){const d=document.createElement("script");d.text=a,document.head.appendChild(d)}getCdnUrls(a){return this.cdnOrder.map(d=>`${CDN_BASE_URLS[d]}${a}`)}getScriptWithFallback(a,d){const p=this.getCdnUrls(a);return this.getScriptFromUrls(p,d)}injectScriptWithFallback(a){const d=this.getCdnUrls(a);return this.injectScriptFromUrls(d)}getScriptFromUrls(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){let w;for(const _ of a)try{return yield p.getScript(_,d)}catch(g){if("Aborted"===g?.message)throw g;w=g}throw w})()}injectScriptFromUrls(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){let p;for(const w of a)try{return yield d.injectScript(w)}catch(_){p=_}throw p})()}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliComponent=(()=>{class fe{constructor(a,d,p,w){this.injector=a,this.userManagementService=d,this.commandExecutor=p,this.store=w,this.minDepsInitialized=new rxjs__WEBPACK_IMPORTED_MODULE_5__.t(!1),this.terminalInitialized=new rxjs__WEBPACK_IMPORTED_MODULE_5__.t(!1),this.subscriptions=new rxjs__WEBPACK_IMPORTED_MODULE_12__.yU,this.subscriptions.add(this.userManagementService.getUserSession().subscribe(_=>{this.currentUserSession=_,this.executionContext?.setSession(_),this.terminal&&this.executionContext?.showPrompt({reset:!0})}))}ngOnInit(){this.subscriptions.add((0,rxjs__WEBPACK_IMPORTED_MODULE_13__.z)([this.minDepsInitialized,this.terminalInitialized]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_14__.p)(([a,d])=>a&&d)).subscribe(()=>{this.initialize()})),this.terminalOptions={cursorBlink:!0,allowProposedApi:!0,fontSize:20,theme:themes.default,convertEol:!0,...this.options?.terminalOptions??{}},this.store.initialize().then(()=>{this.minDepsInitialized.next(!0)})}ngOnDestroy(){this.subscriptions.unsubscribe()}focus(){this.terminalComponent?.fitTerminal()}onTerminalReady(a){this.terminal=a,this.terminalInitialized.next(!0)}initialize(){this.executionContext=new CliExecutionContext(this.injector,this.terminal,this.commandExecutor,{...this.options??{},terminalOptions:this.terminalOptions}),this.executionContext.setSession(this.currentUserSession),this.executionContext.initializeTerminalListeners(),this.injector.get(CliBoot).boot(this.executionContext).then(()=>{this.injector.get(CliWelcomeMessageService).displayWelcomeMessage(this.executionContext)})}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_4__.zZn),_angular_core__WEBPACK_IMPORTED_MODULE_4__.rXU(ICliUserSessionService_TOKEN),_angular_core__WEBPACK_IMPORTED_MODULE_4__.rXU(CliCommandExecutorService),_angular_core__WEBPACK_IMPORTED_MODULE_4__.rXU(CliKeyValueStore))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.VBU({type:fe,selectors:[["cli"]],viewQuery:function(d,p){if(1&d&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.GBs(CliTerminalComponent,5),2&d){let w;_angular_core__WEBPACK_IMPORTED_MODULE_4__.mGM(w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.lsd())&&(p.terminalComponent=w.first)}},inputs:{options:"options",height:"height"},decls:1,vars:2,consts:[[3,"options","height","onTerminalReady"]],template:function(d,p){1&d&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.j41(0,"cli-terminal",0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("onTerminalReady",function(_){return p.onTerminalReady(_)}),_angular_core__WEBPACK_IMPORTED_MODULE_4__.k0s()),2&d&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("options",p.terminalOptions)("height",p.height)},dependencies:[CliTerminalComponent],encapsulation:2})}}return fe})();const HEADER_HEIGHT=60;let CollapsableContentComponent=(()=>{class fe{constructor(){this.previousPanelHeight=600,this.panelHeight=600,this.isResizing=!1,this.startY=0,this.startHeight=0,this.visible=!0,this.isCollapsed=!0,this.isMaximized=!1,this.onToggle=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.bkB,this.onContentSizeChange=new _angular_core__WEBPACK_IMPORTED_MODULE_4__.bkB}toggleTerminal(){this.isCollapsed=!this.isCollapsed,this.onToggle.emit(this.isCollapsed)}closeTerminal(){this.visible=!1}toggleMaximizationTerminal(){this.isMaximized?this.panelHeight=this.previousPanelHeight:(this.previousPanelHeight=this.panelHeight,this.panelHeight=window.innerHeight),this.isMaximized=!this.isMaximized,this.updateTerminalSize()}onResizeStart(a){this.isResizing=!0,this.isCollapsed&&this.toggleTerminal(),this.startY=a.clientY,this.startHeight=this.panelHeight,a.preventDefault()}onMouseMove(a){if(this.isResizing){let p=Math.max(100,this.startHeight+(this.startY-a.clientY));p>window.innerHeight&&(p=window.innerHeight),this.panelHeight=p,this.updateTerminalSize()}}onMouseUp(){this.isResizing=!1}updateTerminalSize(){this.onContentSizeChange.emit(this.panelHeight-HEADER_HEIGHT)}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.VBU({type:fe,selectors:[["collapsable-content"]],hostBindings:function(d,p){1&d&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("mousemove",function(_){return p.onMouseMove(_)},!1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.EBC)("mouseup",function(){return p.onMouseUp()},!1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.EBC)},inputs:{visible:"visible",isCollapsed:"isCollapsed",isMaximized:"isMaximized"},outputs:{onToggle:"onToggle",onContentSizeChange:"onContentSizeChange"},ngContentSelectors:_c2,decls:1,vars:1,consts:[["class","terminal-wrapper",3,"collapsed","maximized","resizing","style",4,"ngIf"],[1,"terminal-wrapper"],[1,"terminal-header"],[1,"resize-bar",3,"mousedown"],[1,"resize-grip"],[1,"header-content"],[1,"terminal-title"],["width","22","height","22","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"title-icon"],["points","4 17 10 11 4 5"],["x1","12","y1","19","x2","20","y2","19"],[1,"action-buttons"],[1,"panel-btn",3,"title","disabled","click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.8","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],[1,"panel-btn",3,"title","click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.8","stroke-linecap","round","stroke-linejoin","round"],["points","18 15 12 9 6 15",4,"ngIf"],["points","6 9 12 15 18 9",4,"ngIf"],["title","Close",1,"panel-btn",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["class","terminal-content",4,"ngIf"],["points","15 3 21 3 21 9"],["points","9 21 3 21 3 15"],["x1","21","y1","3","x2","14","y2","10"],["x1","3","y1","21","x2","10","y2","14"],["points","4 14 10 14 10 20"],["points","20 10 14 10 14 4"],["x1","14","y1","10","x2","21","y2","3"],["points","18 15 12 9 6 15"],["points","6 9 12 15 18 9"],[1,"terminal-content"]],template:function(d,p){1&d&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.NAR(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(0,CollapsableContentComponent_div_0_Template,23,18,"div",0)),2&d&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",p.visible)},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.bT],styles:[".terminal-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;width:100vw;transform:translateY(0);transition:transform .3s cubic-bezier(.4,0,.2,1);background-color:var(--cli-panel-bg, #111827);color:var(--cli-panel-text, rgba(255, 255, 255, .87));border-top:1px solid var(--cli-panel-border, #374151);display:flex;flex-direction:column;z-index:1000;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;box-shadow:0 -4px 20px #00000040}.terminal-wrapper.collapsed[_ngcontent-%COMP%]{transform:translateY(calc(100% - 60px))}.terminal-wrapper.resizing[_ngcontent-%COMP%]{transition:none;-webkit-user-select:none;user-select:none}.terminal-header[_ngcontent-%COMP%]{background-color:var(--cli-panel-header-bg, #1f2937);display:flex;flex-direction:column;position:relative;flex-shrink:0}.terminal-header[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;top:-6px;left:0;right:0;height:12px;cursor:ns-resize;display:flex;align-items:center;justify-content:center;z-index:2}.terminal-header[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]   .resize-grip[_ngcontent-%COMP%]{width:32px;height:4px;border-radius:2px;background:var(--cli-panel-text-secondary, rgba(255, 255, 255, .3));opacity:0;transition:opacity .2s ease}.terminal-header[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]:hover   .resize-grip[_ngcontent-%COMP%]{opacity:1}.terminal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{height:60px;display:flex;flex-direction:row;gap:1rem;align-items:center;border-bottom:1px solid var(--cli-panel-border, #374151);padding:0 1rem}.terminal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .terminal-title[_ngcontent-%COMP%]{font-size:.95rem;display:flex;gap:.5rem;justify-content:center;align-items:center;margin:0;font-weight:600;color:var(--cli-panel-text, rgba(255, 255, 255, .87))}.terminal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .terminal-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{color:var(--cli-panel-accent, #818cf8)}.terminal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.35rem;margin-left:auto}.panel-btn[_ngcontent-%COMP%]{appearance:none;background:transparent;border:none;color:var(--cli-panel-text-secondary, rgba(255, 255, 255, .6));cursor:pointer;width:40px;height:40px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;padding:0;transition:background-color .2s ease,color .2s ease}.panel-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.panel-btn[_ngcontent-%COMP%]:hover:not(:disabled){color:var(--cli-panel-text, rgba(255, 255, 255, .87));background-color:var(--cli-btn-hover-bg, rgba(129, 140, 248, .12))}.panel-btn[_ngcontent-%COMP%]:active:not(:disabled){background-color:var(--cli-btn-active-bg, rgba(129, 140, 248, .2))}.panel-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.terminal-content[_ngcontent-%COMP%]{flex:1;min-height:0;overflow:hidden}"]})}}return fe})(),CliCanViewService=(()=>{class fe{constructor(){}canView(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.of)(!0)}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliPanelComponent=(()=>{class fe{static{this.MIN_PANE_WIDTH_PERCENT=10}static{this.TAB_BAR_HEIGHT=38}constructor(a,d){this.canView=a,this.elementRef=d,this.visible=!1,this.tabs=[],this.activeTabId=0,this.activePaneId=0,this.nextTabId=1,this.nextPaneId=1,this.contextMenu={visible:!1,x:0,y:0,tabId:0},this.paneResizing=!1,this.paneResizeTabId=0,this.paneResizeDividerIndex=0,this.paneResizeStartX=0,this.paneResizeStartWidths=[],this.paneResizeContainerWidth=0,this.terminalHeight="502px",this.initialized=!1,this.subscriptions=new rxjs__WEBPACK_IMPORTED_MODULE_12__.yU,this.subscriptions.add(this.canView.canView().subscribe(p=>{this.visible=p}))}ngOnDestroy(){this.subscriptions.unsubscribe()}onDocumentClick(a){this.contextMenu.visible&&this.closeContextMenu()}onEscapeKey(){this.contextMenu.visible&&this.closeContextMenu(),this.cancelAllEditing()}onToggle(a){!a&&!this.initialized&&(this.initialized=!0,this.addTab())}onContentSizeChange(a){this.terminalHeight=a-fe.TAB_BAR_HEIGHT+"px"}addTab(){const a={id:this.nextPaneId++,widthPercent:100},d={id:this.nextTabId++,title:"Terminal "+(this.nextTabId-1),isEditing:!1,panes:[a]};this.tabs.push(d),this.activeTabId=d.id,this.activePaneId=a.id}closeTab(a){const d=this.tabs.findIndex(p=>p.id===a);if(-1!==d){if(this.tabs.splice(d,1),0===this.tabs.length)return this.initialized=!1,void this.collapsableContent?.toggleTerminal();if(this.activeTabId===a){const p=Math.min(d,this.tabs.length-1);this.selectTab(this.tabs[p].id)}}}selectTab(a){this.activeTabId=a;const d=this.findTab(a);d&&d.panes.length>0&&(this.activePaneId=d.panes[0].id),setTimeout(()=>{this.focusActiveTerminal()})}trackByTabId(a,d){return d.id}trackByPaneId(a,d){return d.id}startRename(a){this.cancelAllEditing(),a.isEditing=!0,setTimeout(()=>{const d=this.elementRef.nativeElement.querySelector(".tab-rename-input");d&&(d.focus(),d.select())})}onTabDoubleClick(a){this.startRename(a)}commitRename(a,d){const p=d.trim();p&&(a.title=p),a.isEditing=!1}onRenameKeydown(a,d){"Enter"===a.key?this.commitRename(d,a.target.value):"Escape"===a.key&&(d.isEditing=!1)}onRenameBlur(a,d){d.isEditing&&this.commitRename(d,a.target.value)}onTabContextMenu(a,d){a.preventDefault(),a.stopPropagation(),this.contextMenu={visible:!0,x:a.clientX,y:a.clientY,tabId:d.id}}closeContextMenu(){this.contextMenu={...this.contextMenu,visible:!1}}contextMenuRename(){const a=this.findTab(this.contextMenu.tabId);this.closeContextMenu(),a&&this.startRename(a)}contextMenuDuplicate(){const a=this.findTab(this.contextMenu.tabId);if(this.closeContextMenu(),a){const d={id:this.nextPaneId++,widthPercent:100},p={id:this.nextTabId++,title:`${a.title} (copy)`,isEditing:!1,panes:[d]},w=this.tabs.indexOf(a);this.tabs.splice(w+1,0,p),this.activeTabId=p.id,this.activePaneId=d.id}}contextMenuClose(){const a=this.contextMenu.tabId;this.closeContextMenu(),this.closeTab(a)}contextMenuCloseOthers(){const a=this.contextMenu.tabId;this.closeContextMenu(),this.tabs=this.tabs.filter(d=>d.id===a),this.activeTabId=a}contextMenuCloseToTheRight(){const a=this.contextMenu.tabId;this.closeContextMenu();const d=this.tabs.findIndex(p=>p.id===a);-1!==d&&(this.tabs=this.tabs.slice(0,d+1),this.tabs.find(p=>p.id===this.activeTabId)||(this.activeTabId=a))}contextMenuCloseAll(){this.closeContextMenu(),this.tabs=[],this.initialized=!1,this.collapsableContent?.toggleTerminal()}splitRight(a,d){const p=this.findTab(a??this.activeTabId);if(!p)return;const w=d??this.activePaneId,_=p.panes.findIndex(T=>T.id===w),g=-1===_?p.panes.length:_+1,b={id:this.nextPaneId++,widthPercent:0};p.panes.splice(g,0,b);const A=100/p.panes.length;p.panes.forEach(T=>T.widthPercent=A),this.normalizePaneWidths(p.panes),this.activePaneId=b.id}closePane(a,d){const p=this.findTab(a);if(!p)return;if(p.panes.length<=1)return void this.closeTab(a);const w=p.panes.findIndex(g=>g.id===d);if(-1===w)return;p.panes.splice(w,1);const _=p.panes.reduce((g,b)=>g+b.widthPercent,0);if(_>0&&p.panes.forEach(g=>{g.widthPercent=g.widthPercent/_*100}),this.normalizePaneWidths(p.panes),this.activePaneId===d){const g=Math.min(w,p.panes.length-1);this.activePaneId=p.panes[g].id}setTimeout(()=>this.focusActiveTerminal())}contextMenuSplitRight(){const a=this.contextMenu.tabId;this.closeContextMenu(),this.splitRight(a)}onPaneResizeStart(a,d,p){a.preventDefault();const w=this.findTab(d);if(!w)return;this.paneResizing=!0,this.paneResizeTabId=d,this.paneResizeDividerIndex=p,this.paneResizeStartX=a.clientX,this.paneResizeStartWidths=w.panes.map(g=>g.widthPercent);const _=a.target.closest(".terminal-panes-container");this.paneResizeContainerWidth=_?_.clientWidth:1,document.body.classList.add("cli-pane-resizing")}onPaneResizeMove(a){if(!this.paneResizing)return;const d=this.findTab(this.paneResizeTabId);if(!d)return;const w=(a.clientX-this.paneResizeStartX)/this.paneResizeContainerWidth*100,_=this.paneResizeDividerIndex,g=fe.MIN_PANE_WIDTH_PERCENT;let b=this.paneResizeStartWidths[_]+w,A=this.paneResizeStartWidths[_+1]-w;b<g&&(b=g,A=this.paneResizeStartWidths[_]+this.paneResizeStartWidths[_+1]-g),A<g&&(A=g,b=this.paneResizeStartWidths[_]+this.paneResizeStartWidths[_+1]-g),d.panes[_].widthPercent=b,d.panes[_+1].widthPercent=A}onPaneResizeEnd(){this.paneResizing&&(this.paneResizing=!1,document.body.classList.remove("cli-pane-resizing"))}onPaneClick(a,d){this.activePaneId=d,this.activeTabId!==a&&(this.activeTabId=a),setTimeout(()=>this.focusPane(a,d))}findTab(a){return this.tabs.find(d=>d.id===a)}cancelAllEditing(){this.tabs.forEach(a=>a.isEditing=!1)}focusActiveTerminal(){this.focusPane(this.activeTabId,this.activePaneId)}focusPane(a,d){if(!this.cliComponents)return;let p=0;for(const w of this.tabs)for(const _ of w.panes){if(w.id===a&&_.id===d)return void this.cliComponents.toArray()[p]?.focus();p++}}normalizePaneWidths(a){const d=a.reduce((w,_)=>w+_.widthPercent,0);if(0===d)return;const p=100/d;a.forEach(w=>w.widthPercent=w.widthPercent*p)}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.rXU(CliCanViewService),_angular_core__WEBPACK_IMPORTED_MODULE_4__.rXU(_angular_core__WEBPACK_IMPORTED_MODULE_4__.aKT))}}static{this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.VBU({type:fe,selectors:[["cli-panel"]],viewQuery:function(d,p){if(1&d&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.GBs(CollapsableContentComponent,5),_angular_core__WEBPACK_IMPORTED_MODULE_4__.GBs(CliComponent,5)),2&d){let w;_angular_core__WEBPACK_IMPORTED_MODULE_4__.mGM(w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.lsd())&&(p.collapsableContent=w.first),_angular_core__WEBPACK_IMPORTED_MODULE_4__.mGM(w=_angular_core__WEBPACK_IMPORTED_MODULE_4__.lsd())&&(p.cliComponents=w)}},hostBindings:function(d,p){1&d&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.bIt("click",function(_){return p.onDocumentClick(_)},!1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.EBC)("keydown.escape",function(){return p.onEscapeKey()},!1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.EBC)("mousemove",function(_){return p.onPaneResizeMove(_)},!1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.EBC)("mouseup",function(){return p.onPaneResizeEnd()},!1,_angular_core__WEBPACK_IMPORTED_MODULE_4__.EBC)},inputs:{options:"options"},decls:2,vars:2,consts:[[3,"isCollapsed","onToggle","onContentSizeChange",4,"ngIf"],["class","tab-context-menu",3,"left","top","click",4,"ngIf"],[3,"isCollapsed","onToggle","onContentSizeChange"],[4,"ngIf"],[1,"terminal-tabs"],[1,"tab-list"],["class","tab",3,"active","click","dblclick","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["title","New terminal",1,"add-tab",3,"click"],[1,"terminal-instances"],["class","terminal-instance",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tab",3,"click","dblclick","contextmenu"],["class","tab-rename-input","type","text",3,"value","keydown","blur","click","dblclick",4,"ngIf"],["class","tab-title",4,"ngIf"],["class","close-btn","title","Close tab",3,"click",4,"ngIf"],["type","text",1,"tab-rename-input",3,"value","keydown","blur","click","dblclick"],["renameInput",""],[1,"tab-title"],["title","Close tab",1,"close-btn",3,"click"],[1,"terminal-instance",3,"hidden"],[1,"terminal-panes-container"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","pane-divider",3,"mousedown",4,"ngIf"],[1,"terminal-pane",3,"click"],["class","pane-close-btn","title","Close pane",3,"click",4,"ngIf"],[3,"options","height"],[1,"pane-divider",3,"mousedown"],[1,"pane-divider-grip"],["title","Close pane",1,"pane-close-btn",3,"click"],[1,"tab-context-menu",3,"click"],[1,"context-menu-item",3,"click"],[1,"context-menu-separator"],[1,"context-menu-item",3,"disabled","click"],[1,"context-menu-item","destructive",3,"click"]],template:function(d,p){1&d&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(0,CliPanelComponent_collapsable_content_0_Template,2,2,"collapsable-content",0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.DNE(1,CliPanelComponent_div_1_Template,17,5,"div",1)),2&d&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",p.visible),_angular_core__WEBPACK_IMPORTED_MODULE_4__.R7$(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y8G("ngIf",p.contextMenu.visible))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.Sq,_angular_common__WEBPACK_IMPORTED_MODULE_15__.bT,CliComponent,CollapsableContentComponent],styles:[".terminal-tabs[_ngcontent-%COMP%]{background-color:var(--cli-panel-header-bg, #1f2937);display:flex;align-items:center;height:38px;padding:0 8px;gap:4px;border-bottom:1px solid var(--cli-panel-border, #374151);overflow-x:auto;overflow-y:hidden;flex-shrink:0}.terminal-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{height:2px}.terminal-tabs[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--cli-panel-text-secondary, rgba(255, 255, 255, .3));border-radius:1px}.terminal-tabs[_ngcontent-%COMP%]   .tab-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;gap:2px;align-items:stretch;height:100%}.terminal-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:0 12px;cursor:pointer;background:transparent;border:none;border-top:2px solid transparent;color:var(--cli-panel-text-secondary, rgba(255, 255, 255, .6));font-size:.8rem;font-family:inherit;white-space:nowrap;transition:background-color .15s ease,color .15s ease,border-color .15s ease;height:100%}.terminal-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover:not(.active){background-color:var(--cli-btn-hover-bg, rgba(129, 140, 248, .12));color:var(--cli-panel-text, rgba(255, 255, 255, .87))}.terminal-tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:var(--cli-panel-bg, #111827);color:var(--cli-panel-text, rgba(255, 255, 255, .87));border-top-color:var(--cli-panel-accent, #818cf8)}.terminal-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{pointer-events:none}.terminal-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-rename-input[_ngcontent-%COMP%]{appearance:none;background:var(--cli-panel-bg, #111827);border:1px solid var(--cli-panel-accent, #818cf8);color:var(--cli-panel-text, rgba(255, 255, 255, .87));font-size:.8rem;font-family:inherit;padding:2px 6px;border-radius:3px;outline:none;width:120px;height:22px}.terminal-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{appearance:none;background:none;border:none;color:var(--cli-panel-text-secondary, rgba(255, 255, 255, .4));cursor:pointer;font-size:1rem;line-height:1;padding:0 2px;border-radius:3px;transition:background-color .15s ease,color .15s ease}.terminal-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--cli-panel-text, rgba(255, 255, 255, .87));background-color:#ffffff1a}.terminal-tabs[_ngcontent-%COMP%]   .add-tab[_ngcontent-%COMP%]{appearance:none;background:transparent;border:1px dashed var(--cli-panel-text-secondary, rgba(255, 255, 255, .3));color:var(--cli-panel-text-secondary, rgba(255, 255, 255, .5));cursor:pointer;font-size:1rem;line-height:1;width:28px;height:24px;border-radius:4px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:background-color .15s ease,color .15s ease,border-color .15s ease}.terminal-tabs[_ngcontent-%COMP%]   .add-tab[_ngcontent-%COMP%]:hover{background-color:var(--cli-btn-hover-bg, rgba(129, 140, 248, .12));color:var(--cli-panel-text, rgba(255, 255, 255, .87));border-color:var(--cli-panel-text, rgba(255, 255, 255, .5))}.tab-context-menu[_ngcontent-%COMP%]{position:fixed;z-index:1100;background-color:var(--cli-panel-header-bg, #1f2937);border:1px solid var(--cli-panel-border, #374151);border-radius:6px;padding:4px 0;min-width:180px;box-shadow:0 4px 16px #0006;font-family:inherit}.tab-context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]{appearance:none;background:transparent;border:none;color:var(--cli-panel-text, rgba(255, 255, 255, .87));cursor:pointer;display:block;width:100%;text-align:left;padding:6px 14px;font-size:.82rem;font-family:inherit;transition:background-color .1s ease}.tab-context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--cli-btn-hover-bg, rgba(129, 140, 248, .12))}.tab-context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]:disabled{color:var(--cli-panel-text-secondary, rgba(255, 255, 255, .3));cursor:not-allowed}.tab-context-menu[_ngcontent-%COMP%]   .context-menu-item.destructive[_ngcontent-%COMP%]{color:#f87171}.tab-context-menu[_ngcontent-%COMP%]   .context-menu-item.destructive[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f871711f}.tab-context-menu[_ngcontent-%COMP%]   .context-menu-separator[_ngcontent-%COMP%]{height:1px;background-color:var(--cli-panel-border, #374151);margin:4px 0}.terminal-instances[_ngcontent-%COMP%]{flex:1;min-height:0;overflow:hidden}.terminal-instance[_ngcontent-%COMP%]{height:100%}.terminal-panes-container[_ngcontent-%COMP%]{display:flex;height:100%}.terminal-panes-container.resizing[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:ew-resize}.terminal-pane[_ngcontent-%COMP%]{position:relative;height:100%;min-width:0;overflow:hidden}.terminal-pane.active-pane[_ngcontent-%COMP%]{outline:1px solid var(--cli-panel-accent, #818cf8);outline-offset:-1px}.terminal-pane[_ngcontent-%COMP%]:hover   .pane-close-btn[_ngcontent-%COMP%]{opacity:1}.pane-close-btn[_ngcontent-%COMP%]{appearance:none;position:absolute;top:4px;right:4px;z-index:10;background:var(--cli-panel-header-bg, #1f2937);border:1px solid var(--cli-panel-border, #374151);color:var(--cli-panel-text-secondary, rgba(255, 255, 255, .6));cursor:pointer;font-size:.9rem;line-height:1;width:22px;height:22px;border-radius:3px;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .15s ease,background-color .15s ease,color .15s ease}.pane-close-btn[_ngcontent-%COMP%]:hover{color:var(--cli-panel-text, rgba(255, 255, 255, .87));background-color:#ffffff1a}.pane-divider[_ngcontent-%COMP%]{width:6px;cursor:ew-resize;display:flex;align-items:center;justify-content:center;flex-shrink:0;background:transparent;transition:background-color .15s ease}.pane-divider[_ngcontent-%COMP%]:hover{background-color:var(--cli-panel-accent, #818cf8)}.pane-divider[_ngcontent-%COMP%]   .pane-divider-grip[_ngcontent-%COMP%]{width:2px;height:24px;border-radius:1px;background-color:var(--cli-panel-text-secondary, rgba(255, 255, 255, .3));transition:background-color .15s ease}.pane-divider[_ngcontent-%COMP%]:hover   .pane-divider-grip[_ngcontent-%COMP%]{background-color:var(--cli-panel-text, rgba(255, 255, 255, .87))}"]})}}return fe})(),CliPingCommandProcessor=(()=>{class fe{constructor(a){this.pingServerService=a,this.command="ping",this.aliases=["pong"],this.description="Pings the server",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={icon:"\u{1f3d3}"}}writeDescription(a){a.writer.writeln("Pings the server to check connectivity"),a.writer.writeln(),a.writer.writeln("\u{1f4e1} Usage:"),a.writer.writeln("  ping"),a.writer.writeln(),a.writer.writeln('\u{1f4a1} Returns "pong" if the server is reachable')}processCommand(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){d.spinner?.show(),d?.spinner?.setText("Pinging server...");try{yield p.pingServerService.ping(),d.spinner?.hide(),d.writer.writeln("pong")}catch{d.spinner?.hide(),d.writer.writeError("Failed to ping the server")}})()}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(ICliPingServerService_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac})}}return fe})();class CliEvalCommandProcessor{constructor(){this.command="eval",this.aliases=["calc","js"],this.description="Evaluate a JavaScript expression",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.allowUnlistedCommands=!0,this.metadata={icon:"\u{1f9ee}",module:"misc"}}processCommand(command,context){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){try{const output=eval(command.value??"");if(Array.isArray(output))return context.writer.writeln("Output:"),void context.writer.writeJson(output);if("object"==typeof output)return context.writer.writeln("Output:"),void context.writer.writeJson(output);context.writer.writeln("Output: "+output?.toString())}catch(fe){context.writer.writeError(fe.toString())}})()}writeDescription(fe){const{writer:$}=fe;$.writeln(this.description),$.writeln("Supports arithmetic, strings, arrays, objects, and any valid JS"),$.writeln(),$.writeln("\u{1f4cb} Usage:"),$.writeln(`  ${$.wrapInColor("eval <expression>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),$.writeln(),$.writeln("\u{1f4dd} Examples:"),$.writeln(`  eval 1 + 1                       ${$.wrapInColor("# \u2192 2",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),$.writeln(`  eval "Hello, " + "World!"        ${$.wrapInColor("# \u2192 Hello, World!",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),$.writeln(`  eval Math.random()               ${$.wrapInColor("# \u2192 0.1234...",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),$.writeln(`  eval [1,2,3].map(x => x * 2)     ${$.wrapInColor("# \u2192 [2, 4, 6]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}const githubUrl="https://github.com/qodalis-solutions/angular-web-cli";let CliFeedbackCommandProcessor=(()=>{class fe{constructor(){this.command="feedback",this.aliases=["support"],this.description="Allows users to report bugs or request features",this.processors=[],this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.Bug,module:"system"},this.processors?.push({command:"report-bug",description:"Reports a bug on GitHub",allowUnlistedCommands:!0,processCommand:({value:a},d)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){openLink(`${githubUrl}/issues/new?assignees=&labels=bug&projects=&template=bug_report.md&title=${a}`)})(),writeDescription({writer:a}){a.writeln("\u{1f41e} Opens a new bug report on GitHub"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("feedback report-bug <title>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"request-feature",description:"Requests a new feature on GitHub",allowUnlistedCommands:!0,processCommand:({value:a},d)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){openLink(`${githubUrl}/issues/new?assignees=&labels=feature-request&projects=&template=feature_request.md&title=${a}`)})(),writeDescription({writer:a}){a.writeln("\u2728 Opens a new feature request on GitHub"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("feedback request-feature <title>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"request-command",description:"Requests a new command on GitHub",allowUnlistedCommands:!0,processCommand:({value:a},d)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){openLink(`${githubUrl}/issues/new?assignees=&labels=command-request&projects=&template=command-request.md&title=${a}`)})(),writeDescription({writer:a}){a.writeln("\u{1f9e9} Opens a new command request on GitHub"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("feedback request-command <title>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}})}processCommand(a,{writer:d}){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){d.writeln("\u{1f4e3} Available feedback options:"),d.writeln(),p.processors?.forEach(w=>{d.writeln(`  ${d.wrapInColor(`feedback ${w.command}`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  ${w.description}`)})})()}writeDescription({writer:a}){a.writeln("Allows users to report bugs or request features on GitHub"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("feedback report-bug <title>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}         \u{1f41e} Report a bug`),a.writeln(`  ${a.wrapInColor("feedback request-feature <title>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}     \u2728 Request a feature`),a.writeln(`  ${a.wrapInColor("feedback request-command <title>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}     \u{1f9e9} Request a new command`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  feedback report-bug "Login page crashes"          ${a.wrapInColor("# Opens GitHub issue",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  feedback request-feature "Dark mode support"      ${a.wrapInColor("# Opens feature request",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();const groupBy=(fe,$)=>fe.reduce((a,d)=>{const p=$(d);return a.has(p)||a.set(p,[]),a.get(p).push(d),a},new Map);let CliHelpCommandProcessor=(()=>{class fe{constructor(a){this.injector=a,this.command="help",this.aliases=["man"],this.description="Displays help for a command",this.allowUnlistedCommands=!0,this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.Help,module:"system"},this.registry=this.injector.get(CliProcessorsRegistry_TOKEN)}processCommand(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:w}=d,[_,...g]=a.command.split(" ");if(0===g.length)yield d.executor.executeCommand("version",d),p.writeSeparator(d),w.writeln(w.wrapInColor("\u{1f4da} Available commands:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),w.writeln(),groupBy(p.registry.processors,A=>A.metadata?.module||"uncategorized").forEach((A,T)=>{w.writeln(`\u{1f4c2} ${w.wrapInColor(T.charAt(0).toUpperCase()+T.slice(1),_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}`),A.forEach(k=>{const U=k.aliases?.length?` ${w.wrapInColor(`(${k.aliases.join(", ")})`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Magenta)}`:"";w.writeln(`  ${k?.metadata?.icon?k.metadata.icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.Extension}  ${w.wrapInColor(k.command,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}${U} - ${k?.description||"Missing description"}`)}),w.writeln()}),p.writeSeparator(d),yield d.executor.executeCommand("hotkeys",d),p.writeSeparator(d),w.writeln(`\n\u{1f4a1} Type ${w.wrapInColor("help <command>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to get more information about a specific command`);else{const b=p.registry.findProcessor(g[0],g.slice(1));b?p.writeProcessorDescription(b,d):(w.writeError(`Unknown command: ${g[0]}`),w.writeln(),w.writeln(`\u{1f4a1} Type ${w.wrapInColor("help",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to see all available commands`))}})()}writeDescription({writer:a}){a.writeln("Displays help information for commands"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("help",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                    Show all available commands`),a.writeln(`  ${a.wrapInColor("help <command>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}            Show details for a command`),a.writeln(`  ${a.wrapInColor("help <command> <sub>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}      Show details for a subcommand`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  help pkg                         ${a.wrapInColor("# Package manager help",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  help theme apply                 ${a.wrapInColor("# Theme apply subcommand help",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}writeProcessorDescription(a,d){const{writer:p}=d;p.write(p.wrapInColor("\u2318  Command: ",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),a.metadata?.icon&&p.write(`${a.metadata.icon}  `),p.writeln(`${p.wrapInColor(a.command,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} ${p.wrapInColor(`v${a.version||"1.0.0"}`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),p.writeln(`   ${a.description}`),a.aliases?.length&&p.writeln(`   ${p.wrapInColor("Aliases:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)} ${a.aliases.map(_=>p.wrapInColor(_,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Magenta)).join(", ")}`),this.writeSeparator(d),a.author&&(p.writeln(`\u{1f464} ${p.wrapInColor("Author:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)} ${a.author.name} <${a.author.email}>`),this.writeSeparator(d)),a.writeDescription?(p.writeln(p.wrapInColor("\u{1f4d6} Description:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),a.writeDescription(d)):a.description&&p.writeln(`${p.wrapInColor("\u{1f4d6} Description:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)} ${a.description}`),this.writeSeparator(d),a.processors?.length&&(p.writeln(p.wrapInColor("\u{1f527} Subcommands:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),a.processors.forEach(_=>{p.writeln(`  ${p.wrapInColor(_.command,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  ${_.description}`)}),this.writeSeparator(d));const w=[...a.parameters||[],...defaultParameters];p.writeln(p.wrapInColor("\u2699\ufe0f  Parameters:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),w.forEach(_=>{const g=_.aliases?.length?` ${p.wrapInColor(`(-${_.aliases.join(", -")})`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Magenta)}`:"",b=_.required?` ${p.wrapInColor("(required)",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Red)}`:"";p.writeln(`  --${p.wrapInColor(_.name,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}${g}  ${p.wrapInColor(`<${_.type}>`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)} ${_.description}${b}`)}),this.writeSeparator(d),a.metadata?.requireServer&&p.writeln(`\u{1f5a5}  ${p.wrapInColor("Requires server to be running",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Red)}`)}writeSeparator({writer:a}){a.writeDivider({char:"="})}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_4__.zZn))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();const defaultParameters=[{name:"version",aliases:["v"],type:"boolean",description:"Displays the version of the command",required:!1},{name:"main",type:"boolean",description:"Set the command as the main command",required:!1}];let CliHistoryCommandProcessor=(()=>{class fe{constructor(a){var p,d=this;this.commandHistoryService=a,this.command="history",this.aliases=["hist"],this.description="Prints the command history of the current session",this.processors=[],this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.Code,module:"system"},this.processors?.push({command:"list",description:this.description,processCommand:this.processCommand.bind(this),writeDescription:this.writeDescription.bind(this)}),this.processors?.push({command:"clear",description:"Clears the command history",processCommand:(p=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(w,_){yield d.commandHistoryService.clearHistory(),_.writer.writeInfo("Command history cleared")}),function(_,g){return p.apply(this,arguments)}),writeDescription:p=>{p.writer.writeln("Clears the command history")}})}processCommand(a,{writer:d}){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const w=p.commandHistoryService.getHistory();0!==w.length?(d.writeln(d.wrapInColor("\u{1f4dc} Command history:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),w.forEach((_,g)=>{d.writeln(`  ${d.wrapInColor(String(g+1).padStart(3),_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}  ${_}`)})):d.writeInfo("\u{1f4dc} No command history yet")})()}writeDescription({writer:a}){a.writeln("Prints the command history of the current session"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("history",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                Show command history`),a.writeln(`  ${a.wrapInColor("history clear",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}          Clear all history`),a.writeln(),a.writeln(`\u{1f4a1} Use ${a.wrapInColor("\u2191/\u2193",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)} arrow keys to navigate through history`)}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(CliCommandHistoryService))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliHotKeysCommandProcessor=(()=>{class fe{constructor(){this.command="hotkeys",this.aliases=["shortcuts","keys"],this.description="Displays the hotkeys information",this.processors=[],this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,icon:"\u{1f525}",module:"system"}}processCommand(a,d){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:p}=d;p.writeln(p.wrapInColor("\u2328\ufe0f  Keyboard Shortcuts:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),hotkeysInfo.forEach(w=>{p.writeln(`  ${p.wrapInColor(w.key.padEnd(12),_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)} ${w.description}`)})})()}writeDescription(a){const{writer:d}=a;d.writeln("Displays all available keyboard shortcuts and hotkeys"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("hotkeys",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),d.writeln(),d.writeln("\u{1f4a1} Hotkeys help you navigate and control the terminal faster")}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliPackageManagerService=(()=>{class fe{constructor(a){this.store=a,this.storageKey="cli-packages",this.QODALIS_COMMAND_PREFIX="@qodalis/cli-"}getPackages(){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const d=localStorage.getItem("cliPackages");return d&&(localStorage.removeItem("cliPackages"),yield a.store.set(a.storageKey,JSON.parse(d))),(yield a.store.get(a.storageKey))||[]})()}getPackage(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){return(yield d.getPackages()).find(p=>p.name===a||p.name===d.QODALIS_COMMAND_PREFIX+a)})()}hasPackage(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){return void 0!==(yield d.getPackage(a))})()}addPackage(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const p=yield d.getPackages();if(p.find(w=>w.name===a.name))throw new Error(`Package with name "${a.name}" already exists.`);p.push(a),yield d.savePackages(p)})()}removePackage(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const p=yield d.getPackages(),w=p.find(g=>g.name===a||g.name===d.QODALIS_COMMAND_PREFIX+a);if(!w)throw new Error(`Package with name "${a}" not found.`);const _=p.filter(g=>g.name!==w.name);if(p.length===_.length)throw new Error(`Package with name "${a}" not found.`);return d.savePackages(_),w})()}updatePackage(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const p=yield d.getPackages(),w=p.findIndex(_=>_.name===a.name);if(-1===w)throw new Error(`Package with name "${a.name}" not found.`);p[w]=a,yield d.savePackages(p)})()}savePackages(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){yield d.store.set(d.storageKey,a)})()}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(CliKeyValueStore))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliPackagesCommandProcessor=(()=>{class fe{createAbortSignal(a){const d=new AbortController,p=a.onAbort.subscribe(()=>{d.abort()});return{signal:d.signal,cleanup:()=>p.unsubscribe()}}constructor(a,d,p){this.scriptsLoader=a,this.packagesManager=d,this.registry=p,this.command="pkg",this.aliases=["packages"],this.description="Manage packages in the cli",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.version="1.0.3",this.processors=[],this.metadata={sealed:!0,icon:"\u{1f4e6}",module:"system"},this.stateConfiguration={initialState:{cdnSource:"unpkg"}},this.registeredDependencies=[];const w=this;this.processors=[{command:"ls",description:"List all packages in the cli",author:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const b=yield d.getPackages();if(0===b.length)return g.writer.writeInfo("\u{1f4e6} No packages installed"),g.writer.writeln(),void g.writer.writeInfo(`\u{1f4a1} Use ${g.writer.wrapInColor("pkg add <name>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to install a package`);g.writer.writeln(g.writer.wrapInColor(`\u{1f4e6} Installed packages (${b.length}):`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),b.forEach(A=>{g.writer.writeln(`  ${g.writer.wrapInColor(A.name,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}@${g.writer.wrapInColor(A.version,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)})})(),writeDescription(_){_.writer.writeln("List all installed packages and their versions"),_.writer.writeln(),_.writer.writeln("\u{1f4cb} Usage:"),_.writer.writeln(`  ${_.writer.wrapInColor("pkg ls",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"browse",description:"List all available packages from the Qodalis registry",processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{progressBar:b,writer:A}=g,{signal:T,cleanup:k}=w.createAbortSignal(g);b.show(),b.setText("Searching npm registry");const U=d.QODALIS_COMMAND_PREFIX;let j=[];try{const E=yield w.scriptsLoader.getScript(`https://registry.npmjs.org/-/v1/search?text=${encodeURIComponent(U)}&size=250`,{signal:T});j=(JSON.parse(E.content||"{}").objects||[]).map(M=>M.package).filter(M=>M.name.startsWith(U)&&M.name!==`${U}core`).map(M=>({name:M.name,shortName:M.name.replace(U,""),version:M.version,description:M.description||""})).sort((M,W)=>M.name.localeCompare(W.name))}catch{if(T.aborted)return void k();b.setText("Registry unavailable, checking known packages");const y=["browser-storage","curl","guid","password-generator","qr","regex","server-logs","speed-test","string","text-to-image","todo"];for(const M of y){if(T.aborted)break;const W=`${U}${M}`;b.setText(`Checking ${M}`);try{const G=yield w.scriptsLoader.getScriptWithFallback(`${W}/package.json`,{signal:T}).then(Z=>JSON.parse(Z.content||"{}"));j.push({name:W,shortName:M,version:G.version||"latest",description:G.description||""})}catch{}}}if(k(),T.aborted)return;if(b.complete(),0===j.length)return void A.writeInfo("\u{1f4e6} No packages found in the registry");const F=yield d.getPackages(),D=new Map(F.map(E=>[E.name,E.version]));A.writeln(A.wrapInColor(`\u{1f4e6} Available packages (${j.length}):`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),A.writeln();for(const E of j){const y=D.get(E.name);let M;M=y?y===E.version?A.wrapInColor("\u2705 installed",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green):A.wrapInColor(`\u{1f504} ${y} \u2192 ${E.version}`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow):A.wrapInColor("\u{1f4e5} not installed",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Magenta),A.writeln(`  ${A.wrapInColor(E.shortName,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  ${A.wrapInColor(`v${E.version}`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}  ${M}`),E.description&&A.writeln(`    ${E.description}`)}A.writeln(),A.writeInfo(`\u{1f4a1} Use ${A.wrapInColor("pkg add <name>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to install a package`)})(),writeDescription(_){_.writer.writeln("Browse all available packages from the Qodalis registry"),_.writer.writeln(),_.writer.writeln("\u{1f4cb} Usage:"),_.writer.writeln(`  ${_.writer.wrapInColor("pkg browse",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),_.writer.writeln(),_.writer.writeln("Shows each package with its latest version and install status:"),_.writer.writeln(`  ${_.writer.wrapInColor("\u2705 installed",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}     Already installed and up to date`),_.writer.writeln(`  ${_.writer.wrapInColor("\u{1f504} update",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}        Installed but a newer version exists`),_.writer.writeln(`  ${_.writer.wrapInColor("\u{1f4e5} not installed",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Magenta)}  Not yet installed`)}},{command:"add",description:"Add a package to the cli, e.g. pkg add guid.",valueRequired:!0,processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{signal:b,cleanup:A}=w.createAbortSignal(g),T=_.value.split(" ");for(const k of T){if(b.aborted)break;yield w.addPackage(k,g,b)}A()})(),writeDescription({writer:_}){_.writeln("Install one or more packages from the Qodalis registry"),_.writeln(),_.writeln("\u{1f4cb} Usage:"),_.writeln(`  ${_.wrapInColor("pkg add <package> [package2...]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),_.writeln(),_.writeln("\u{1f4dd} Examples:"),_.writeln(`  pkg add guid                        ${_.wrapInColor("# Short name",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),_.writeln(`  pkg add @qodalis/cli-guid           ${_.wrapInColor("# Full name",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),_.writeln(`  pkg add guid server-logs            ${_.wrapInColor("# Multiple packages",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),_.writeln(),_.writeInfo("\u{1f4a1} Short names are automatically prefixed with @qodalis/cli-")}},{command:"remove",description:"Remove a package from the cli",valueRequired:!0,processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{signal:b,cleanup:A}=w.createAbortSignal(g),T=_.value.split(" ");for(const k of T){if(b.aborted)break;yield w.removePackage(k,g)}A()})(),writeDescription({writer:_}){_.writeln("Remove one or more installed packages"),_.writeln(),_.writeln("\u{1f4cb} Usage:"),_.writeln(`  ${_.wrapInColor("pkg remove <package> [package2...]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),_.writeln(),_.writeln("\u{1f4dd} Examples:"),_.writeln(`  pkg remove guid                     ${_.wrapInColor("# Remove one package",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),_.writeln(`  pkg remove guid server-logs         ${_.wrapInColor("# Remove multiple",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}},{command:"versions",description:"Show all published versions of a package",valueRequired:!0,allowUnlistedCommands:!0,processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{progressBar:b,writer:A}=g,{signal:T,cleanup:k}=w.createAbortSignal(g),U=_.value.trim(),j=d.QODALIS_COMMAND_PREFIX,F=U.startsWith(j)?U:`${j}${U}`;b.show(),b.setText(`Fetching versions for ${U}`);try{const D=yield w.scriptsLoader.getScript(`https://registry.npmjs.org/${encodeURIComponent(F)}`,{signal:T});if(T.aborted)return void k();const E=JSON.parse(D.content||"{}");if(!E.versions)return b.complete(),A.writeError(`Package ${U} not found`),void k();const y=Object.keys(E.versions),M=E.time||{},W=E["dist-tags"]?.latest||"",G=yield d.getPackage(U);b.complete(),A.writeln(A.wrapInColor(`\u{1f4e6} ${F} \u2014 ${y.length} version${1!==y.length?"s":""}:`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),A.writeln();for(const Z of y){const ne=M[Z]?new Date(M[Z]).toLocaleDateString():"",H=[];Z===W&&H.push(A.wrapInColor("latest",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)),G&&G.version===Z&&H.push(A.wrapInColor("installed",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan));const te=H.length>0?`  [${H.join(", ")}]`:"";A.writeln(`  ${A.wrapInColor(`v${Z}`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.White)}  ${A.wrapInColor(ne,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}${te}`)}A.writeln()}catch(D){if(T.aborted)return void k();b.complete(),A.writeError(D?.toString()||"Failed to fetch versions")}k()})(),writeDescription(_){_.writer.writeln("Show all published versions of a package from the npm registry"),_.writer.writeln(),_.writer.writeln("\u{1f4cb} Usage:"),_.writer.writeln(`  ${_.writer.wrapInColor("pkg versions <package>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),_.writer.writeln(),_.writer.writeln("\u{1f4dd} Examples:"),_.writer.writeln(`  pkg versions guid                   ${_.writer.wrapInColor("# Short name",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),_.writer.writeln(`  pkg versions @qodalis/cli-guid      ${_.writer.wrapInColor("# Full name",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}},{command:"check",description:"Check installed packages for available updates",processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const b=yield d.getPackages();if(0===b.length)return g.writer.writeInfo("\u{1f4e6} No packages installed"),g.writer.writeln(),void g.writer.writeInfo(`\u{1f4a1} Use ${g.writer.wrapInColor("pkg add <name>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to install a package`);const{progressBar:A,writer:T}=g,{signal:k,cleanup:U}=w.createAbortSignal(g);A.show();const j=[],F=[],D=[];for(const E of b){if(k.aborted)break;A.setText(`Checking ${E.name}`);try{const y=yield w.scriptsLoader.getScriptWithFallback(`${E.name}/package.json`,{signal:k}).then(M=>JSON.parse(M.content||"{}"));y.version&&y.version!==E.version?j.push({name:E.name,current:E.version,latest:y.version}):F.push(E.name)}catch{if(k.aborted)break;D.push({name:E.name,error:"Failed to check"})}}if(U(),!k.aborted){if(A.complete(),j.length>0){T.writeln(T.wrapInColor(`\u{1f504} Updates available (${j.length}):`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),T.writeln();for(const E of j)T.writeln(`  ${T.wrapInColor(E.name,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  ${T.wrapInColor(E.current,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Red)} \u2192 ${T.wrapInColor(E.latest,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`);T.writeln(),T.writeInfo(`\u{1f4a1} Run ${T.wrapInColor("pkg update",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to update all packages`)}if(F.length>0){j.length>0&&T.writeln(),T.writeln(T.wrapInColor(`\u2705 Up to date (${F.length}):`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)),T.writeln();for(const E of F)T.writeln(`  ${T.wrapInColor(E,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}if(D.length>0){T.writeln();for(const E of D)T.writeWarning(`\u26a0\ufe0f  ${E.name}: ${E.error}`)}0===j.length&&0===D.length&&(T.writeln(),T.writeSuccess("\u{1f389} All packages are up to date!"))}})(),writeDescription(_){_.writer.writeln("Check installed packages for newer versions available on the registry"),_.writer.writeln(),_.writer.writeln("\u{1f4cb} Usage:"),_.writer.writeln(`  ${_.writer.wrapInColor("pkg check",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),_.writer.writeln(),_.writer.writeInfo(`\u{1f4a1} Use ${_.writer.wrapInColor("pkg update",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to apply updates`)}},{command:"update",description:"Update a package in the cli to the latest version or update all packages",allowUnlistedCommands:!0,valueRequired:!1,processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{signal:b,cleanup:A}=w.createAbortSignal(g);if(_.value){const T=_.value.trim(),k=T.lastIndexOf("@");let U,j;k>0&&!T.slice(0,k).endsWith("/")?(U=T.slice(0,k),j=T.slice(k+1)):U=T,yield w.updatePackage(U,g,b,j)}else{const T=yield d.getPackages();for(const k of T){if(b.aborted)break;yield w.updatePackage(k.name,g,b)}b.aborted||g.writer.writeSuccess("All packages updated")}A()})(),writeDescription(_){_.writer.writeln("Update packages to their latest versions or to a specific version"),_.writer.writeln(),_.writer.writeln("\u{1f4cb} Usage:"),_.writer.writeln(`  ${_.writer.wrapInColor("pkg update <package>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}            Update to latest`),_.writer.writeln(`  ${_.writer.wrapInColor("pkg update <package>@<version>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  Update to specific version`),_.writer.writeln(`  ${_.writer.wrapInColor("pkg update",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                      Update all packages`),_.writer.writeln(),_.writer.writeln("\u{1f4dd} Examples:"),_.writer.writeln(`  pkg update guid             ${_.writer.wrapInColor("# Update to latest",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),_.writer.writeln(`  pkg update guid@1.0.2       ${_.writer.wrapInColor("# Install specific version",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}},{command:"source",description:"Get or set the CDN source for package downloads",allowUnlistedCommands:!0,processors:[{command:"get",description:"Show the current CDN source",processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const b=w.scriptsLoader.getCdnSource();g.writer.writeln(`\u{1f310} Current CDN source: ${g.writer.wrapInColor(b,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),g.writer.writeln(`   Fallback: ${g.writer.wrapInColor("unpkg"===b?"jsdelivr":"unpkg",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}`)})()},{command:"set",description:"Set the preferred CDN source",valueRequired:!0,allowUnlistedCommands:!0,processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const b=(_.value||"").trim().toLowerCase();"unpkg"===b||"jsdelivr"===b?(w.scriptsLoader.setCdnSource(b),g.state.updateState({cdnSource:b}),yield g.state.persist(),g.writer.writeSuccess(`CDN source set to ${g.writer.wrapInColor(b,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),g.writer.writeln(`   Fallback: ${g.writer.wrapInColor("unpkg"===b?"jsdelivr":"unpkg",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}`)):g.writer.writeError(`Invalid source "${b}". Use "unpkg" or "jsdelivr".`)})(),writeDescription(_){_.writer.writeln("Set the preferred CDN source for package downloads"),_.writer.writeln(),_.writer.writeln("\u{1f4cb} Usage:"),_.writer.writeln(`  ${_.writer.wrapInColor("pkg source set <unpkg|jsdelivr>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),_.writer.writeln(),_.writer.writeln("\u{1f4dd} Examples:"),_.writer.writeln(`  pkg source set unpkg        ${_.writer.wrapInColor("# Use unpkg (default)",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),_.writer.writeln(`  pkg source set jsdelivr     ${_.writer.wrapInColor("# Use jsDelivr",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}],processCommand:(_,g)=>(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const b=w.scriptsLoader.getCdnSource();g.writer.writeln(`\u{1f310} Current CDN source: ${g.writer.wrapInColor(b,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),g.writer.writeln(`   Fallback: ${g.writer.wrapInColor("unpkg"===b?"jsdelivr":"unpkg",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}`),g.writer.writeln(),g.writer.writeInfo(`\u{1f4a1} Use ${g.writer.wrapInColor("pkg source set <unpkg|jsdelivr>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} to change`)})(),writeDescription(_){_.writer.writeln("Manage the CDN source used for downloading packages"),_.writer.writeln(),_.writer.writeln("\u{1f4cb} Commands:"),_.writer.writeln(`  ${_.writer.wrapInColor("pkg source",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                  Show current CDN source`),_.writer.writeln(`  ${_.writer.wrapInColor("pkg source get",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}              Show current CDN source`),_.writer.writeln(`  ${_.writer.wrapInColor("pkg source set <name>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}       Set preferred CDN source`),_.writer.writeln(),_.writer.writeln("\u{1f310} Available sources:"),_.writer.writeln(`  ${_.writer.wrapInColor("unpkg",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}       https://unpkg.com (default)`),_.writer.writeln(`  ${_.writer.wrapInColor("jsdelivr",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}    https://cdn.jsdelivr.net`),_.writer.writeln(),_.writer.writeInfo("The non-selected source is used as a fallback.")}}]}processCommand(a,d){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){yield d.executor.showHelp(a,d)})()}writeDescription({writer:a}){a.writeln(this.description),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("pkg ls",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                        List installed packages`),a.writeln(`  ${a.wrapInColor("pkg browse",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                      Browse all available packages`),a.writeln(`  ${a.wrapInColor("pkg add <package>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                    Install a package`),a.writeln(`  ${a.wrapInColor("pkg remove <package>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                 Remove a package`),a.writeln(`  ${a.wrapInColor("pkg versions <package>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}         Show all published versions`),a.writeln(`  ${a.wrapInColor("pkg check",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                        Check for available updates`),a.writeln(`  ${a.wrapInColor("pkg update [package]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                 Update one or all packages`),a.writeln(`  ${a.wrapInColor("pkg source [get|set <name>]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}          Get or set CDN source`),a.writeln(),a.writeln(`\u{1f310} Browse packages: ${a.wrapInColor("https://www.npmjs.com/org/qodalis",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Blue)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  pkg add guid                ${a.wrapInColor("# Install @qodalis/cli-guid",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  pkg add guid server-logs    ${a.wrapInColor("# Install multiple packages",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  pkg update                  ${a.wrapInColor("# Update all packages",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}initialize(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.state.select(w=>w.cdnSource).subscribe(w=>{w&&d.scriptsLoader.setCdnSource(w)});const p=yield d.packagesManager.getPackages();for(const w of p)yield d.registerPackageDependencies(w,a),yield d.injectScriptWithCdnFallback(w.url)})()}removePackage(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){d.progressBar.show();try{const w=yield p.packagesManager.removePackage(a);if(w){const _=window[w.name];_&&_.processors?.forEach(g=>{p.registry.unregisterProcessor(g)})}d.progressBar.complete(),d.writer.writeSuccess(`Package ${w.name}@${w.version} removed successfully`)}catch(w){d.progressBar.complete(),d.writer.writeError(w?.toString()||"Unknown error")}})()}addPackage(a,d,p){var w=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{progressBar:_,writer:g}=d;if(yield w.packagesManager.hasPackage(a))g.writeInfo(`Package ${a} already installed`);else{_.show(),_.setText(`Fetching package ${a}`);try{const A=a.startsWith(w.packagesManager.QODALIS_COMMAND_PREFIX)?a:`${w.packagesManager.QODALIS_COMMAND_PREFIX}${a}`;let T=yield w.scriptsLoader.getScriptWithFallback(`${A}/package.json`,{signal:p}).then(F=>JSON.parse(F.content||"{}")).catch(()=>null);if(p?.aborted||(!T&&A!==a&&(_.setText(`Trying ${a}`),T=yield w.scriptsLoader.getScriptWithFallback(`${a}/package.json`,{signal:p}).then(F=>JSON.parse(F.content||"{}")).catch(()=>null)),p?.aborted))return;if(!T)throw _.setText("Package not found"),new Error(`Package ${a} not found`);_.setText("Downloading package");const k=w.resolvePackageCdnPath(T),U=yield w.scriptsLoader.getScriptWithFallback(k,{signal:p});if(p?.aborted)return;_.setText("Registering dependencies");const j={name:T.name,version:T.version||"latest",url:U.xhr.responseURL,dependencies:T.cliDependencies||[]};yield w.registerPackageDependencies(j,d),_.setText("Injecting package"),U.content&&(yield w.scriptsLoader.injectBodyScript(U.content)),_.setText("Saving package"),yield w.packagesManager.addPackage(j),d.progressBar.complete(),d.writer.writeSuccess(`Package ${T.name}@${T.version} added successfully`)}catch(A){if(p?.aborted)return;d.progressBar.complete(),d.writer.writeError(A?.toString()||"Unknown error")}}})()}updatePackage(a,d,p,w){var _=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{progressBar:g,writer:b}=d;g.show();try{g.setText(`Updating package ${a}`);const A=yield _.packagesManager.getPackage(a);if(!A)return g.complete(),void b.writeError(`Package ${a} not found`);const T=w?`@${w}`:"",k=`${A.name}${T}`;g.setText(w?`Fetching ${A.name}@${w}`:`Checking for updates for package ${A.name}`);const U=yield _.scriptsLoader.getScriptWithFallback(k+"/package.json",{signal:p}).then(E=>JSON.parse(E.content||"{}"));if(p?.aborted)return;if(U.version===A.version)return g.complete(),void b.writeInfo(`Package ${A.name} is already at version ${A.version}`);g.setText(`Downloading package ${A.name}@${U.version}`);const j=_.resolvePackageCdnPath(U,T),F=yield _.scriptsLoader.getScriptWithFallback(j,{signal:p});if(p?.aborted)return;g.setText("Registering dependencies");const D={name:U.name,version:U.version||"latest",url:F.xhr.responseURL,dependencies:U.cliDependencies||[]};yield _.registerPackageDependencies(D,d),g.setText(`Injecting package ${A.name}`),F.content&&(yield _.scriptsLoader.injectBodyScript(F.content)),g.setText(`Saving package ${A.name}`),yield _.packagesManager.updatePackage(D),g.complete(),b.writeSuccess(`Package ${A.name} updated to version ${U.version} from ${A.version}`)}catch(A){if(p?.aborted)return;g.complete(),b.writeError(A?.toString()||"Unknown error")}})()}injectScriptWithCdnFallback(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const p=a.replace("https://unpkg.com/","").replace("https://cdn.jsdelivr.net/npm/","");yield d.scriptsLoader.injectScriptWithFallback(p)})()}registerPackageDependencies(a,{logger:d}){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){if(a.dependencies&&a.dependencies.length>0){d.info(`Injecting package ${a.name} dependencies`);for(const w of a.dependencies)if(p.registeredDependencies.includes(w.name))d.info(`Dependency ${w.globalName} already registered`);else{if(yield p.injectScriptWithCdnFallback(w.url),w.globalName){if(!(yield p.waitForGlobal(w.globalName,3e3)))return void d.error(`Dependency ${w.globalName} not found in global scope within timeout`);d.info(`Dependency ${w.globalName} is available in global scope`)}p.registeredDependencies.push(w.name)}}else d.info(`Package ${a.name} has no dependencies`)})()}resolvePackageCdnPath(a,d=""){const p=a.unpkg||a.umd||a.main,w=`${a.name}${d}`;return p?`${w}/${p.replace(/^\.\//,"")}`:w}waitForGlobal(a,d){return new Promise(p=>{let _=0;const g=()=>{window[a]?p(!0):_>=d?p(!1):(_+=50,setTimeout(g,50))};g()})}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(ScriptLoaderService),_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(CliPackageManagerService),_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(CliProcessorsRegistry_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac})}}return fe})(),CliVersionCommandProcessor=(()=>{class fe{constructor(){this.command="version",this.aliases=["ver"],this.description="Prints the version information",this.processors=[],this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.Settings,module:"system"}}processCommand(a,d){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:p}=d;p.writeln(`\u2699\ufe0f  Qodalis CLI ${p.wrapInColor(`v${LIBRARY_VERSION}`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),p.writeln(`\u{1f4e6}  Core ${p.wrapInColor(`v${_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.Zh}`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),p.writeln(getCliNameArt(d.terminal.cols)),p.writeln(`\u{1f4d6} ${p.wrapInColor("Documentation:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)} https://cli.qodalis.com/docs/`),p.writeln()})()}writeDescription(a){const{writer:d}=a;d.writeln("Prints the current version of the CLI and documentation link"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("version",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),d.writeln(),d.writeln(`\u{1f4d6} Documentation: ${d.wrapInColor("https://cli.qodalis.com/docs/",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Blue)}`)}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();const systemProviders=[resolveCommandProcessorProvider(CliHelpCommandProcessor),resolveCommandProcessorProvider(CliVersionCommandProcessor),resolveCommandProcessorProvider(CliFeedbackCommandProcessor),resolveCommandProcessorProvider(CliHistoryCommandProcessor),resolveCommandProcessorProvider(CliPackagesCommandProcessor),resolveCommandProcessorProvider(CliHotKeysCommandProcessor)];class CliBase64CommandProcessor{constructor(){var $;this.command="base64",this.aliases=["b64"],this.description="Encode or decode Base64 strings",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"\u{1f523}",module:"misc"},this.processors=[{command:"encode",aliases:["enc","e"],description:"Encode text to Base64",allowUnlistedCommands:!0,valueRequired:!0,processCommand:($=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"",w=btoa((new TextEncoder).encode(p).reduce((_,g)=>_+String.fromCharCode(g),""));d.writer.writeln(w),d.process.output(w)}),function(d,p){return $.apply(this,arguments)}),writeDescription:$=>{const{writer:a}=$;a.writeln("Encode text to Base64 format"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("base64 encode <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  base64 encode Hello World        ${a.wrapInColor("# \u2192 SGVsbG8gV29ybGQ=",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}},{command:"decode",aliases:["dec","d"],description:"Decode a Base64 string",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"";try{const w=Uint8Array.from(atob(p),g=>g.charCodeAt(0)),_=(new TextDecoder).decode(w);d.writer.writeln(_),d.process.output(_)}catch{d.writer.writeError("Invalid Base64 string"),d.process.exit(-1)}});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Decode a Base64 string back to text"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("base64 decode <base64>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  base64 decode SGVsbG8gV29ybGQ=   ${a.wrapInColor("# \u2192 Hello World",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Encode and decode Base64 strings"),a.writeln("Supports UTF-8 text encoding"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("base64 encode <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}       Encode text to Base64`),a.writeln(`  ${a.wrapInColor("base64 decode <base64>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}     Decode Base64 to text`)}}class CliCalCommandProcessor{constructor(){this.command="cal",this.aliases=["calendar"],this.description="Display a calendar",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={icon:"\u{1f4c5}",module:"misc"},this.parameters=[{name:"month",aliases:["m"],description:"Month (1-12)",type:"number",required:!1},{name:"year",aliases:["y"],description:"Year (e.g. 2024)",type:"number",required:!1}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:d}=a,p=new Date,w=parseInt($.args.month||$.args.m)||p.getMonth()+1,_=parseInt($.args.year||$.args.y)||p.getFullYear();if(w<1||w>12)return d.writeError("Month must be between 1 and 12"),void a.process.exit(-1);const b=`${["January","February","March","April","May","June","July","August","September","October","November","December"][w-1]} ${_}`,A=Math.max(0,Math.floor((20-b.length)/2));d.writeln(d.wrapInColor(" ".repeat(A)+b,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),d.writeln(d.wrapInColor("Su Mo Tu We Th Fr Sa",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan));const T=new Date(_,w-1,1).getDay(),k=new Date(_,w,0).getDate(),U=p.getDate(),j=p.getMonth()+1===w&&p.getFullYear()===_;let F="   ".repeat(T);for(let D=1;D<=k;D++){const E=String(D).padStart(2);F+=j&&D===U?`\x1b[7m${E}\x1b[0m `:E+" ",((T+D)%7==0||D===k)&&(d.writeln(F),F="")}})()}writeDescription($){const{writer:a}=$;a.writeln("Display a monthly calendar"),a.writeln("Current day is highlighted"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("cal",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                            Current month`),a.writeln(`  ${a.wrapInColor("cal --month=3 --year=2024",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}      Specific month`)}}class CliClearCommandProcessor{constructor(){this.command="clear",this.aliases=["cls"],this.description="Clears the terminal",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={icon:"\u{1f9f9}",module:"misc"}}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.terminal.clear()})()}writeDescription($){const{writer:a}=$;a.writeln("Clears all content from the terminal screen"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("clear",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln(`\u2328\ufe0f  Shortcut: ${a.wrapInColor("Ctrl+L",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}`)}}class CliClipboardCommandProcessor{constructor(){var $;this.command="clipboard",this.aliases=["cb","pbcopy"],this.description="Copy to or paste from the clipboard",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"\u{1f4ce}",module:"misc"},this.processors=[{command:"copy",aliases:["cp"],description:"Copy text to clipboard",allowUnlistedCommands:!0,valueRequired:!0,processCommand:($=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"";try{yield navigator.clipboard.writeText(p),d.writer.writeSuccess("Copied to clipboard")}catch{d.writer.writeError("Failed to copy. Clipboard access may be denied by the browser."),d.process.exit(-1)}}),function(d,p){return $.apply(this,arguments)}),writeDescription:$=>{const{writer:a}=$;a.writeln("Copy text to the system clipboard"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("clipboard copy <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"paste",aliases:["p"],description:"Paste text from clipboard",processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){try{const p=yield navigator.clipboard.readText();p?(d.writer.writeln(p),d.process.output(p)):d.writer.writeInfo("Clipboard is empty")}catch{d.writer.writeError("Failed to paste. Clipboard access may be denied by the browser."),d.process.exit(-1)}});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Read text from the system clipboard"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("clipboard paste",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Copy text to or paste text from the system clipboard"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("clipboard copy <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}     Copy text to clipboard`),a.writeln(`  ${a.wrapInColor("clipboard paste",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}            Paste from clipboard`)}}class CliColorCommandProcessor{constructor(){this.command="color",this.aliases=["colour"],this.description="Convert and preview colors (hex, rgb, hsl)",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.allowUnlistedCommands=!0,this.valueRequired=!0,this.metadata={icon:"\u{1f3a8}",module:"misc"}}processCommand($,a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:p}=a,w=($.value||"").trim();let _,g,b;try{if(w.startsWith("#"))[_,g,b]=d.parseHex(w);else if(w.startsWith("rgb"))[_,g,b]=d.parseRgb(w);else if(w.startsWith("hsl"))[_,g,b]=d.hslToRgb(...d.parseHsl(w));else{if(!/^[0-9a-fA-F]{3,8}$/.test(w))return p.writeError("Unrecognized color format. Use hex (#ff0000), rgb(255,0,0), or hsl(0,100%,50%)"),void a.process.exit(-1);[_,g,b]=d.parseHex("#"+w)}}catch{return p.writeError("Invalid color value"),void a.process.exit(-1)}const A=d.rgbToHex(_,g,b),[T,k,U]=d.rgbToHsl(_,g,b);p.writeln(`\x1b[48;2;${_};${g};${b}m      \x1b[0m`),p.writeln(`  ${p.wrapInColor("HEX:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  ${A}`),p.writeln(`  ${p.wrapInColor("RGB:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  rgb(${_}, ${g}, ${b})`),p.writeln(`  ${p.wrapInColor("HSL:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  hsl(${T}, ${k}%, ${U}%)`),a.process.output({hex:A,rgb:{r:_,g,b},hsl:{h:T,s:k,l:U}})})()}writeDescription($){const{writer:a}=$;a.writeln("Convert between color formats and preview colors"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("color <value>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Supported formats:"),a.writeln(`  color #ff6600                    ${a.wrapInColor("# Hex",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  color ff6600                     ${a.wrapInColor("# Hex without #",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  color rgb(255,102,0)             ${a.wrapInColor("# RGB",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  color hsl(24,100%,50%)           ${a.wrapInColor("# HSL",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}parseHex($){return 3===($=$.replace("#","")).length&&($=$[0]+$[0]+$[1]+$[1]+$[2]+$[2]),[parseInt($.substring(0,2),16),parseInt($.substring(2,4),16),parseInt($.substring(4,6),16)]}parseRgb($){const a=$.match(/(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/);if(!a)throw new Error("Invalid RGB");return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}parseHsl($){const a=$.match(/(\d+)\s*,\s*(\d+)%?\s*,\s*(\d+)%?/);if(!a)throw new Error("Invalid HSL");return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}rgbToHex($,a,d){return"#"+[$,a,d].map(p=>p.toString(16).padStart(2,"0")).join("")}rgbToHsl($,a,d){$/=255,a/=255,d/=255;const p=Math.max($,a,d),w=Math.min($,a,d);let _=0,g=0;const b=(p+w)/2;if(p!==w){const A=p-w;switch(g=b>.5?A/(2-p-w):A/(p+w),p){case $:_=((a-d)/A+(a<d?6:0))/6;break;case a:_=((d-$)/A+2)/6;break;case d:_=(($-a)/A+4)/6}}return[Math.round(360*_),Math.round(100*g),Math.round(100*b)]}hslToRgb($,a,d){let p,w,_;if($/=360,d/=100,0==(a/=100))p=w=_=d;else{const g=(T,k,U)=>(U<0&&(U+=1),U>1&&(U-=1),U<.16666666666666666?T+6*(k-T)*U:U<.5?k:U<.6666666666666666?T+(k-T)*(.6666666666666666-U)*6:T),b=d<.5?d*(1+a):d+a-d*a,A=2*d-b;p=g(A,b,$+1/3),w=g(A,b,$),_=g(A,b,$-1/3)}return[Math.round(255*p),Math.round(255*w),Math.round(255*_)]}}const lengthUnits={m:{m:1,km:.001,cm:100,mm:1e3,mi:621371e-9,ft:3.28084,in:39.3701,yd:1.09361},km:{m:1e3,km:1,cm:1e5,mm:1e6,mi:.621371,ft:3280.84,in:39370.1,yd:1093.61},cm:{m:.01,km:1e-5,cm:1,mm:10,mi:621371e-11,ft:.0328084,in:.393701,yd:.0109361},mm:{m:.001,km:1e-6,cm:.1,mm:1,mi:6.2137e-7,ft:.00328084,in:.0393701,yd:.00109361},mi:{m:1609.34,km:1.60934,cm:160934,mm:1609340,mi:1,ft:5280,in:63360,yd:1760},ft:{m:.3048,km:3048e-7,cm:30.48,mm:304.8,mi:189394e-9,ft:1,in:12,yd:.333333},in:{m:.0254,km:254e-7,cm:2.54,mm:25.4,mi:157828e-10,ft:.0833333,in:1,yd:.0277778},yd:{m:.9144,km:9144e-7,cm:91.44,mm:914.4,mi:568182e-9,ft:3,in:36,yd:1}},weightUnits={kg:{kg:1,g:1e3,mg:1e6,lb:2.20462,oz:35.274,t:.001},g:{kg:.001,g:1,mg:1e3,lb:.00220462,oz:.035274,t:1e-6},mg:{kg:1e-6,g:.001,mg:1,lb:220462e-11,oz:35274e-9,t:1e-9},lb:{kg:.453592,g:453.592,mg:453592,lb:1,oz:16,t:453592e-9},oz:{kg:.0283495,g:28.3495,mg:28349.5,lb:.0625,oz:1,t:283495e-10},t:{kg:1e3,g:1e6,mg:1e9,lb:2204.62,oz:35274,t:1}},dataUnits={b:{b:1,kb:1/1024,mb:1/1048576,gb:1/1024**3,tb:1/1024**4},kb:{b:1024,kb:1,mb:1/1024,gb:1/1048576,tb:1/1024**3},mb:{b:1048576,kb:1024,mb:1,gb:1/1024,tb:1/1048576},gb:{b:1024**3,kb:1048576,mb:1024,gb:1,tb:1/1024},tb:{b:1024**4,kb:1024**3,mb:1048576,gb:1024,tb:1}},categories=[{name:"length",units:lengthUnits,unitNames:{m:"meters",km:"kilometers",cm:"centimeters",mm:"millimeters",mi:"miles",ft:"feet",in:"inches",yd:"yards"}},{name:"weight",units:weightUnits,unitNames:{kg:"kilograms",g:"grams",mg:"milligrams",lb:"pounds",oz:"ounces",t:"tonnes"}},{name:"data",units:dataUnits,unitNames:{b:"bytes",kb:"kilobytes",mb:"megabytes",gb:"gigabytes",tb:"terabytes"}}];class CliConvertCommandProcessor{constructor(){this.command="convert",this.aliases=["conv"],this.description="Convert between units (length, weight, temperature, data)",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.allowUnlistedCommands=!0,this.valueRequired=!0,this.metadata={icon:"\u{1f4d0}",module:"misc"}}processCommand($,a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:p}=a,_=($.value||"").trim().match(/^([\d.]+)\s*([a-zA-Z\xb0]+)\s+(?:to\s+)?([a-zA-Z\xb0]+)$/i);if(!_)return p.writeError("Usage: convert <value> <from> to <to>"),p.writeInfo("Example: convert 100 km to mi"),void a.process.exit(-1);const g=parseFloat(_[1]),b=_[2].toLowerCase(),A=_[3].toLowerCase();if(isNaN(g))return p.writeError("Invalid number"),void a.process.exit(-1);if(d.isTemperatureUnit(b)&&d.isTemperatureUnit(A)){const T=d.convertTemperature(g,b,A);if(null!==T){const k=Math.round(1e3*T)/1e3;return p.writeln(`  ${g} ${d.tempLabel(b)} = ${p.wrapInColor(String(k),_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} ${d.tempLabel(A)}`),void a.process.output(k)}}for(const T of categories)if(T.units[b]&&void 0!==T.units[b][A]){const U=Math.round(g*T.units[b][A]*1e6)/1e6,F=T.unitNames[A]||A;return p.writeln(`  ${g} ${T.unitNames[b]||b} = ${p.wrapInColor(String(U),_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} ${F}`),void a.process.output(U)}p.writeError(`Cannot convert from "${b}" to "${A}"`),p.writeln(),p.writeInfo("Supported units:"),p.writeln("  Length: m, km, cm, mm, mi, ft, in, yd"),p.writeln("  Weight: kg, g, mg, lb, oz, t"),p.writeln("  Temperature: c, f, k"),p.writeln("  Data: b, kb, mb, gb, tb"),a.process.exit(-1)})()}writeDescription($){const{writer:a}=$;a.writeln("Convert between various units of measurement"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("convert <value> <from> to <to>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  convert 100 km to mi             ${a.wrapInColor("# \u2192 62.1371 miles",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  convert 72 f to c                ${a.wrapInColor("# \u2192 22.222 celsius",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  convert 1024 mb to gb            ${a.wrapInColor("# \u2192 1 gigabytes",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  convert 5.5 lb to kg             ${a.wrapInColor("# \u2192 2.494 kilograms",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(),a.writeln("\u{1f4d0} Supported:"),a.writeln("  Length: m, km, cm, mm, mi, ft, in, yd"),a.writeln("  Weight: kg, g, mg, lb, oz, t"),a.writeln("  Temperature: c, f, k"),a.writeln("  Data: b, kb, mb, gb, tb")}isTemperatureUnit($){return["c","f","k","\xb0c","\xb0f","\xb0k"].includes($)}tempLabel($){return{c:"\xb0C",f:"\xb0F",k:"K"}[$.replace("\xb0","")]||$}convertTemperature($,a,d){const p=a.replace("\xb0",""),w=d.replace("\xb0","");let _;switch(p){case"c":_=$;break;case"f":_=5*($-32)/9;break;case"k":_=$-273.15;break;default:return null}switch(w){case"c":return _;case"f":return 9*_/5+32;case"k":return _+273.15;default:return null}}}class CliHashCommandProcessor{constructor(){this.command="hash",this.description="Generate hash digests of text",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"#\ufe0f\u20e3",module:"misc"},this.processors=[{command:"sha256",algo:"SHA-256",aliases:["sha-256"]},{command:"sha1",algo:"SHA-1",aliases:["sha-1"]},{command:"sha384",algo:"SHA-384",aliases:["sha-384"]},{command:"sha512",algo:"SHA-512",aliases:["sha-512"]}].map(({command:a,algo:d,aliases:p})=>{return{command:a,aliases:p,description:`Generate ${d} hash`,allowUnlistedCommands:!0,valueRequired:!0,processCommand:(w=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(_,g){const b=_.value||_.data||"";try{const A=(new TextEncoder).encode(b),T=yield crypto.subtle.digest(d,A),U=Array.from(new Uint8Array(T)).map(j=>j.toString(16).padStart(2,"0")).join("");g.writer.writeln(U),g.process.output(U)}catch{g.writer.writeError(`Failed to compute ${d} hash`),g.process.exit(-1)}}),function(g,b){return w.apply(this,arguments)}),writeDescription:w=>{const{writer:_}=w;_.writeln(`Generate a ${d} hash digest of the input text`),_.writeln(),_.writeln("\u{1f4cb} Usage:"),_.writeln(`  ${_.wrapInColor(`hash ${a} <text>`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}};var w})}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Generate cryptographic hash digests using the Web Crypto API"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("hash sha256 <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}        SHA-256 hash`),a.writeln(`  ${a.wrapInColor("hash sha1 <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}          SHA-1 hash`),a.writeln(`  ${a.wrapInColor("hash sha384 <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}        SHA-384 hash`),a.writeln(`  ${a.wrapInColor("hash sha512 <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}        SHA-512 hash`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  hash sha256 hello                ${a.wrapInColor("# \u2192 2cf24dba5fb0a30e...",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}class CliHexCommandProcessor{constructor(){var $;this.command="hex",this.description="Hex encode/decode and number base conversions",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"0\ufe0f\u20e3",module:"misc"},this.processors=[{command:"encode",aliases:["enc"],description:"Encode text to hexadecimal",allowUnlistedCommands:!0,valueRequired:!0,processCommand:($=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"",w=Array.from((new TextEncoder).encode(p)).map(_=>_.toString(16).padStart(2,"0")).join("");d.writer.writeln(w),d.process.output(w)}),function(d,p){return $.apply(this,arguments)}),writeDescription:$=>{const{writer:a}=$;a.writeln("Encode text to hexadecimal representation"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("hex encode <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"decode",aliases:["dec"],description:"Decode hexadecimal to text",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"";try{const w=new Uint8Array((p.match(/.{1,2}/g)||[]).map(g=>parseInt(g,16))),_=(new TextDecoder).decode(w);d.writer.writeln(_),d.process.output(_)}catch{d.writer.writeError("Invalid hex string"),d.process.exit(-1)}});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Decode hexadecimal back to text"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("hex decode <hex>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"convert",aliases:["conv"],description:"Convert a number between bases",allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"from",description:"Source base (default: 10)",type:"number",required:!1},{name:"to",description:"Target base (default: 16)",type:"number",required:!1}],processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const{writer:p}=d,w=a.value||"",_=parseInt(a.args.from)||10,g=parseInt(a.args.to)||16;if(_<2||_>36||g<2||g>36)return p.writeError("Base must be between 2 and 36"),void d.process.exit(-1);try{const b=parseInt(w,_);if(isNaN(b))return p.writeError(`Invalid number for base ${_}`),void d.process.exit(-1);const A=b.toString(g);p.writeln(`  ${p.wrapInColor(`Base ${_}:`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  ${w}`),p.writeln(`  ${p.wrapInColor(`Base ${g}:`,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  ${A}`),10!==_&&10!==g&&p.writeln(`  ${p.wrapInColor("Base 10:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  ${b}`),d.process.output(A)}catch{p.writeError("Conversion failed"),d.process.exit(-1)}});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Convert a number between different bases (2-36)"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("hex convert <number> [--from=N] [--to=N]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  hex convert 255                  ${a.wrapInColor("# Decimal \u2192 Hex (ff)",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  hex convert ff --from=16 --to=2  ${a.wrapInColor("# Hex \u2192 Binary (11111111)",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  hex convert 1010 --from=2        ${a.wrapInColor("# Binary \u2192 Hex (a)",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Hex encode/decode text and convert numbers between bases"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("hex encode <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                     Text to hex`),a.writeln(`  ${a.wrapInColor("hex decode <hex>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                      Hex to text`),a.writeln(`  ${a.wrapInColor("hex convert <num> [--from --to]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}       Base conversion`)}}class CliJsonCommandProcessor{constructor(){var $;this.command="json",this.description="Format, minify, or validate JSON",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"\u{1f4cb}",module:"misc"},this.processors=[{command:"format",aliases:["fmt","pretty"],description:"Pretty-print JSON with indentation",allowUnlistedCommands:!0,valueRequired:!0,processCommand:($=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"";try{const w="object"==typeof p?p:JSON.parse(p),_=JSON.stringify(w,null,2);d.writer.writeln(_),d.process.output(_)}catch{d.writer.writeError("Invalid JSON input"),d.process.exit(-1)}}),function(d,p){return $.apply(this,arguments)}),writeDescription:$=>{const{writer:a}=$;a.writeln("Pretty-print JSON with 2-space indentation"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("json format <json>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"minify",aliases:["min"],description:"Minify JSON by removing whitespace",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"";try{const w="object"==typeof p?p:JSON.parse(p),_=JSON.stringify(w);d.writer.writeln(_),d.process.output(_)}catch{d.writer.writeError("Invalid JSON input"),d.process.exit(-1)}});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Minify JSON by removing all unnecessary whitespace"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("json minify <json>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"validate",aliases:["check"],description:"Validate whether a string is valid JSON",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"";try{JSON.parse(p),d.writer.writeSuccess("Valid JSON")}catch(w){d.writer.writeError(`Invalid JSON: ${w.message}`),d.process.exit(-1)}});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Check whether a string is valid JSON"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("json validate <json>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Format, minify, or validate JSON strings"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("json format <json>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}       Pretty-print JSON`),a.writeln(`  ${a.wrapInColor("json minify <json>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}       Remove whitespace`),a.writeln(`  ${a.wrapInColor("json validate <json>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}     Check if valid JSON`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  json format {"a":1,"b":2}        ${a.wrapInColor("# Pretty-print",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  json validate {"valid":true}      ${a.wrapInColor("# Check validity",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}class CliJwtCommandProcessor{constructor(){var a,$=this;this.command="jwt",this.description="Decode and inspect JWT tokens",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"\u{1f511}",module:"misc"},this.processors=[{command:"decode",aliases:["d"],description:"Decode a JWT token",allowUnlistedCommands:!0,valueRequired:!0,processCommand:(a=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(d,p){const w=d.value||d.data||"",{writer:_}=p,g=w.split(".");if(3!==g.length)return _.writeError("Invalid JWT token (expected 3 parts separated by dots)"),void p.process.exit(-1);try{const b=JSON.parse($.base64UrlDecode(g[0])),A=JSON.parse($.base64UrlDecode(g[1]));if(_.writeln(_.wrapInColor("Header:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),_.writeln(JSON.stringify(b,null,2)),_.writeln(),_.writeln(_.wrapInColor("Payload:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),_.writeln(JSON.stringify(A,null,2)),_.writeln(),A.exp){const T=new Date(1e3*A.exp),k=T.getTime()<Date.now();_.writeln(`${_.wrapInColor("Expires:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)} ${T.toLocaleString()} ${k?_.wrapInColor("(EXPIRED)",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Red):_.wrapInColor("(valid)",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}if(A.iat){const T=new Date(1e3*A.iat);_.writeln(`${_.wrapInColor("Issued:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}  ${T.toLocaleString()}`)}_.writeln(),_.writeln(_.wrapInColor("Signature:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)+` ${g[2].substring(0,20)}...`),p.process.output({header:b,payload:A})}catch{_.writeError("Failed to decode JWT token"),p.process.exit(-1)}}),function(p,w){return a.apply(this,arguments)}),writeDescription:a=>{const{writer:d}=a;d.writeln("Decode a JWT token and display its header and payload"),d.writeln("Shows expiration status and issue date if present"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("jwt decode <token>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Decode and inspect JSON Web Tokens (JWT)"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("jwt decode <token>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}       Decode and display JWT contents`),a.writeln(),a.writeln("\u{1f4dd} Shows: header, payload, expiration status, issue date")}base64UrlDecode($){for($=$.replace(/-/g,"+").replace(/_/g,"/");$.length%4;)$+="=";return decodeURIComponent(atob($).split("").map(a=>"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)).join(""))}}const LOREM_WORDS=["lorem","ipsum","dolor","sit","amet","consectetur","adipiscing","elit","sed","do","eiusmod","tempor","incididunt","ut","labore","et","dolore","magna","aliqua","enim","ad","minim","veniam","quis","nostrud","exercitation","ullamco","laboris","nisi","aliquip","ex","ea","commodo","consequat","duis","aute","irure","in","reprehenderit","voluptate","velit","esse","cillum","fugiat","nulla","pariatur","excepteur","sint","occaecat","cupidatat","non","proident","sunt","culpa","qui","officia","deserunt","mollit","anim","id","est","laborum"];class CliLoremCommandProcessor{constructor(){var a,$=this;this.command="lorem",this.aliases=["lipsum"],this.description="Generate lorem ipsum placeholder text",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"\u{1f4dd}",module:"misc"},this.processors=[{command:"words",aliases:["w"],description:"Generate a number of words",parameters:[{name:"count",aliases:["n"],description:"Number of words (default: 10)",type:"number",required:!1}],processCommand:(a=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(d,p){const w=Math.min(parseInt(d.args.count||d.args.n)||10,1e3),_=$.generateWords(w);p.writer.writeln(_),p.process.output(_)}),function(p,w){return a.apply(this,arguments)}),writeDescription:a=>{const{writer:d}=a;d.writeln("Generate a specific number of lorem ipsum words"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("lorem words [--count=N]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"sentences",aliases:["s"],description:"Generate a number of sentences",parameters:[{name:"count",aliases:["n"],description:"Number of sentences (default: 3)",type:"number",required:!1}],processCommand:function(){var a=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(d,p){const w=Math.min(parseInt(d.args.count||d.args.n)||3,50),_=[];for(let b=0;b<w;b++){const A=Math.floor(10*Math.random())+5,T=$.generateWords(A);_.push(T.charAt(0).toUpperCase()+T.slice(1)+".")}const g=_.join(" ");p.writer.writeln(g),p.process.output(g)});return function(p,w){return a.apply(this,arguments)}}(),writeDescription:a=>{const{writer:d}=a;d.writeln("Generate lorem ipsum sentences"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("lorem sentences [--count=N]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"paragraphs",aliases:["p"],description:"Generate a number of paragraphs",parameters:[{name:"count",aliases:["n"],description:"Number of paragraphs (default: 1)",type:"number",required:!1}],processCommand:function(){var a=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(d,p){const w=Math.min(parseInt(d.args.count||d.args.n)||1,20),_=[];for(let b=0;b<w;b++){const A=Math.floor(4*Math.random())+3,T=[];for(let k=0;k<A;k++){const U=Math.floor(10*Math.random())+5,j=$.generateWords(U);T.push(j.charAt(0).toUpperCase()+j.slice(1)+".")}_.push(T.join(" "))}const g=_.join("\n\n");p.writer.writeln(g),p.process.output(g)});return function(p,w){return a.apply(this,arguments)}}(),writeDescription:a=>{const{writer:d}=a;d.writeln("Generate lorem ipsum paragraphs"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("lorem paragraphs [--count=N]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Generate lorem ipsum placeholder text"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("lorem words [--count=N]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}          Generate words`),a.writeln(`  ${a.wrapInColor("lorem sentences [--count=N]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}      Generate sentences`),a.writeln(`  ${a.wrapInColor("lorem paragraphs [--count=N]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}     Generate paragraphs`)}generateWords($){const a=[];for(let d=0;d<$;d++)a.push(LOREM_WORDS[Math.floor(Math.random()*LOREM_WORDS.length)]);return a.join(" ")}}class CliOpenCommandProcessor{constructor(){this.command="open",this.description="Open a URL in a new browser tab",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.allowUnlistedCommands=!0,this.valueRequired=!0,this.metadata={icon:"\u{1f310}",module:"misc"}}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){let d=$.value||"";!d.startsWith("http://")&&!d.startsWith("https://")&&(d="https://"+d);try{new URL(d)}catch{return a.writer.writeError(`Invalid URL: ${$.value}`),void a.process.exit(-1)}window.open(d,"_blank")?a.writer.writeSuccess(`Opened ${a.writer.wrapInColor(d,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Blue)}`):(a.writer.writeError("Failed to open URL. Pop-ups may be blocked by the browser."),a.process.exit(-1))})()}writeDescription($){const{writer:a}=$;a.writeln("Open a URL in a new browser tab"),a.writeln("Automatically adds https:// if no protocol is specified"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("open <url>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  open google.com                  ${a.wrapInColor("# Opens https://google.com",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  open https://github.com          ${a.wrapInColor("# Opens GitHub",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}class CliRandomCommandProcessor{constructor(){var $;this.command="random",this.aliases=["rand"],this.description="Generate random values",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"\u{1f3b2}",module:"misc"},this.processors=[{command:"number",aliases:["num"],description:"Generate a random number",parameters:[{name:"min",description:"Minimum value (default: 0)",type:"number",required:!1},{name:"max",description:"Maximum value (default: 100)",type:"number",required:!1},{name:"count",aliases:["n"],description:"How many numbers to generate (default: 1)",type:"number",required:!1}],processCommand:($=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=parseInt(a.args.min)||0,w=parseInt(a.args.max)||100,_=Math.min(parseInt(a.args.count||a.args.n)||1,100),g=[];for(let A=0;A<_;A++)g.push(Math.floor(Math.random()*(w-p+1))+p);const b=g.join(", ");d.writer.writeln(b),d.process.output(1===g.length?g[0]:g)}),function(d,p){return $.apply(this,arguments)}),writeDescription:$=>{const{writer:a}=$;a.writeln("Generate random numbers within a range"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("random number [--min=N] [--max=N] [--count=N]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  random number                    ${a.wrapInColor("# 0-100",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  random number --min=1 --max=6    ${a.wrapInColor("# Dice roll",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  random number --count=5          ${a.wrapInColor("# 5 numbers",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}},{command:"string",aliases:["str"],description:"Generate a random string",parameters:[{name:"length",aliases:["l"],description:"String length (default: 16)",type:"number",required:!1},{name:"charset",description:"Character set: alphanumeric, alpha, numeric, hex (default: alphanumeric)",type:"string",required:!1}],processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=Math.min(parseInt(a.args.length||a.args.l)||16,1024),w=a.args.charset||"alphanumeric",_={alphanumeric:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",numeric:"0123456789",hex:"0123456789abcdef"},g=_[w];if(!g)return d.writer.writeError(`Unknown charset: ${w}. Available: ${Object.keys(_).join(", ")}`),void d.process.exit(-1);const b=new Uint32Array(p);crypto.getRandomValues(b);const A=Array.from(b).map(T=>g[T%g.length]).join("");d.writer.writeln(A),d.process.output(A)});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Generate a cryptographically random string"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("random string [--length=N] [--charset=TYPE]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln(`  Charsets: ${a.wrapInColor("alphanumeric, alpha, numeric, hex",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)}`)}},{command:"uuid",description:"Generate a random UUID v4",processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=crypto.randomUUID();d.writer.writeln(p),d.process.output(p)});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Generate a cryptographically random UUID v4"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("random uuid",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"coin",aliases:["flip"],description:"Flip a coin",processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=Math.random()<.5?"Heads":"Tails";d.writer.writeln(`\u{1fa99} ${p}`),d.process.output(p)});return function(d,p){return $.apply(this,arguments)}}()},{command:"dice",aliases:["roll"],description:"Roll a dice",parameters:[{name:"sides",aliases:["s"],description:"Number of sides (default: 6)",type:"number",required:!1}],processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=parseInt(a.args.sides||a.args.s)||6,w=Math.floor(Math.random()*p)+1;d.writer.writeln(`\u{1f3b2} ${w}`),d.process.output(w)});return function(d,p){return $.apply(this,arguments)}}()}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Generate random numbers, strings, UUIDs, and more"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("random number",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}              Random number (0-100)`),a.writeln(`  ${a.wrapInColor("random string",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}              Random string (16 chars)`),a.writeln(`  ${a.wrapInColor("random uuid",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                Random UUID v4`),a.writeln(`  ${a.wrapInColor("random coin",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                Flip a coin`),a.writeln(`  ${a.wrapInColor("random dice",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                Roll a dice`)}}class CliScreenCommandProcessor{constructor(){this.command="screen",this.aliases=["display"],this.description="Display screen and terminal information",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={icon:"\u{1f5a5}\ufe0f",module:"misc"}}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:d}=a;function p(w,_){d.writeln(`  ${d.wrapInColor(w.padEnd(22),_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} ${_}`)}d.writeln(d.wrapInColor("\u{1f5a5}\ufe0f  Screen:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),p("Resolution:",`${screen.width} x ${screen.height}`),p("Available:",`${screen.availWidth} x ${screen.availHeight}`),p("Color Depth:",`${screen.colorDepth}-bit`),p("Pixel Ratio:",`${window.devicePixelRatio}x`),p("Orientation:",screen.orientation?.type||"unknown"),d.writeln(),d.writeln(d.wrapInColor("\u{1fa9f} Viewport:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),p("Inner Size:",`${window.innerWidth} x ${window.innerHeight}`),p("Outer Size:",`${window.outerWidth} x ${window.outerHeight}`),d.writeln(),d.writeln(d.wrapInColor("\u{1f4df} Terminal:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)),p("Columns:",`${a.terminal.cols}`),p("Rows:",`${a.terminal.rows}`)})()}writeDescription($){const{writer:a}=$;a.writeln("Display screen, viewport, and terminal dimensions"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("screen",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Shows: resolution, color depth, pixel ratio, viewport size, terminal size")}}class CliSeqCommandProcessor{constructor(){this.command="seq",this.aliases=["sequence"],this.description="Print a sequence of numbers",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.allowUnlistedCommands=!0,this.valueRequired=!0,this.metadata={icon:"\u{1f522}",module:"misc"},this.parameters=[{name:"step",aliases:["s"],description:"Step increment (default: 1)",type:"number",required:!1},{name:"separator",aliases:["sep"],description:"Separator between numbers (default: newline)",type:"string",required:!1}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:d}=a,p=($.value||"").split(/\s+/).map(Number);let w,_;const g=parseFloat($.args.step||$.args.s)||1,b=$.args.separator||$.args.sep||"\n";if(1===p.length)w=1,_=p[0];else{if(!(p.length>=2))return d.writeError("Usage: seq <end> or seq <start> <end>"),void a.process.exit(-1);w=p[0],_=p[1]}if(isNaN(w)||isNaN(_))return d.writeError("Invalid numbers"),void a.process.exit(-1);const T=[];if(g>0)for(let k=w;k<=_&&T.length<1e4;k+=g)T.push(k);else{if(!(g<0))return d.writeError("Step cannot be 0"),void a.process.exit(-1);for(let k=w;k>=_&&T.length<1e4;k+=g)T.push(k)}d.writeln(T.join(b)),a.process.output(T)})()}writeDescription($){const{writer:a}=$;a.writeln("Print a sequence of numbers"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("seq <end>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                       Numbers from 1 to end`),a.writeln(`  ${a.wrapInColor("seq <start> <end>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}               Numbers from start to end`),a.writeln(`  ${a.wrapInColor("seq <start> <end> --step=N",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}      With custom step`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  seq 5                            ${a.wrapInColor("# 1, 2, 3, 4, 5",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  seq 2 10 --step=2                ${a.wrapInColor("# 2, 4, 6, 8, 10",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  seq 1 5 --sep=", "               ${a.wrapInColor("# 1, 2, 3, 4, 5",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}class CliTimeCommandProcessor{constructor(){var $;this.command="time",this.aliases=["date"],this.description="Display the current local and UTC time",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.version=LIBRARY_VERSION,this.processors=[],this.metadata={sealed:!0,module:"misc",icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.Timer},this.processors=[{command:"now",description:"Display the current time",processCommand:($=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=new Date,w=p.toLocaleString(),_=p.toUTCString();d.writer.writeSuccess(`\u{1f552} Local Time: ${d.writer.wrapInColor(w,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.White)}`),d.writer.writeSuccess(`\u{1f310} UTC Time: ${d.writer.wrapInColor(_,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.White)}`),d.process.output(p)}),function(d,p){return $.apply(this,arguments)})}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Display the current local and UTC time"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("time now",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}              \u{1f552} Show current local and UTC time`)}}class CliTimestampCommandProcessor{constructor(){var $;this.command="timestamp",this.aliases=["ts","epoch"],this.description="Convert between Unix timestamps and dates",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"\u{1f550}",module:"misc"},this.processors=[{command:"now",description:"Show current Unix timestamp",processCommand:($=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const{writer:p}=d,w=Date.now(),_=Math.floor(w/1e3);p.writeln(`  ${p.wrapInColor("Seconds:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}        ${_}`),p.writeln(`  ${p.wrapInColor("Milliseconds:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}   ${w}`),d.process.output(_)}),function(d,p){return $.apply(this,arguments)})},{command:"to-date",aliases:["todate","parse"],description:"Convert a Unix timestamp to a date",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const{writer:p}=d;let w=parseInt(a.value||"");if(isNaN(w))return p.writeError("Invalid timestamp"),void d.process.exit(-1);w<1e12&&(w*=1e3);const _=new Date(w);p.writeln(`  ${p.wrapInColor("Local:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}  ${_.toLocaleString()}`),p.writeln(`  ${p.wrapInColor("UTC:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}    ${_.toUTCString()}`),p.writeln(`  ${p.wrapInColor("ISO:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}    ${_.toISOString()}`),d.process.output(_.toISOString())});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Convert a Unix timestamp to a human-readable date"),a.writeln("Auto-detects seconds vs milliseconds"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("timestamp to-date <timestamp>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}},{command:"from-date",aliases:["fromdate"],description:"Convert a date string to a Unix timestamp",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const{writer:p}=d,w=a.value||"",_=new Date(w);if(isNaN(_.getTime()))return p.writeError(`Invalid date: ${w}`),void d.process.exit(-1);const g=Math.floor(_.getTime()/1e3);p.writeln(`  ${p.wrapInColor("Seconds:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}        ${g}`),p.writeln(`  ${p.wrapInColor("Milliseconds:",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}   ${_.getTime()}`),d.process.output(g)});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Convert a date string to a Unix timestamp"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("timestamp from-date <date>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  timestamp from-date 2024-01-01               ${a.wrapInColor("# ISO date",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  timestamp from-date "Jan 1, 2024 12:00"      ${a.wrapInColor("# Human-readable",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Convert between Unix timestamps and human-readable dates"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("timestamp now",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                     Current Unix timestamp`),a.writeln(`  ${a.wrapInColor("timestamp to-date <ts>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}             Timestamp to date`),a.writeln(`  ${a.wrapInColor("timestamp from-date <date>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}         Date to timestamp`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  timestamp to-date 1704067200       ${a.wrapInColor("# \u2192 Jan 1, 2024",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  timestamp from-date 2024-01-01     ${a.wrapInColor("# \u2192 1704067200",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}class CliUnameCommandProcessor{constructor(){this.command="uname",this.aliases=["sysinfo"],this.description="Prints detailed system and browser information",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.Flame,module:"misc"}}writeDescription($){const{writer:a}=$;a.writeln("Prints detailed system and browser information including:"),a.writeln("  \u{1f4be} CLI core and library versions"),a.writeln("  \u{1f310} Browser name, version, user agent, language, and platform"),a.writeln("  \u{1f5a5}  Operating system"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("uname",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}processCommand($,a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:p}=a;function w(_,g){p.writeln(`- ${p.wrapInColor(_,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}: ${g}`)}if(p.writeInfo("CLI:"),w("Core version",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.Zh),w("Cli version",LIBRARY_VERSION),p.writeln(),typeof navigator<"u"){p.writeInfo("Browser Information:"),w("User Agent",navigator.userAgent),w("Language",navigator.language),w("Platform",navigator.platform);const _=d.parseUserAgent(navigator.userAgent);w("Browser",_.browserName),w("Version",_.version),w("OS",_.os)}else p.writeError("Browser information is not available in this environment.")})()}parseUserAgent($){let a="Unknown",d="Unknown",p="Unknown";return $.includes("Chrome")?(a="Chrome",d=$.match(/Chrome\/([\d.]+)/)?.[1]||"Unknown"):$.includes("Firefox")?(a="Firefox",d=$.match(/Firefox\/([\d.]+)/)?.[1]||"Unknown"):$.includes("Safari")&&!$.includes("Chrome")?(a="Safari",d=$.match(/Version\/([\d.]+)/)?.[1]||"Unknown"):($.includes("MSIE")||$.includes("Trident"))&&(a="Internet Explorer",d=$.match(/(?:MSIE |rv:)([\d.]+)/)?.[1]||"Unknown"),$.includes("Windows")?p="Windows":$.includes("Mac OS")?p="Mac OS":$.includes("Linux")?p="Linux":$.includes("Android")?p="Android":($.includes("iPhone")||$.includes("iPad"))&&(p="iOS"),{browserName:a,version:d,os:p}}}class CliUptimeCommandProcessor{constructor(){this.command="uptime",this.description="Show session uptime",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={icon:"\u23f1\ufe0f",module:"misc"},this.sessionStartTimes=new WeakMap}initialize($){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.sessionStartTimes.set($.terminal,Date.now())})()}processCommand($,a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const p=d.sessionStartTimes.get(a.terminal)??Date.now(),w=Date.now()-p,{writer:_}=a,g=Math.floor(w/1e3)%60,b=Math.floor(w/6e4)%60,A=Math.floor(w/36e5)%24,T=Math.floor(w/864e5),k=[];T>0&&k.push(`${T}d`),A>0&&k.push(`${A}h`),b>0&&k.push(`${b}m`),k.push(`${g}s`);const U=k.join(" "),j=new Date(p).toLocaleString();_.writeln(`\u23f1\ufe0f  Uptime: ${_.wrapInColor(U,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),_.writeln(`\u{1f4c5} Started: ${_.wrapInColor(j,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)})()}writeDescription($){const{writer:a}=$;a.writeln("Show how long the current terminal session has been active"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("uptime",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}}class CliUrlCommandProcessor{constructor(){var $;this.command="url",this.description="Encode or decode URLs",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.processors=[],this.metadata={icon:"\u{1f517}",module:"misc"},this.processors=[{command:"encode",aliases:["enc"],description:"URL-encode a string",allowUnlistedCommands:!0,valueRequired:!0,processCommand:($=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const w=encodeURIComponent(a.value||a.data||"");d.writer.writeln(w),d.process.output(w)}),function(d,p){return $.apply(this,arguments)}),writeDescription:$=>{const{writer:a}=$;a.writeln("URL-encode a string"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("url encode <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  url encode hello world           ${a.wrapInColor("# \u2192 hello%20world",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}},{command:"decode",aliases:["dec"],description:"URL-decode a string",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"";try{const w=decodeURIComponent(p);d.writer.writeln(w),d.process.output(w)}catch{d.writer.writeError("Invalid URL-encoded string"),d.process.exit(-1)}});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("URL-decode a string"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("url decode <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  url decode hello%20world         ${a.wrapInColor("# \u2192 hello world",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}},{command:"parse",description:"Parse a URL into its components",allowUnlistedCommands:!0,valueRequired:!0,processCommand:function(){var $=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(a,d){const p=a.value||a.data||"";try{const w=new URL(p),_={protocol:w.protocol,hostname:w.hostname,port:w.port||"(default)",pathname:w.pathname,search:w.search||"(none)",hash:w.hash||"(none)",origin:w.origin},{writer:g}=d;Object.entries(_).forEach(([b,A])=>{g.writeln(`  ${g.wrapInColor(b.padEnd(12),_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} ${A}`)}),d.process.output(_)}catch{d.writer.writeError("Invalid URL"),d.process.exit(-1)}});return function(d,p){return $.apply(this,arguments)}}(),writeDescription:$=>{const{writer:a}=$;a.writeln("Parse a URL and display its components"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("url parse <url>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`)}}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.executor.showHelp($,a)})()}writeDescription($){const{writer:a}=$;a.writeln("Encode, decode, and parse URLs"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("url encode <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}        URL-encode a string`),a.writeln(`  ${a.wrapInColor("url decode <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}        URL-decode a string`),a.writeln(`  ${a.wrapInColor("url parse <url>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}          Parse URL components`)}}class CliYesCommandProcessor{constructor(){this.command="yes",this.description="Output a string repeatedly",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.allowUnlistedCommands=!0,this.metadata={icon:"\u2705",module:"misc"},this.parameters=[{name:"count",aliases:["n"],description:"Number of repetitions (default: 20)",type:"number",required:!1}]}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const d=$.value||"y",p=Math.min(parseInt($.args.count||$.args.n)||20,1e3);for(let w=0;w<p;w++)a.writer.writeln(d)})()}writeDescription($){const{writer:a}=$;a.writeln("Output a string repeatedly"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("yes [text] [--count=N]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  yes                              ${a.wrapInColor('# Outputs "y" 20 times',_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  yes hello --count=5              ${a.wrapInColor('# Outputs "hello" 5 times',_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}class CliEchoCommandProcessor{constructor(){this.command="echo",this.aliases=["print"],this.description="Prints the specified text",this.allowUnlistedCommands=!0,this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={icon:"\u{1f4e2}",module:"misc"}}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const d=$.value||$.data||"";"object"==typeof d?a.writer.writeJson(d):a.writer.writeln(d),a.process.output(d)})()}writeDescription($){const{writer:a}=$;a.writeln("Prints the specified text to the terminal"),a.writeln("Supports text and JSON object output via piping"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("echo <text>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  echo Hello World                 ${a.wrapInColor("# Print text",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  echo "Hello, World!"             ${a.wrapInColor("# Print quoted text",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}class CliAliasCommandProcessor{constructor(){var a,$=this;this.command="alias",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.description="Manage aliases for commands",this.metadata={icon:"\u{1f525}",module:"misc",sealed:!0},this.stateConfiguration={initialState:{aliases:{}},storeName:"aliases"},this.userAliases={},this.processors=[{command:"ls",description:"List all aliases",processCommand:(a=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(d,p){const{writer:w}=p;w.writeln("Aliases:"),Object.entries($.userAliases).forEach(([_,g])=>{w.writeInfo(`  ${_} -> ${g}`)}),0===Object.keys($.userAliases).length&&w.writeInfo("  No aliases defined")}),function(p,w){return a.apply(this,arguments)})}]}writeDescription($){const{writer:a}=$;a.writeln("Create shortcut aliases for frequently used commands"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("alias --<name>=<command>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}    Create a new alias`),a.writeln(`  ${a.wrapInColor("alias ls",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                    List all aliases`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  alias --h=help               ${a.wrapInColor('# "h" \u2192 runs "help"',_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  alias --cls=clear             ${a.wrapInColor('# "cls" \u2192 runs "clear"',_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(),a.writeln(`\u{1f4a1} Use ${a.wrapInColor("unalias <name>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Yellow)} to remove an alias`)}processCommand($,a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const p=a.services.get(CliProcessorsRegistry_TOKEN),{writer:w}=a,_=Object.keys($.args);if(0===_.length)return w.writeError("No aliases provided"),void a.process.exit(-1);for(const g of _){if(p.processors.some(b=>b.command===g))return w.writeError(`${g} cannot be aliased to ${$.args[g]}`),void a.process.exit(-1);a.writer.writeInfo(`${g} -> ${$.args[g]}`)}a.state.updateState({aliases:{...d.userAliases,...$.args}}),yield a.state.persist()})()}initialize($){var a=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){a.stateSubscription?.unsubscribe(),a.stateSubscription=$.state.select(d=>d.aliases).subscribe(d=>{a.userAliases=d??{}})})()}}class CliUnAliasCommandProcessor{constructor(){this.command="unalias",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.description="Remove aliases for commands",this.valueRequired=!0,this.stateConfiguration={initialState:{},storeName:"aliases"},this.metadata={icon:"\u{1f525}",module:"misc",sealed:!0}}writeDescription($){const{writer:a}=$;a.writeln("Remove a previously defined command alias"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("unalias <name>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  unalias h                    ${a.wrapInColor('# Remove the "h" alias',_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  unalias cls                  ${a.wrapInColor('# Remove the "cls" alias',_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}processCommand($,a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const{writer:d}=a,p=$.value,{aliases:w}=a.state.getState();if(!w[p])return d.writeError(`Alias ${p} not found`),void a.process.exit(-1);const _={};Object.keys(w).filter(g=>g!==p).forEach(g=>{_[g]=w[g]}),a.state.updateState({aliases:_}),yield a.state.persist()})()}}class CliSleepCommandProcessor{constructor(){this.command="sleep",this.aliases=["wait"],this.description="Sleep for a specified amount of time",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,module:"misc",icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.Timer},this.valueRequired=!0}processCommand($,{writer:a}){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const d=parseInt($.value);isNaN(d)||d<0?a.writeError(`Invalid time value: "${$.value}". Please provide a positive number in milliseconds.`):(yield(0,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.cb)(d),a.writeInfo(`Slept for ${d}ms`))})()}writeDescription($){const{writer:a}=$;a.writeln("Pauses execution for the specified duration (in milliseconds)"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("sleep <milliseconds>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),a.writeln(),a.writeln("\u{1f4dd} Examples:"),a.writeln(`  sleep 1000                   ${a.wrapInColor("# Sleep for 1 second",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),a.writeln(`  sleep 5000                   ${a.wrapInColor("# Sleep for 5 seconds",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}}const miscProcessors=[new CliClearCommandProcessor,new CliEchoCommandProcessor,new CliEvalCommandProcessor,new CliAliasCommandProcessor,new CliUnAliasCommandProcessor,new CliSleepCommandProcessor,new CliUnameCommandProcessor,new CliTimeCommandProcessor,new CliBase64CommandProcessor,new CliJsonCommandProcessor,new CliUrlCommandProcessor,new CliHashCommandProcessor,new CliRandomCommandProcessor,new CliUptimeCommandProcessor,new CliOpenCommandProcessor,new CliLoremCommandProcessor,new CliTimestampCommandProcessor,new CliColorCommandProcessor,new CliJwtCommandProcessor,new CliCalCommandProcessor,new CliSeqCommandProcessor,new CliScreenCommandProcessor,new CliHexCommandProcessor,new CliClipboardCommandProcessor,new CliConvertCommandProcessor,new CliYesCommandProcessor];let CliAddUserCommandProcessor=(()=>{class fe{constructor(a){this.usersStore=a,this.command="adduser",this.aliases=["useradd"],this.description="Add a new user",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,module:"users",icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.User},this.stateConfiguration={initialState:{},storeName:"users"},this.allowUnlistedCommands=!0,this.valueRequired=!0,this.parameters=[{name:"email",description:"The email of the user",required:!0,type:"email",validator:d=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(d)?{valid:!0}:{valid:!1,message:"Invalid email format"}},{name:"groups",description:"The groups the user belongs to, separated by commas",type:"string",required:!1}]}processCommand(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const w=a.value,_=a.args.email,g=a.args.groups?.split(",")||[];try{yield p.usersStore.createUser({name:w,email:_,groups:g}),d.writer.writeInfo("User created successfully")}catch(b){console.error(b),d.writer.writeError(b?.toString()||"An error occurred while creating the user")}})()}writeDescription(a){const{writer:d}=a;d.writeln("Add a new user to the system"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("adduser <name> --email=<email> [--groups=<groups>]",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),d.writeln(),d.writeln("\u{1f4dd} Examples:"),d.writeln(`  adduser John --email=john@example.com                   ${d.wrapInColor("# Basic",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),d.writeln(`  adduser Jane --email=jane@test.com --groups=admin,dev   ${d.wrapInColor("# With groups",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(ICliUsersStoreService_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliListUsersCommandProcessor=(()=>{class fe{constructor(a){this.usersStore=a,this.command="listusers",this.aliases=["users"],this.description="List all users",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,module:"users",icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.User},this.stateConfiguration={initialState:{},storeName:"users"},this.parameters=[{name:"query",description:"The query to filter the users",type:"string",required:!1},{name:"skip",description:"The number of users to skip",type:"number",required:!1},{name:"take",description:"The maximum number of users to return",type:"number",required:!1}]}processCommand(a,{writer:d}){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const w=yield(0,rxjs__WEBPACK_IMPORTED_MODULE_17__._)(p.usersStore.getUsers({query:a.args.query,skip:a.args.skip,take:a.args.take}));d.writeln("Users:"),d.writeObjectsAsTable(w)})()}writeDescription({writer:a}){a.writeln("List all users in the system"),a.writeln(),a.writeln("\u{1f4cb} Usage:"),a.writeln(`  ${a.wrapInColor("listusers",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                              List all users`),a.writeln(`  ${a.wrapInColor("listusers --query=<search>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}              Filter users by name/email`),a.writeln(`  ${a.wrapInColor("listusers --skip=5 --take=10",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}            Paginate results`)}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(ICliUsersStoreService_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliSwitchUserCommandProcessor=(()=>{class fe{constructor(a,d){this.userSessionService=a,this.usersStore=d,this.command="su",this.aliases=["switch-user"],this.description="Switch user",this.allowUnlistedCommands=!0,this.parameters=[{name:"reload",description:"Reload the page after switching user",type:"boolean",required:!1,aliases:["r"]}],this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,module:"users",icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.User},this.stateConfiguration={initialState:{},storeName:"users"},this.valueRequired=!0}processCommand(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){try{const w=d.userSession?.user,_=a.value;if(!w)return d.writer.writeError("Missing user to switch from"),void d.process.exit(-1);if(!_)return d.writer.writeError("Missing user to switch to"),void d.process.exit(-1);d.spinner?.show(_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.User+"  Switching...");const g=yield(0,rxjs__WEBPACK_IMPORTED_MODULE_17__._)(p.usersStore.getUser(_));if(!g)return d.writer.writeError(`User ${_} not found`),d.spinner?.hide(),void d.process.exit(-1);if(g.id===w.id)return d.writer.writeError("Already on the user"),d.spinner?.hide(),void d.process.exit(-1);yield p.userSessionService.setUserSession({user:g}),d.spinner?.hide(),d.writer.writeSuccess(`Switch to ${d.writer.wrapInColor(_,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)} was successfully`),(a.args.reload||a.args.r||!0===d.options?.usersModule?.reloadPageOnUserChange)&&(d.writer.writeln("Reloading the page in 3 seconds..."),setTimeout(()=>{window.location.reload()},3e3))}catch(w){return console.error(w),d.spinner?.hide(),d.writer.writeError("Failed to switch user"),void d.process.exit(-1)}})()}writeDescription(a){const{writer:d}=a;d.writeln("Switch to a different user session"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("su <user email>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}`),d.writeln(`  ${d.wrapInColor("su <user email> --reload",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}    Reload page after switching`),d.writeln(),d.writeln("\u{1f4dd} Examples:"),d.writeln(`  su admin@example.com             ${d.wrapInColor("# Switch to admin",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),d.writeln(`  su user@test.com --reload        ${d.wrapInColor("# Switch and reload",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`)}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(ICliUserSessionService_TOKEN),_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(ICliUsersStoreService_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),CliWhoamiCommandProcessor=(()=>{class fe{constructor(a){this.userSessionService=a,this.command="whoami",this.aliases=["me"],this.description="Display current user information",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.metadata={sealed:!0,module:"users",icon:_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.E9.User},this.stateConfiguration={initialState:{},storeName:"users"},this.parameters=[{name:"info",description:"Display user information",type:"boolean",required:!1,aliases:["i"]}]}processCommand(a,d){var p=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){const w=yield(0,rxjs__WEBPACK_IMPORTED_MODULE_17__._)(p.userSessionService.getUserSession());w?a.args.info||a.args.i?(d.writer.writeln("User information:"),d.writer.writeObjectsAsTable([w.user])):d.writer.writeln(w?.user.email):d.writer.writeln("No user session found")})()}writeDescription(a){const{writer:d}=a;d.writeln("Display the current logged-in user information"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("whoami",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                 Show current user email`),d.writeln(`  ${d.wrapInColor("whoami --info",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}           Show detailed user information`)}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(ICliUserSessionService_TOKEN))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();const usersProviders=[resolveCommandProcessorProvider(CliSwitchUserCommandProcessor),resolveCommandProcessorProvider(CliWhoamiCommandProcessor),resolveCommandProcessorProvider(CliAddUserCommandProcessor),resolveCommandProcessorProvider(CliListUsersCommandProcessor)];class CliLogger{constructor(){this.CliLogLevel=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tE.ERROR}setCliLogLevel($){this.CliLogLevel=$}log(...$){this.CliLogLevel<=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tE.LOG&&console.log(...$)}info(...$){this.CliLogLevel<=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tE.INFO&&console.info(...$)}warn(...$){this.CliLogLevel<=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tE.WARN&&console.warn(...$)}error(...$){this.CliLogLevel<=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tE.ERROR&&console.error(...$)}debug(...$){this.CliLogLevel<=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tE.DEBUG&&console.debug(...$)}}let CliCommandProcessorRegistry=(()=>{class fe{constructor(){this.processors=[...miscProcessors]}registerProcessor(a){const d=this.getProcessorByName(a.command);if(d){if(d.metadata?.sealed)return void console.warn(`Processor with command: ${a.command} is sealed and cannot be replaced.`);const p=this.processors.findIndex(w=>w.command===a.command);this.processors[p]=a}else this.processors.push(a)}unregisterProcessor(a){const d=this.getProcessorByName(a.command);if(d&&d.metadata?.sealed)return void console.warn(`Processor with command: ${a.command} is sealed and cannot be removed.`);const p=this.processors.findIndex(w=>w.command===a.command);-1!==p&&this.processors.splice(p,1)}findProcessor(a,d){return this.findProcessorInCollection(a,d,this.processors)}findProcessorInCollection(a,d,p){const w=a.toLowerCase(),_=p.find(g=>g.command.toLowerCase()===w||g.aliases?.some(b=>b.toLowerCase()===w));if(_){if(0===d.length)return _;if(_.processors&&_.processors.length>0)return this.findProcessorInCollection(d[0],d.slice(1),_.processors);if(_.allowUnlistedCommands||_.valueRequired)return _}}getRootProcessor(a){return a.parent?this.getRootProcessor(a.parent):a}getProcessorByName(a){return this.processors.find(d=>d.command.toLowerCase()===a.toLowerCase())}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac})}}return fe})(),CliServiceProvider=(()=>{class fe{constructor(a){this.providers=[],this.currentInjector=a}get(a){try{return this.currentInjector.get(a)}catch{throw new Error(`Service ${a} not found`)}}set(a){const d=Array.isArray(a)?a:[a],p=[];for(const w of d){let _={provide:w.provide};w.hasOwnProperty("useClass")?_={provide:w.provide,useClass:w.useClass,multi:w.multi}:w.hasOwnProperty("useValue")?_={provide:w.provide,useValue:w.useValue,multi:w.multi}:w.hasOwnProperty("useFactory")&&(_={provide:w.provide,useFactory:w.useFactory,multi:w.multi}),p.push(_)}this.providers.push(...p),this.currentInjector=_angular_core__WEBPACK_IMPORTED_MODULE_4__.zZn.create({providers:p,parent:this.currentInjector})}static{this.\u0275fac=function(d){return new(d||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(_angular_core__WEBPACK_IMPORTED_MODULE_4__.zZn))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac})}}return fe})(),CliThemeCommandProcessor=(()=>{class fe{constructor(){var d,a=this;this.command="theme",this.aliases=["themes"],this.description="Interact with the theme",this.author=_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.ep,this.version="1.0.1",this.processors=[],this.metadata={sealed:!0,icon:"\u{1f3a8}",module:"system"},this.stateConfiguration={initialState:{selectedTheme:"default",customOptions:null}},this.themeOptions=Object.keys(themeOptions),this.processors=[{command:"list",description:"List available themes",processCommand:(d=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(p,w){w.writer.writeln("Available themes:"),Object.keys(themes).forEach(_=>{w.writer.writeln(w.writer.wrapInColor(_,_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan))})}),function(w,_){return d.apply(this,arguments)})},{command:"current",description:"Show the current theme",processCommand:function(){var d=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(p,w){const g=w.state.getState().selectedTheme||"custom";w.writer.writeln(`Current theme: ${g}`),w.writer.writeln("Theme options:"),Object.keys(w.terminal.options.theme).forEach(b=>{w.writer.writeln(`${b}: ${w.terminal.options.theme[b]}`)})});return function(w,_){return d.apply(this,arguments)}}()},{command:"apply",description:"Apply a theme",valueRequired:!0,processCommand:function(){var d=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(p,w){const _=p.value;themes[_]?(w.terminal.options.theme=themes[_],w.state.updateState({selectedTheme:_,customOptions:null}),yield w.state.persist(),a.applyStyles(w),w.writer.writeSuccess(`Theme ${_} applied`)):w.writer.writeError(`Theme ${_} not found`)});return function(w,_){return d.apply(this,arguments)}}()},{command:"set",allowUnlistedCommands:!0,description:"Set a theme variable",parameters:[{name:"save",description:"Save the theme settings",type:"boolean",required:!1}],processCommand:function(){var d=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(p,w){const[_,g]=p.command.split(" ").slice(2);a.themeOptions.includes(_)?(w.terminal.options.theme={...w.terminal.options.theme,[_]:g},w.state.updateState({selectedTheme:null,customOptions:w.terminal.options.theme}),w.writer.writeSuccess(`Set ${_} to ${g}`),a.applyStyles(w),p.args.save&&(yield a.saveTheme(w))):w.writer.writeError(`Unsupported key: ${_}, supported keys: ${a.themeOptions.join(", ")}`)});return function(w,_){return d.apply(this,arguments)}}()},{command:"save",description:"Save the current theme settings",processCommand:function(){var d=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(p,w){w.terminal.options.theme={},w.state.updateState({selectedTheme:null,customOptions:w.terminal.options.theme}),yield a.saveTheme(w)});return function(w,_){return d.apply(this,arguments)}}()},{command:"reset",description:"Reset the theme to the default",processCommand:function(){var d=(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(p,w){w.terminal.options.theme={...a.defaultTheme},w.state.reset(),yield w.state.persist(),w.writer.writeSuccess("Theme reset to default")});return function(w,_){return d.apply(this,arguments)}}()}]}initialize(a){var d=this;return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){d.defaultTheme=a.terminal.options.theme;const p=a.state.getState();p.selectedTheme&&"default"!==p.selectedTheme?a.terminal.options.theme=themes[p.selectedTheme]:p.customOptions&&(a.terminal.options.theme=p.customOptions),d.applyStyles(a)})()}processCommand(a,d){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){d.executor.showHelp(a,d)})()}applyStyles(a){const d=document.getElementsByClassName("terminal-container");for(const p of Array.from(d))p.style.background=a.terminal.options.theme?.background||this.defaultTheme.background}saveTheme(a){return(0,_home_runner_work_angular_web_cli_angular_web_cli_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(function*(){yield a.state.persist(),a.writer.writeSuccess("Theme saved")})()}writeDescription(a){const{writer:d}=a;d.writeln("Customize the terminal appearance with themes and colors"),d.writeln(),d.writeln("\u{1f4cb} Usage:"),d.writeln(`  ${d.wrapInColor("theme list",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                     \u{1f3a8} List available themes`),d.writeln(`  ${d.wrapInColor("theme apply <name>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}               Apply a theme`),d.writeln(`  ${d.wrapInColor("theme current",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                    Show active theme`),d.writeln(`  ${d.wrapInColor("theme set <key> <value>",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}          Set a theme variable`),d.writeln(`  ${d.wrapInColor("theme save",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                       \u{1f4be} Save current settings`),d.writeln(`  ${d.wrapInColor("theme reset",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Cyan)}                      \u{1f504} Reset to default`),d.writeln(),d.writeln("\u{1f4dd} Examples:"),d.writeln(`  theme apply dracula              ${d.wrapInColor("# Apply the Dracula theme",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),d.writeln(`  theme set background #1a1a2e     ${d.wrapInColor("# Change background color",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),d.writeln(`  theme set foreground #e0e0e0     ${d.wrapInColor("# Change text color",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Green)}`),d.writeln(),d.writeln(`\u2699\ufe0f  Available options: ${d.wrapInColor(this.themeOptions.join(", ")??"",_qodalis_cli_core__WEBPACK_IMPORTED_MODULE_9__.tT.Blue)}`)}static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})();const themeOptions={background:"",foreground:"",black:"",blue:"",brightBlack:"",brightBlue:"",brightCyan:"",brightGreen:"",brightMagenta:"",brightRed:"",brightWhite:"",brightYellow:"",cyan:"",green:"",magenta:"",red:"",white:"",yellow:"",cursor:"",cursorAccent:"",selectionBackground:"",selectionForeground:"",selectionInactiveBackground:""},resolveCliProviders=()=>[ScriptLoaderService,CliCanViewService,CliStateStoreManager,{useClass:CliUserSessionService,provide:ICliUserSessionService_TOKEN},{useClass:CliUsersStoreService,provide:ICliUsersStoreService_TOKEN},{useClass:CliDefaultPingServerService,provide:ICliPingServerService_TOKEN},{useClass:CliLogger,provide:CliLogger_TOKEN},{useClass:CliCommandProcessorRegistry,provide:CliProcessorsRegistry_TOKEN},{useClass:CliServiceProvider,provide:CliServiceProvider_TOKEN},...systemProviders,...usersProviders,resolveCommandProcessorProvider(CliThemeCommandProcessor),resolveCommandProcessorProvider(CliPingCommandProcessor)];let CliModule=(()=>{class fe{static{this.\u0275fac=function(d){return new(d||fe)}}static{this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_4__.$C({type:fe})}static{this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_4__.G2t({providers:[resolveCliProviders(),{provide:_angular_router__WEBPACK_IMPORTED_MODULE_18__.nX,useValue:{}}],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.MD]})}}return fe})()},7983:(fe,$,a)=>{"use strict";a.d($,{C$:()=>D,E9:()=>_,IB:()=>y,PK:()=>G,Q6:()=>ne,Zh:()=>_e,cb:()=>k,co:()=>Z,dt:()=>E,eL:()=>te,ep:()=>A,kh:()=>Te,m$:()=>ve,tE:()=>g,tT:()=>p,uM:()=>j,zJ:()=>W});var d=a(467),p=function(ue){return ue.Black="\x1b[30m",ue.Red="\x1b[31m",ue.Green="\x1b[32m",ue.Yellow="\x1b[33m",ue.Blue="\x1b[34m",ue.Magenta="\x1b[35m",ue.Cyan="\x1b[36m",ue.White="\x1b[37m",ue.Reset="\x1b[0m",ue}(p||{}),w=function(ue){return ue.Black="\x1b[40m",ue.Red="\x1b[41m",ue.Green="\x1b[42m",ue.Yellow="\x1b[43m",ue.Blue="\x1b[44m",ue.Magenta="\x1b[45m",ue.Cyan="\x1b[46m",ue.White="\x1b[47m",ue}(w||{}),_=function(ue){return ue.CheckIcon="\u2714",ue.CrossIcon="\u2718",ue.InfoIcon="\u2139",ue.WarningIcon="\u26a0",ue.QuestionMark="?",ue.Exclamation="\u2757",ue.Ellipsis="\u2026",ue.Dot="\u2022",ue.Bullet="\u2023",ue.ArrowRight="\u2192",ue.ArrowLeft="\u2190",ue.ArrowUp="\u2191",ue.ArrowDown="\u2193",ue.ArrowRightFilled="\u25b6",ue.ArrowLeftFilled="\u25c0",ue.ArrowUpFilled="\u25b2",ue.ArrowDownFilled="\u25bc",ue.DoubleArrowRight="\xbb",ue.DoubleArrowLeft="\xab",ue.Star="\u2605",ue.StarEmpty="\u2606",ue.Plus="+",ue.Minus="-",ue.Progress="\u23f3",ue.Success="\u2705",ue.Failure="\u274c",ue.Clock="\u23f0",ue.Timer="\u23f1",ue.Alarm="\u{1f514}",ue.Calendar="\u{1f4c5}",ue.Folder="\u{1f4c1}",ue.FolderOpen="\u{1f4c2}",ue.File="\u{1f4c4}",ue.Archive="\u{1f5c3}",ue.Link="\u{1f517}",ue.Chain="\u26d3",ue.Bookmark="\u{1f516}",ue.Edit="\u270f",ue.Trash="\u{1f5d1}",ue.Add="\u2795",ue.Remove="\u2796",ue.Reload="\u{1f504}",ue.Save="\u{1f4be}",ue.Undo="\u21a9",ue.Redo="\u21aa",ue.Play="\u25b6",ue.Pause="\u23f8",ue.Stop="\u23f9",ue.Cancel="\u274e",ue.User="\u{1f464}",ue.Group="\u{1f465}",ue.Lock="\u{1f512}",ue.Unlock="\u{1f513}",ue.Help="\u2753",ue.Key="\u{1f511}",ue.Shield="\u{1f6e1}",ue.Gear="\u2699",ue.Settings="\u2699\ufe0f",ue.Theme="\u{1f3a8}",ue.Light="\u{1f4a1}",ue.Bug="\u{1f41e}",ue.Wrench="\u{1f527}",ue.Hammer="\u{1f528}",ue.Terminal="\u{1f4bb}",ue.Database="\u{1f5c4}",ue.Server="\u{1f5a5}",ue.Cloud="\u2601",ue.Network="\u{1f310}",ue.Monitor="\u{1f5a5}",ue.Printer="\u{1f5a8}",ue.USB="\u{1f50c}",ue.Speaker="\u{1f50a}",ue.Microphone="\u{1f399}",ue.Camera="\u{1f4f7}",ue.Video="\u{1f3a5}",ue.Music="\u{1f3b5}",ue.Phone="\u{1f4de}",ue.Package="\u{1f4e6}",ue.Plugin="\u{1f50c}",ue.Extension="\u{1f9e9}",ue.Module="\u{1f4e6}",ue.Evaluate="\u{1f50d}",ue.Variable="\u{1f527}",ue.Script="\u{1f4dc}",ue.Code="\u{1f4be}",ue.Logs="\u{1f4dc}",ue.Power="\u23fb",ue.Heart="\u2764",ue.Flame="\u{1f525}",ue.Growth="\u{1f4c8}",ue.Decline="\u{1f4c9}",ue.WarningFilled="\u26a0\ufe0f",ue.Sun="\u2600",ue.Moon="\u{1f319}",ue.Rain="\u{1f327}",ue.Snow="\u2744",ue.Lightning="\u26a1",ue.Tree="\u{1f332}",ue.Smile="\u{1f60a}",ue.Sad="\u{1f622}",ue.Angry="\u{1f621}",ue.Clap="\u{1f44f}",ue.ThumbsUp="\u{1f44d}",ue.ThumbsDown="\u{1f44e}",ue.Rocket="\u{1f680}",ue.Globe="\u{1f30d}",ue.Medal="\u{1f3c5}",ue.Trophy="\u{1f3c6}",ue.Flag="\u{1f6a9}",ue.StarFilled="\u2b50",ue.StarOutline="\u2729",ue.Fireworks="\u{1f386}",ue.Balloon="\u{1f388}",ue.Gift="\u{1f381}",ue}(_||{}),g=function(ue){return ue[ue.None=0]="None",ue[ue.DEBUG=1]="DEBUG",ue[ue.LOG=2]="LOG",ue[ue.INFO=3]="INFO",ue[ue.WARN=4]="WARN",ue[ue.ERROR=5]="ERROR",ue}(g||{});const b={CliForegroundColor:p,CliBackgroundColor:w,CliIcon:_,CliLogLevel:g},A={name:"Nicolae Lupei",email:"nicolae.lupei@qodalis.com"},T={DefaultLibraryAuthor:A},k=ue=>new Promise($e=>setTimeout($e,ue)),j=(ue,$e)=>{const He=Math.max(1,Math.ceil($e/ue.cols));for(let Be=0;Be<He;Be++)ue.write("\x1b[2K"),Be<He-1&&ue.write("\x1b[A");ue.write("\r")};function D(ue,$e){return function F(ue,$e){const He=ue.split(".").map(Number),Be=$e.split(".").map(Number),Me=Math.max(He.length,Be.length);for(let Y=0;Y<Me;Y++){const z=He[Y]||0,V=Be[Y]||0;if(z<V)return-1;if(z>V)return 1}return 0}(ue,$e)>=0}const E=(ue,$e)=>{if(void 0!==$e[ue.name])return $e[ue.name];const He=ue.aliases?.find(Be=>void 0!==$e[Be]);return He?$e[He]:void 0},y=ue=>{const $e=JSON.stringify(ue,null,2);return M($e.split("\n").join("\r\n"))},M=ue=>ue.replace(/"([^"]+)":/g,'\x1b[33m"$1":\x1b[0m').replace(/: "([^"]*)"/g,': \x1b[32m"$1"\x1b[0m').replace(/: (\d+)/g,": \x1b[34m$1\x1b[0m").replace(/: (true|false)/g,": \x1b[35m$1\x1b[0m").replace(/: (null)/g,": \x1b[36m$1\x1b[0m"),W=ue=>{const $e=new URLSearchParams;for(const He in ue)if(ue.hasOwnProperty(He)){const Be=ue[He];Array.isArray(Be)?Be.forEach(Me=>$e.append(He,Me.toString())):null!=Be&&$e.append(He,Be.toString())}return $e.toString()},G=(ue,$e,He=w.Yellow)=>ue.replace($e,Be=>`${He}${Be}${p.Reset}`),Z=(ue,$e)=>{const He=ue.indexOf($e);if(-1!==He)return ue.slice(He+$e.length).trim()},ne=(ue,$e)=>{if(!ue)return ue;const He=ue.match(/^(\s*)(\S+)(.*)$/);if(!He)return ue;const[,Be,Me,Y]=He;return`${Be}${$e(Me)}${Y}`},H={getParameterValue:E,formatJson:y,colorizeJson:M,toQueryString:W,highlightTextWithBg:G,getRightOfWord:Z,colorFirstWord:ne,ObjectDescriber:class U{static describe($e,He){const{filter:Be}=He||{},Me=[],z=Object.keys($e).filter(V=>"function"==typeof $e[V]);for(const V of z){const re=$e[V],me=this.getFunctionArguments(re);if(Be&&!Be({funcName:V,func:re,args:me}))continue;const pe=me.length>1,ce=this.supportsDynamicArgs(re);if(0===me.length&&!ce||me.length>0&&me.some(ae=>"function"===ae||"func"===ae))continue;const Ce={command:V,description:`A command that executes the function ${V} with the provided arguments`,allowUnlistedCommands:!0,valueRequired:!0,parameters:[{name:"debug",description:"Debug",type:"boolean",required:!1}],processCommand:function(){var ae=(0,d.A)(function*(X,Ee){const Ae=X.args.debug;Ae&&(Ee.writer.writeln("Executing command: "+V),Ee.writer.writeln("Arguments: "+JSON.stringify(X.args)),Ee.writer.writeln("Function: "+re.toString()));const je=[];if(pe)for(const ut of me.slice(1))je.push(X.args[ut]);ce&&X.value&&je.push(...X.value.split(X.args.delimiter||",")),Ae&&Ee.writer.writeln("Arguments after processing: "+JSON.stringify(je));const Ke=ce&&0===me.length?re(...je):re(X.value,...je);Ee.writer.write(Ee.writer.wrapInColor("Result: ",p.Yellow)),null===Ke?Ee.writer.writeln("null"):void 0===Ke?Ee.writer.writeln("undefined"):"boolean"==typeof Ke||"number"==typeof Ke?Ee.writer.writeln(Ke.toString()):Array.isArray(Ke)?Ee.writer.writeJson(Ke):"string"==typeof Ke?Ee.writer.writeln(Ke):"object"==typeof Ke?Ee.writer.writeJson(Ke):Ee.writer.writeln(Ke?.toString()),Ee.process.output(Ke?.toString())});return function(Ee,Ae){return ae.apply(this,arguments)}}(),writeDescription:ae=>{ae.writer.writeln(V)}};ce&&Ce.parameters?.push({name:"delimiter",description:"Delimiter",type:"string",required:!1}),pe&&Ce.parameters?.push(...me.slice(1).map(ae=>({name:ae,description:ae,type:"string",required:!1}))),Me.push(Ce)}return Me}static supportsDynamicArgs($e){return $e.toString().includes("arguments")}static getFunctionArguments($e){const Be=$e.toString().match(/\(([^)]*)\)/);return Be?Be[1].split(",").map(Me=>Me.trim()).filter(Me=>""!==Me):[]}},delay:k},te=({context:ue,handlers:$e})=>{var He;window.cliCore={onUmdModuleBoot:$e||[],bootUmdModule:(He=(0,d.A)(function*(Be){ue.logger.log("Booting UMD module",Be.name),window[Be.name]=Be;for(const Me of $e)yield Me(Be)}),function(Me){return He.apply(this,arguments)}),...T,...H,...b},window.ngCore={Injectable:()=>{}}};class ve{constructor($e){this.executor=$e,this.hasCancelled=!1,this.abortController=new AbortController}execute(){return new Promise(($e,He)=>{this.abortController.signal.onabort=()=>{He(new Error("Promise cancelled"))},this.executor(Be=>{this.hasCancelled||$e(Be)},Be=>{this.hasCancelled||He(Be)})})}cancel(){this.hasCancelled=!0,this.abortController.abort()}}const Te={default:{background:"#0c0c0c",foreground:"#cccccc",green:"#16c60c",blue:"#3b78ff",yellow:"#FFA500"},dracula:{background:"#282A36",foreground:"#F8F8F2",cursor:"#50FA7B",black:"#21222C",red:"#FF5555",green:"#50FA7B",yellow:"#F1FA8C",blue:"#BD93F9",magenta:"#FF79C6",cyan:"#8BE9FD",white:"#F8F8F2",brightBlack:"#6272A4",brightRed:"#FF6E6E",brightGreen:"#69FF94",brightYellow:"#FFFFA5",brightBlue:"#D6ACFF",brightMagenta:"#FF92D0",brightCyan:"#A4FFFF",brightWhite:"#FFFFFF"},monokai:{background:"#272822",foreground:"#F8F8F2",cursor:"#F8F8F0",black:"#272822",red:"#F92672",green:"#A6E22E",yellow:"#F4BF75",blue:"#66D9EF",magenta:"#AE81FF",cyan:"#A1EFE4",white:"#F8F8F2",brightBlack:"#75715E",brightRed:"#F92672",brightGreen:"#A6E22E",brightYellow:"#F4BF75",brightBlue:"#66D9EF",brightMagenta:"#AE81FF",brightCyan:"#A1EFE4",brightWhite:"#F9F8F5"},solarizedDark:{background:"#002B36",foreground:"#839496",cursor:"#93A1A1",black:"#073642",red:"#DC322F",green:"#859900",yellow:"#B58900",blue:"#268BD2",magenta:"#D33682",cyan:"#2AA198",white:"#EEE8D5",brightBlack:"#002B36",brightRed:"#CB4B16",brightGreen:"#586E75",brightYellow:"#657B83",brightBlue:"#839496",brightMagenta:"#6C71C4",brightCyan:"#93A1A1",brightWhite:"#FDF6E3"},solarizedLight:{background:"#FDF6E3",foreground:"#657B83",cursor:"#586E75",black:"#073642",red:"#DC322F",green:"#859900",yellow:"#B58900",blue:"#268BD2",magenta:"#D33682",cyan:"#2AA198",white:"#EEE8D5",brightBlack:"#002B36",brightRed:"#CB4B16",brightGreen:"#586E75",brightYellow:"#657B83",brightBlue:"#839496",brightMagenta:"#6C71C4",brightCyan:"#93A1A1",brightWhite:"#FDF6E3"},gruvboxDark:{background:"#282828",foreground:"#EBDBB2",cursor:"#EBDBB2",black:"#282828",red:"#CC241D",green:"#98971A",yellow:"#D79921",blue:"#458588",magenta:"#B16286",cyan:"#689D6A",white:"#A89984",brightBlack:"#928374",brightRed:"#FB4934",brightGreen:"#B8BB26",brightYellow:"#FABD2F",brightBlue:"#83A598",brightMagenta:"#D3869B",brightCyan:"#8EC07C",brightWhite:"#EBDBB2"},gruvboxLight:{background:"#FBF1C7",foreground:"#3C3836",cursor:"#3C3836",black:"#FBF1C7",red:"#9D0006",green:"#79740E",yellow:"#B57614",blue:"#076678",magenta:"#8F3F71",cyan:"#427B58",white:"#3C3836",brightBlack:"#D5C4A1",brightRed:"#AF3A03",brightGreen:"#B8BB26",brightYellow:"#FABD2F",brightBlue:"#83A598",brightMagenta:"#D3869B",brightCyan:"#8EC07C",brightWhite:"#EBDBB2"},nord:{background:"#2E3440",foreground:"#D8DEE9",cursor:"#88C0D0",black:"#3B4252",red:"#BF616A",green:"#A3BE8C",yellow:"#EBCB8B",blue:"#81A1C1",magenta:"#B48EAD",cyan:"#88C0D0",white:"#E5E9F0",brightBlack:"#4C566A",brightRed:"#BF616A",brightGreen:"#A3BE8C",brightYellow:"#EBCB8B",brightBlue:"#81A1C1",brightMagenta:"#B48EAD",brightCyan:"#8FBCBB",brightWhite:"#ECEFF4"},oneDark:{background:"#282C34",foreground:"#ABB2BF",cursor:"#528BFF",black:"#282C34",red:"#E06C75",green:"#98C379",yellow:"#E5C07B",blue:"#61AFEF",magenta:"#C678DD",cyan:"#56B6C2",white:"#ABB2BF",brightBlack:"#5C6370",brightRed:"#E06C75",brightGreen:"#98C379",brightYellow:"#E5C07B",brightBlue:"#61AFEF",brightMagenta:"#C678DD",brightCyan:"#56B6C2",brightWhite:"#FFFFFF"},material:{background:"#263238",foreground:"#ECEFF1",cursor:"#FFCC00",black:"#263238",red:"#F07178",green:"#C3E88D",yellow:"#FFCB6B",blue:"#82AAFF",magenta:"#C792EA",cyan:"#89DDFF",white:"#EEFFFF",brightBlack:"#546E7A",brightRed:"#F07178",brightGreen:"#C3E88D",brightYellow:"#FFCB6B",brightBlue:"#82AAFF",brightMagenta:"#C792EA",brightCyan:"#89DDFF",brightWhite:"#FFFFFF"},yellow:{background:"#FFFACD",foreground:"#000000",cursor:"#FFA500",selectionBackground:"#FFD700",black:"#3B3A32",red:"#D32F2F",green:"#388E3C",yellow:"#FBC02D",blue:"#1976D2",magenta:"#8E24AA",cyan:"#0097A7",white:"#FFFFFF",brightBlack:"#616161",brightRed:"#FF5252",brightGreen:"#69F0AE",brightYellow:"#FFEB3B",brightBlue:"#64B5F6",brightMagenta:"#BA68C8",brightCyan:"#4DD0E1",brightWhite:"#FAFAFA"}},_e="0.0.16"},177:(fe,$,a)=>{"use strict";a.d($,{AJ:()=>Gn,MD:()=>Io,N0:()=>ao,QT:()=>w,Sq:()=>ll,VF:()=>g,Vy:()=>_r,ZD:()=>_,_b:()=>Ta,aZ:()=>W,bT:()=>Go,hb:()=>D,qQ:()=>b});var d=a(6276);let p=null;function w(){return p}function _(R){p||(p=R)}class g{}const b=new d.nKC("DocumentToken");let A=(()=>{class R{historyGo(N){throw new Error("Not implemented")}static{this.\u0275fac=function(ie){return new(ie||R)}}static{this.\u0275prov=d.jDH({token:R,factory:function(){return(0,d.WQX)(k)},providedIn:"platform"})}}return R})(),k=(()=>{class R extends A{constructor(){super(),this._doc=(0,d.WQX)(b),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return w().getBaseHref(this._doc)}onPopState(N){const ie=w().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",N,!1),()=>ie.removeEventListener("popstate",N)}onHashChange(N){const ie=w().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",N,!1),()=>ie.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,ie,Ie){this._history.pushState(N,ie,Ie)}replaceState(N,ie,Ie){this._history.replaceState(N,ie,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}static{this.\u0275fac=function(ie){return new(ie||R)}}static{this.\u0275prov=d.jDH({token:R,factory:function(){return new R},providedIn:"platform"})}}return R})();function U(R,se){if(0==R.length)return se;if(0==se.length)return R;let N=0;return R.endsWith("/")&&N++,se.startsWith("/")&&N++,2==N?R+se.substring(1):1==N?R+se:R+"/"+se}function j(R){const se=R.match(/#|\?|$/),N=se&&se.index||R.length;return R.slice(0,N-("/"===R[N-1]?1:0))+R.slice(N)}function F(R){return R&&"?"!==R[0]?"?"+R:R}let D=(()=>{class R{historyGo(N){throw new Error("Not implemented")}static{this.\u0275fac=function(ie){return new(ie||R)}}static{this.\u0275prov=d.jDH({token:R,factory:function(){return(0,d.WQX)(y)},providedIn:"root"})}}return R})();const E=new d.nKC("appBaseHref");let y=(()=>{class R extends D{constructor(N,ie){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=ie??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(b).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return U(this._baseHref,N)}path(N=!1){const ie=this._platformLocation.pathname+F(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&N?`${ie}${Ie}`:ie}pushState(N,ie,Ie,Qe){const nt=this.prepareExternalUrl(Ie+F(Qe));this._platformLocation.pushState(N,ie,nt)}replaceState(N,ie,Ie,Qe){const nt=this.prepareExternalUrl(Ie+F(Qe));this._platformLocation.replaceState(N,ie,nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static{this.\u0275fac=function(ie){return new(ie||R)(d.KVO(A),d.KVO(E,8))}}static{this.\u0275prov=d.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})(),W=(()=>{class R{constructor(N){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const ie=this._locationStrategy.getBaseHref();this._basePath=function H(R){if(new RegExp("^(https?:)?//").test(R)){const[,N]=R.split(/\/\/[^\/]+/);return N}return R}(j(ne(ie))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,ie=""){return this.path()==this.normalize(N+F(ie))}normalize(N){return R.stripTrailingSlash(function Z(R,se){if(!R||!se.startsWith(R))return se;const N=se.substring(R.length);return""===N||["/",";","?","#"].includes(N[0])?N:se}(this._basePath,ne(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,ie="",Ie=null){this._locationStrategy.pushState(Ie,"",N,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+F(ie)),Ie)}replaceState(N,ie="",Ie=null){this._locationStrategy.replaceState(Ie,"",N,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+F(ie)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)})),()=>{const ie=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(ie,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",ie){this._urlChangeListeners.forEach(Ie=>Ie(N,ie))}subscribe(N,ie,Ie){return this._subject.subscribe({next:N,error:ie,complete:Ie})}static{this.normalizeQueryParams=F}static{this.joinWithSlash=U}static{this.stripTrailingSlash=j}static{this.\u0275fac=function(ie){return new(ie||R)(d.KVO(D))}}static{this.\u0275prov=d.jDH({token:R,factory:function(){return function G(){return new W((0,d.KVO)(D))}()},providedIn:"root"})}}return R})();function ne(R){return R.replace(/\/index.html$/,"")}function Ta(R,se){se=encodeURIComponent(se);for(const N of R.split(";")){const ie=N.indexOf("="),[Ie,Qe]=-1==ie?[N,""]:[N.slice(0,ie),N.slice(ie+1)];if(Ie.trim()===se)return decodeURIComponent(Qe)}return null}class ro{constructor(se,N,ie,Ie){this.$implicit=se,this.ngForOf=N,this.index=ie,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ll=(()=>{class R{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,ie,Ie){this._viewContainer=N,this._template=ie,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const ie=this._viewContainer;N.forEachOperation((Ie,Qe,nt)=>{if(null==Ie.previousIndex)ie.createEmbeddedView(this._template,new ro(Ie.item,this._ngForOf,-1,-1),null===nt?void 0:nt);else if(null==nt)ie.remove(null===Qe?void 0:Qe);else if(null!==Qe){const Lt=ie.get(Qe);ie.move(Lt,nt),bi(Lt,Ie)}});for(let Ie=0,Qe=ie.length;Ie<Qe;Ie++){const Lt=ie.get(Ie).context;Lt.index=Ie,Lt.count=Qe,Lt.ngForOf=this._ngForOf}N.forEachIdentityChange(Ie=>{bi(ie.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(N,ie){return!0}static{this.\u0275fac=function(ie){return new(ie||R)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))}}static{this.\u0275dir=d.FsC({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return R})();function bi(R,se){R.context.$implicit=se.item}let Go=(()=>{class R{constructor(N,ie){this._viewContainer=N,this._context=new Bs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Bi("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Bi("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,ie){return!0}static{this.\u0275fac=function(ie){return new(ie||R)(d.rXU(d.c1b),d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return R})();class Bs{constructor(){this.$implicit=null,this.ngIf=null}}function Bi(R,se){if(se&&!se.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,d.Tbb)(se)}'.`)}let Io=(()=>{class R{static{this.\u0275fac=function(ie){return new(ie||R)}}static{this.\u0275mod=d.$C({type:R})}static{this.\u0275inj=d.G2t({})}}return R})();const Gn="browser",St="server";function _r(R){return R===St}class ao{}},6276:(fe,$,a)=>{"use strict";a.d($,{bc$:()=>rg,sZ2:()=>o_,Hbi:()=>IS,o8S:()=>Ih,BIS:()=>ig,gRc:()=>_S,Ql9:()=>x1,Ocv:()=>A1,Z63:()=>ds,aKT:()=>ad,uvJ:()=>jo,zcH:()=>kl,bkB:()=>Ea,nKC:()=>pn,zZn:()=>Ko,_q3:()=>jm,MKu:()=>Km,xe9:()=>vp,Co$:()=>S0,Vns:()=>_d,SKi:()=>wi,Agw:()=>xl,PLl:()=>Ps,sFG:()=>pg,_9s:()=>p_,czy:()=>va,C4Q:()=>$_,NYb:()=>nS,giA:()=>IC,RxE:()=>Df,c1b:()=>gp,gXe:()=>si,L39:()=>FS,Ol2:()=>T0,w6W:()=>_b,oH4:()=>LC,WQX:()=>xn,QuC:()=>oo,fpN:()=>TS,O8t:()=>Vn,H3F:()=>yC,H8p:()=>Ho,$K3:()=>EC,KH2:()=>bh,wOt:()=>He,WHO:()=>MC,e01:()=>TC,H5H:()=>dm,mq5:()=>Xw,JZv:()=>nr,LfX:()=>fn,plB:()=>Im,jNT:()=>tm,zjR:()=>Zv,TL$:()=>Pp,Tbb:()=>ne,GFd:()=>Lv,OA$:()=>fi,aNF:()=>I0,R7$:()=>qf,BMQ:()=>Vg,AVh:()=>lm,wni:()=>eC,VBU:()=>Wl,FsC:()=>Zi,jDH:()=>vt,G2t:()=>Nt,$C:()=>Ws,EJ8:()=>ps,rXU:()=>cu,nrm:()=>em,bVm:()=>op,qex:()=>sp,k0s:()=>ip,j41:()=>rp,RV6:()=>Jv,xGo:()=>Td,KVO:()=>Qn,kS0:()=>Ou,bIt:()=>nm,lsd:()=>tC,joV:()=>vu,qSk:()=>mu,XpG:()=>iw,SdG:()=>ow,NAR:()=>sw,Y8G:()=>Jg,eq3:()=>k0,mGM:()=>J0,Njj:()=>pu,EBC:()=>Lf,eBV:()=>fu,n$t:()=>uf,Aen:()=>sl,xc7:()=>am,DNE:()=>Vv,EFF:()=>Pw,JRh:()=>um,SpI:()=>cp,GBs:()=>Z0});var d=a(1413),p=a(8359),w=a(1985),_=a(6365),g=a(8750),b=a(983),A=a(3794),T=a(6648),U=a(4412),j=a(7673),F=a(7707),D=a(9974);function E(e={}){const{connector:t=(()=>new d.B),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:l=!0}=e;return h=>{let v,I,x,Q=0,le=!1,be=!1;const Ue=()=>{I?.unsubscribe(),I=void 0},Ge=()=>{Ue(),v=x=void 0,le=be=!1},at=()=>{const pt=v;Ge(),pt?.unsubscribe()};return(0,D.N)((pt,Tt)=>{Q++,!be&&!le&&Ue();const jt=x=x??t();Tt.add(()=>{Q--,0===Q&&!be&&!le&&(I=y(at,l))}),jt.subscribe(Tt),!v&&Q>0&&(v=new F.Ms({next:_t=>jt.next(_t),error:_t=>{be=!0,Ue(),I=y(Ge,n,_t),jt.error(_t)},complete:()=>{le=!0,Ue(),I=y(Ge,r),jt.complete()}}),(0,g.Tg)(pt).subscribe(v))})(h)}}function y(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new F.Ms({next:()=>{r.unsubscribe(),e()}});return(0,g.Tg)(t(...n)).subscribe(r)}var M=a(5558),W=a(3294);function G(e){for(let t in e)if(e[t]===G)return t;throw Error("Could not find renamed property on target object.")}function ne(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ne).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function H(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const te=G({__forward_ref__:G});function De(e){return e.__forward_ref__=De,e.toString=function(){return ne(this())},e}function ve(e){return Te(e)?e():e}function Te(e){return"function"==typeof e&&e.hasOwnProperty(te)&&e.__forward_ref__===De}function _e(e){return e&&!!e.\u0275providers}const $e="https://g.co/ng/security#xss";class He extends Error{constructor(t,n){super(function Be(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Me(e){return"string"==typeof e?e:null==e?"":String(e)}function me(e,t){throw new He(-201,!1)}function Oe(e,t){null==e&&function xe(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function vt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nt(e){return{providers:e.providers||[],imports:e.imports||[]}}function kt(e){return $t(e,It)||$t(e,Ht)}function fn(e){return null!==kt(e)}function $t(e,t){return e.hasOwnProperty(t)?e[t]:null}function an(e){return e&&(e.hasOwnProperty(ln)||e.hasOwnProperty(bt))?e[ln]:null}const It=G({\u0275prov:G}),ln=G({\u0275inj:G}),Ht=G({ngInjectableDef:G}),bt=G({ngInjectorDef:G});var xt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(xt||{});let Jt;function Ut(e){const t=Jt;return Jt=e,t}function Rr(e,t,n){const r=kt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&xt.Optional?null:void 0!==t?t:void me(ne(e))}const nr=globalThis;class pn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=vt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ct={},Mt="__NG_DI_FLAG__",Bt="ngTempTokenPath",Ln=/\n/gm,Kr="__source";let qr;function xi(e){const t=qr;return qr=e,t}function ki(e,t=xt.Default){if(void 0===qr)throw new He(-203,!1);return null===qr?Rr(e,void 0,t):qr.get(e,t&xt.Optional?null:void 0,t)}function Qn(e,t=xt.Default){return(function Yt(){return Jt}()||ki)(ve(e),t)}function xn(e,t=xt.Default){return Qn(e,Do(t))}function Do(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function to(e){const t=[];for(let n=0;n<e.length;n++){const r=ve(e[n]);if(Array.isArray(r)){if(0===r.length)throw new He(900,!1);let l,h=xt.Default;for(let v=0;v<r.length;v++){const I=r[v],x=Qr(I);"number"==typeof x?-1===x?l=I.token:h|=x:l=I}t.push(Qn(l,h))}else t.push(Qn(r))}return t}function Ei(e,t){return e[Mt]=t,e.prototype[Mt]=t,e}function Qr(e){return e[Mt]}function Di(e){return{toString:e}.toString()}var Ta=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ta||{}),si=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(si||{});const _i={},Zt=[],no=G({\u0275cmp:G}),Vo=G({\u0275dir:G}),ro=G({\u0275pipe:G}),ll=G({\u0275mod:G}),bi=G({\u0275fac:G}),zo=G({__NG_ELEMENT_ID__:G}),Go=G({__NG_ENV_ID__:G});function Bs(e,t,n){let r=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const h=t.length;if(l+h===r||e.charCodeAt(l+h)<=32)return l}n=l+1}}function Bi(e,t,n){let r=0;for(;r<n.length;){const l=n[r];if("number"==typeof l){if(0!==l)break;r++;const h=n[r++],v=n[r++],I=n[r++];e.setAttribute(t,v,I,h)}else{const h=l,v=n[++r];Ns(h)?e.setProperty(t,h,v):e.setAttribute(t,h,v),r++}}return r}function oi(e){return 3===e||4===e||6===e}function Ns(e){return 64===e.charCodeAt(0)}function $r(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const l=t[r];"number"==typeof l?n=l:0===n||Ni(e,n,l,null,-1===n||2===n?t[++r]:null)}}return e}function Ni(e,t,n,r,l){let h=0,v=e.length;if(-1===t)v=-1;else for(;h<e.length;){const I=e[h++];if("number"==typeof I){if(I===t){v=-1;break}if(I>t){v=h-1;break}}}for(;h<e.length;){const I=e[h];if("number"==typeof I)break;if(I===n){if(null===r)return void(null!==l&&(e[h+1]=l));if(r===e[h+1])return void(e[h+2]=l)}h++,null!==r&&h++,null!==l&&h++}-1!==v&&(e.splice(v,0,t),h=v+1),e.splice(h++,0,n),null!==r&&e.splice(h++,0,r),null!==l&&e.splice(h++,0,l)}const io="ng-template";function Us(e,t,n){let r=0,l=!0;for(;r<e.length;){let h=e[r++];if("string"==typeof h&&l){const v=e[r++];if(n&&"class"===h&&-1!==Bs(v.toLowerCase(),t,0))return!0}else{if(1===h){for(;r<e.length&&"string"==typeof(h=e[r++]);)if(h.toLowerCase()===t)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Ia(e){return 4===e.type&&e.value!==io}function Yo(e,t,n){return t===(4!==e.type||n?e.value:io)}function $l(e,t,n){let r=4;const l=e.attrs||[],h=function cl(e){for(let t=0;t<e.length;t++)if(oi(e[t]))return t;return e.length}(l);let v=!1;for(let I=0;I<t.length;I++){const x=t[I];if("number"!=typeof x){if(!v)if(4&r){if(r=2|1&r,""!==x&&!Yo(e,x,n)||""===x&&1===t.length){if(Si(r))return!1;v=!0}}else{const Q=8&r?x:t[++I];if(8&r&&null!==e.attrs){if(!Us(e.attrs,Q,n)){if(Si(r))return!1;v=!0}continue}const be=ai(8&r?"class":x,l,Ia(e),n);if(-1===be){if(Si(r))return!1;v=!0;continue}if(""!==Q){let Ue;Ue=be>h?"":l[be+1].toLowerCase();const Ge=8&r?Ue:null;if(Ge&&-1!==Bs(Ge,Q,0)||2&r&&Q!==Ue){if(Si(r))return!1;v=!0}}}}else{if(!v&&!Si(r)&&!Si(x))return!1;if(v&&Si(x))continue;v=!1,r=x|1&r}}return Si(r)||v}function Si(e){return 0==(1&e)}function ai(e,t,n,r){if(null===t)return-1;let l=0;if(r||!n){let h=!1;for(;l<t.length;){const v=t[l];if(v===e)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let I=t[++l];for(;"string"==typeof I;)I=t[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function ul(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Xo(e,t,n=!1){for(let r=0;r<t.length;r++)if($l(e,t[r],n))return!0;return!1}function Fs(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let l=0;l<e.length;l++)if(e[l]!==r[l])continue e;return!0}}return!1}function So(e,t){return e?":not("+t.trim()+")":t}function Pa(e){let t=e[0],n=1,r=2,l="",h=!1;for(;n<e.length;){let v=e[n];if("string"==typeof v)if(2&r){const I=e[++n];l+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&r?l+="."+v:4&r&&(l+=" "+v);else""!==l&&!Si(v)&&(t+=So(h,l),l=""),r=v,h=h||!Si(r);n++}return""!==l&&(t+=So(h,l)),t}function Wl(e){return Di(()=>{const t=$n(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ta.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||si.Emulated,styles:e.styles||Zt,_:null,schemas:e.schemas||null,tView:null,id:""};Wn(n);const r=e.dependencies;return n.directiveDefs=To(r,!1),n.pipeDefs=To(r,!0),n.id=function Io(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of n)t=Math.imul(31,t)+l.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Mo(e){return En(e)||wr(e)}function Oa(e){return null!==e}function Ws(e){return Di(()=>({type:e.type,bootstrap:e.bootstrap||Zt,declarations:e.declarations||Zt,imports:e.imports||Zt,exports:e.exports||Zt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function li(e,t){if(null==e)return _i;const n={};for(const r in e)if(e.hasOwnProperty(r)){let l=e[r],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),n[l]=r,t&&(t[l]=h)}return n}function Zi(e){return Di(()=>{const t=$n(e);return Wn(t),t})}function ps(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function En(e){return e[no]||null}function wr(e){return e[Vo]||null}function hr(e){return e[ro]||null}function oo(e){const t=En(e)||wr(e)||hr(e);return null!==t&&t.standalone}function Vr(e,t){const n=e[ll]||null;if(!n&&!0===t)throw new Error(`Type ${ne(e)} does not have '\u0275mod' property.`);return n}function $n(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||_i,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Zt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:li(e.inputs,t),outputs:li(e.outputs)}}function Wn(e){e.features?.forEach(t=>t(e))}function To(e,t){if(!e)return null;const n=t?hr:Mo;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Oa)}const Gn=0,St=1,cn=2,Kn=3,Mi=4,_r=5,gr=6,es=7,or=8,Ti=9,Lr=10,Xt=11,Po=12,ao=13,Hs=14,tr=15,Jo=16,xr=17,Ui=18,zr=19,Gr=20,Fi=21,Cr=22,$i=23,ts=24,Ot=25,ns=1,jl=2,Yr=7,js=9,yr=11;function qn(e){return Array.isArray(e)&&"object"==typeof e[ns]}function Ir(e){return Array.isArray(e)&&!0===e[ns]}function Zo(e){return 0!=(4&e.flags)}function is(e){return e.componentOffset>-1}function Wi(e){return 1==(1&e.flags)}function kr(e){return!!e.template}function lo(e){return 0!=(512&e[cn])}function ss(e,t){return e.hasOwnProperty(bi)?e[bi]:null}let Jn=null,Ua=!1;function ze(e){const t=Jn;return Jn=e,t}const Er={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ml(e){if(!Pn(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Rt(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Se(e){e.dirty=!0,function Vl(e){if(void 0===e.liveConsumerNode)return;const t=Ua;Ua=!0;try{for(const n of e.liveConsumerNode)n.dirty||Se(n)}finally{Ua=t}}(e),e.consumerMarkedDirty?.(e)}function st(e){return e&&(e.nextProducerIndex=0),ze(e)}function tt(e,t){if(ze(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Pn(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)lr(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Rt(e){qs(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ml(n),r!==n.version))return!0}return!1}function en(e){if(qs(e),Pn(e))for(let t=0;t<e.producerNode.length;t++)lr(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function lr(e,t){if(function vs(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),qs(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)lr(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];qs(l),l.producerIndexOfThis[r]=t}}function Pn(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function qs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let se=null;function Vn(e){const t=ze(null);try{return e()}finally{ze(t)}}const Br=()=>{},ji=(()=>({...Er,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Br}))();class Dr{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function fi(){return Ki}function Ki(e){return e.type.prototype.ngOnChanges&&(e.setInput=Dc),qi}function qi(){const e=Wa(this),t=e?.current;if(t){const n=e.previous;if(n===_i)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Dc(e,t,n,r){const l=this.declaredInputs[n],h=Wa(e)||function zl(e,t){return e[ra]=t}(e,{previous:_i,current:null}),v=h.current||(h.current={}),I=h.previous,x=I[l];v[l]=new Dr(x&&x.currentValue,t,I===_i),e[r]=t}fi.ngInherit=!0;const ra="__ngSimpleChanges__";function Wa(e){return e[ra]||null}const ws=function(e,t,n){},vl="svg";function hn(e){for(;Array.isArray(e);)e=e[Gn];return e}function Cl(e,t){return hn(t[e])}function pi(e,t){return hn(t[e.index])}function Ao(e,t){return e.data[t]}function ei(e,t){const n=t[e];return qn(n)?n:n[Gn]}function ls(e,t){return null==t?null:e[t]}function sa(e){e[xr]=0}function pd(e){1024&e[cn]||(e[cn]|=1024,ir(e,1))}function _u(e){1024&e[cn]&&(e[cn]&=-1025,ir(e,-1))}function ir(e,t){let n=e[Kn];if(null===n)return;n[_r]+=t;let r=n;for(n=n[Kn];null!==n&&(1===t&&1===r[_r]||-1===t&&0===r[_r]);)n[_r]+=t,r=n,n=n[Kn]}const zt={lFrame:_o(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gi(){return zt.bindingsEnabled}function gn(){return null!==zt.skipHydrationRootTNode}function ft(){return zt.lFrame.lView}function Bn(){return zt.lFrame.tView}function fu(e){return zt.lFrame.contextLView=e,e[or]}function pu(e){return zt.lFrame.contextLView=null,e}function dr(){let e=gu();for(;null!==e&&64===e.type;)e=e.parent;return e}function gu(){return zt.lFrame.currentTNode}function Cs(e,t){const n=zt.lFrame;n.currentTNode=e,n.isParent=t}function Sc(){return zt.lFrame.isParent}function yl(){zt.lFrame.isParent=!1}function S(){return zt.lFrame.bindingIndex++}function B(e){const t=zt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Pe(e,t){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Xe(t)}function Xe(e){zt.lFrame.currentDirectiveIndex=e}function un(){return zt.lFrame.currentQueryIndex}function zn(e){zt.lFrame.currentQueryIndex=e}function On(e){const t=e[St];return 2===t.type?t.declTNode:1===t.type?e[gr]:null}function ys(e,t,n){if(n&xt.SkipSelf){let l=t,h=e;for(;!(l=l.parent,null!==l||n&xt.Host||(l=On(h),null===l||(h=h[Hs],10&l.type))););if(null===l)return!1;t=l,e=h}const r=zt.lFrame=ho();return r.currentTNode=t,r.lView=e,!0}function Ro(e){const t=ho(),n=e[St];zt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ho(){const e=zt.lFrame,t=null===e?null:e.child;return null===t?_o(e):t}function _o(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Es(){const e=zt.lFrame;return zt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Mc=Es;function Tc(){const e=Es();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ur(){return zt.lFrame.selectedIndex}function Vi(e){zt.lFrame.selectedIndex=e}function wn(){const e=zt.lFrame;return Ao(e.tView,e.selectedIndex)}function mu(){zt.lFrame.currentNamespace=vl}function vu(){!function Xl(){zt.lFrame.currentNamespace=null}()}let wu=!0;function Pc(){return wu}function zs(e){wu=e}function Ql(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const h=e.data[n].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:x,ngAfterViewChecked:Q,ngOnDestroy:le}=h;v&&(e.contentHooks??=[]).push(-n,v),I&&((e.contentHooks??=[]).push(n,I),(e.contentCheckHooks??=[]).push(n,I)),x&&(e.viewHooks??=[]).push(-n,x),Q&&((e.viewHooks??=[]).push(n,Q),(e.viewCheckHooks??=[]).push(n,Q)),null!=le&&(e.destroyHooks??=[]).push(n,le)}}function Wr(e,t,n){Ds(e,t,3,n)}function Dl(e,t,n,r){(3&e[cn])===n&&Ds(e,t,n,r)}function Oc(e,t){let n=e[cn];(3&n)===t&&(n&=8191,n+=1,e[cn]=n)}function Ds(e,t,n,r){const h=r??-1,v=t.length-1;let I=0;for(let x=void 0!==r?65535&e[xr]:0;x<v;x++)if("number"==typeof t[x+1]){if(I=t[x],null!=r&&I>=r)break}else t[x]<0&&(e[xr]+=65536),(I<h||-1==h)&&(Jl(e,n,t,x),e[xr]=(4294901760&e[xr])+x+2),x++}function Ac(e,t){ws(4,e,t);const n=ze(null);try{t.call(e)}finally{ze(n),ws(5,e,t)}}function Jl(e,t,n,r){const l=n[r]<0,h=n[r+1],I=e[l?-n[r]:n[r]];l?e[cn]>>13<e[xr]>>16&&(3&e[cn])===t&&(e[cn]+=8192,Ac(I,h)):Ac(I,h)}const bs=-1;class bl{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Lc(e){return e!==bs}function ec(e){return 32767&e}function ko(e,t){let n=function Dd(e){return e>>16}(e),r=t;for(;n>0;)r=r[Hs],n--;return r}let rt=!0;function Bo(e){const t=rt;return rt=e,t}const xc=255,In=5;let bd=0;const Ss={};function Ka(e,t){const n=kc(e,t);if(-1!==n)return n;const r=t[St];r.firstCreatePass&&(e.injectorIndex=t.length,Du(r.data,e),Du(t,null),Du(r.blueprint,null));const l=tc(e,t),h=e.injectorIndex;if(Lc(l)){const v=ec(l),I=ko(l,t),x=I[St].data;for(let Q=0;Q<8;Q++)t[h+Q]=I[v+Q]|x[v+Q]}return t[h+8]=l,h}function Du(e,t){e.push(0,0,0,0,0,0,0,0,t)}function kc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function tc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,l=t;for(;null!==l;){if(r=ui(l),null===r)return bs;if(n++,l=l[Hs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return bs}function qa(e,t,n){!function Eu(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(zo)&&(r=n[zo]),null==r&&(r=n[zo]=bd++);const l=r&xc;t.data[e+(l>>In)]|=1<<l}(e,t,n)}function Sl(e,t,n){if(n&xt.Optional||void 0!==e)return e;me()}function Su(e,t,n,r){if(n&xt.Optional&&void 0===r&&(r=null),!(n&(xt.Self|xt.Host))){const l=e[Ti],h=Ut(void 0);try{return l?l.get(t,r,n&xt.Optional):Rr(t,r,n&xt.Optional)}finally{Ut(h)}}return Sl(r,0,n)}function Bc(e,t,n,r=xt.Default,l){if(null!==e){if(2048&t[cn]&&!(r&xt.Self)){const v=function Id(e,t,n,r,l){let h=e,v=t;for(;null!==h&&null!==v&&2048&v[cn]&&!(512&v[cn]);){const I=Mu(h,v,n,r|xt.Self,Ss);if(I!==Ss)return I;let x=h.parent;if(!x){const Q=v[Gr];if(Q){const le=Q.get(n,Ss,r);if(le!==Ss)return le}x=ui(v),v=v[Hs]}h=x}return l}(e,t,n,r,Ss);if(v!==Ss)return v}const h=Mu(e,t,n,r,Ss);if(h!==Ss)return h}return Su(t,n,r,l)}function Mu(e,t,n,r,l){const h=function Nc(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(zo)?e[zo]:void 0;return"number"==typeof t?t>=0?t&xc:Pu:t}(n);if("function"==typeof h){if(!ys(t,e,r))return r&xt.Host?Sl(l,0,r):Su(t,n,r,l);try{let v;if(v=h(r),null!=v||r&xt.Optional)return v;me()}finally{Mc()}}else if("number"==typeof h){let v=null,I=kc(e,t),x=bs,Q=r&xt.Host?t[tr][gr]:null;for((-1===I||r&xt.SkipSelf)&&(x=-1===I?tc(e,t):t[I+8],x!==bs&&Tu(r,!1)?(v=t[St],I=ec(x),t=ko(x,t)):I=-1);-1!==I;){const le=t[St];if(Md(h,I,le.data)){const be=Sd(I,t,n,v,r,Q);if(be!==Ss)return be}x=t[I+8],x!==bs&&Tu(r,t[St].data[I+8]===Q)&&Md(h,I,t)?(v=le,I=ec(x),t=ko(x,t)):I=-1}}return l}function Sd(e,t,n,r,l,h){const v=t[St],I=v.data[e+8],le=nc(I,v,n,null==r?is(I)&&rt:r!=v&&0!=(3&I.type),l&xt.Host&&h===I);return null!==le?ca(t,v,le,I):Ss}function nc(e,t,n,r,l){const h=e.providerIndexes,v=t.data,I=1048575&h,x=e.directiveStart,le=h>>20,Ue=l?I+le:e.directiveEnd;for(let Ge=r?I:I+le;Ge<Ue;Ge++){const at=v[Ge];if(Ge<x&&n===at||Ge>=x&&at.type===n)return Ge}if(l){const Ge=v[x];if(Ge&&kr(Ge)&&Ge.type===n)return x}return null}function ca(e,t,n,r){let l=e[n];const h=t.data;if(function Oi(e){return e instanceof bl}(l)){const v=l;v.resolving&&function z(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new He(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Y(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Me(e)}(h[n]));const I=Bo(v.canSeeViewProviders);v.resolving=!0;const Q=v.injectImpl?Ut(v.injectImpl):null;ys(e,r,xt.Default);try{l=e[n]=v.factory(void 0,h,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Ah(e,t,n){const{ngOnChanges:r,ngOnInit:l,ngDoCheck:h}=t.type.prototype;if(r){const v=Ki(t);(n.preOrderHooks??=[]).push(e,v),(n.preOrderCheckHooks??=[]).push(e,v)}l&&(n.preOrderHooks??=[]).push(0-e,l),h&&((n.preOrderHooks??=[]).push(e,h),(n.preOrderCheckHooks??=[]).push(e,h))}(n,h[n],t)}finally{null!==Q&&Ut(Q),Bo(I),v.resolving=!1,Mc()}}return l}function Md(e,t,n){return!!(n[t+(e>>In)]&1<<e)}function Tu(e,t){return!(e&xt.Self||e&xt.Host&&t)}class Vt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Bc(this._tNode,this._lView,t,Do(r),n)}}function Pu(){return new Vt(dr(),ft())}function Td(e){return Di(()=>{const t=e.prototype.constructor,n=t[bi]||Va(t),r=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==r;){const h=l[bi]||Va(l);if(h&&h!==n)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Va(e){return Te(e)?()=>{const t=Va(ve(e));return t&&t()}:ss(e)}function ui(e){const t=e[St],n=t.type;return 2===n?t.declTNode:1===n?e[gr]:null}function Ou(e){return function bu(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let l=0;for(;l<r;){const h=n[l];if(oi(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<r&&"string"==typeof n[l];)l++;else{if(h===t)return n[l+1];l+=2}}}return null}(dr(),e)}const Ml="__parameters__";function Uo(e,t,n){return Di(()=>{const r=function Fc(e){return function(...n){if(e){const r=e(...n);for(const l in r)this[l]=r[l]}}}(t);function l(...h){if(this instanceof l)return r.apply(this,h),this;const v=new l(...h);return I.annotation=v,I;function I(x,Q,le){const be=x.hasOwnProperty(Ml)?x[Ml]:Object.defineProperty(x,Ml,{value:[]})[Ml];for(;be.length<=le;)be.push(null);return(be[le]=be[le]||[]).push(v),x}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}function po(e,t){e.forEach(n=>Array.isArray(n)?po(n,t):t(n))}function Lu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Wc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Tl(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function sr(e,t,n){let r=Il(e,t);return r>=0?e[1|r]=n:(r=~r,function Ld(e,t,n,r){let l=e.length;if(l==t)e.push(n,r);else if(1===l)e.push(r,e[0]),e[0]=n;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function us(e,t){const n=Il(e,t);if(n>=0)return e[1|n]}function Il(e,t){return function ic(e,t,n){let r=0,l=e.length>>n;for(;l!==r;){const h=r+(l-r>>1),v=e[h<<n];if(t===v)return h<<n;v>t?l=h:r=h+1}return~(l<<n)}(e,t,1)}const Ol=Ei(Uo("Optional"),8),oc=Ei(Uo("SkipSelf"),4);function Xc(e){return 128==(128&e.flags)}var va=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(va||{});const Wd=/^>|^->|<!--|-->|--!>|<!-$/g,Hd=/(<|>)/g,Nh="\u200b$1\u200b";const Qc=new Map;let Uh=0;const Jc="__ngContext__";function Xr(e,t){qn(t)?(e[Jc]=t[zr],function go(e){Qc.set(e[zr],e)}(t)):e[Jc]=t}let o;function c(e,t){return o(e,t)}function O(e){const t=e[Kn];return Ir(t)?t[Kn]:t}function he(e){return ke(e[Po])}function ye(e){return ke(e[Mi])}function ke(e){for(;null!==e&&!Ir(e);)e=e[Mi];return e}function Ve(e,t,n,r,l){if(null!=r){let h,v=!1;Ir(r)?h=r:qn(r)&&(v=!0,r=r[Gn]);const I=hn(r);0===e&&null!==n?null==l?Gu(t,n,I):Ca(t,n,I,l||null,!0):1===e&&null!==n?Ca(t,n,I,l||null,!0):2===e?function Za(e,t,n){const r=An(e,t);r&&function Gt(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,I,v):3===e&&t.destroyNode(I),null!=h&&function bp(e,t,n,r,l){const h=n[Yr];h!==hn(n)&&Ve(t,e,r,h,l);for(let I=yr;I<n.length;I++){const x=n[I];Xu(x[St],x,e,t,r,h)}}(t,e,h,n,l)}}function ot(e,t){return e.createComment(function jd(e){return e.replace(Wd,t=>t.replace(Hd,Nh))}(t))}function Ct(e,t,n){return e.createElement(t,n)}function Ar(e,t){const n=e[js],r=n.indexOf(t);_u(t),n.splice(r,1)}function er(e,t){if(e.length<=yr)return;const n=yr+t,r=e[n];if(r){const l=r[Jo];null!==l&&l!==e&&Ar(l,r),t>0&&(e[n-1][Mi]=r[Mi]);const h=Wc(e,yr+t);!function Dt(e,t){Xu(e,t,t[Xt],2,null,null),t[Gn]=null,t[gr]=null}(r[St],r);const v=h[Ui];null!==v&&v.detachView(h[St]),r[Kn]=null,r[Mi]=null,r[cn]&=-129}return r}function mi(e,t){if(!(256&t[cn])){const n=t[Xt];t[$i]&&en(t[$i]),t[ts]&&en(t[ts]),n.destroyNode&&Xu(e,t,n,3,null,null),function yn(e){let t=e[Po];if(!t)return vi(e[St],e);for(;t;){let n=null;if(qn(t))n=t[Po];else{const r=t[yr];r&&(n=r)}if(!n){for(;t&&!t[Mi]&&t!==e;)qn(t)&&vi(t[St],t),t=t[Kn];null===t&&(t=e),qn(t)&&vi(t[St],t),n=t&&t[Mi]}t=n}}(t)}}function vi(e,t){if(!(256&t[cn])){t[cn]&=-129,t[cn]|=256,function Gd(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const l=t[n[r]];if(!(l instanceof bl)){const h=n[r+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const I=l[h[v]],x=h[v+1];ws(4,I,x);try{x.call(I)}finally{ws(5,I,x)}}else{ws(4,l,h);try{h.call(l)}finally{ws(5,l,h)}}}}}(e,t),function Is(e,t){const n=e.cleanup,r=t[es];if(null!==n)for(let h=0;h<n.length-1;h+=2)if("string"==typeof n[h]){const v=n[h+3];v>=0?r[v]():r[-v].unsubscribe(),h+=2}else n[h].call(r[n[h+1]]);null!==r&&(t[es]=null);const l=t[Fi];if(null!==l){t[Fi]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(e,t),1===t[St].type&&t[Xt].destroy();const n=t[Jo];if(null!==n&&Ir(t[Kn])){n!==t[Kn]&&Ar(n,t);const r=t[Ui];null!==r&&r.detachView(e)}!function qu(e){Qc.delete(e[zr])}(t)}}function Ja(e,t,n){return function mo(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Gn];{const{componentOffset:l}=r;if(l>-1){const{encapsulation:h}=e.data[r.directiveStart+l];if(h===si.None||h===si.Emulated)return null}return pi(r,n)}}(e,t.parent,n)}function Ca(e,t,n,r,l){e.insertBefore(t,n,r,l)}function Gu(e,t,n){e.appendChild(t,n)}function Ft(e,t,n,r,l){null!==r?Ca(e,t,n,r,l):Gu(e,t,n)}function An(e,t){return e.parentNode(t)}function Qs(e,t,n){return Wo(e,t,n)}let fr,zh,Xd,Wo=function Yi(e,t,n){return 40&e.type?pi(e,n):null};function Zc(e,t,n,r){const l=Ja(e,r,t),h=t[Xt],I=Qs(r.parent||t[gr],r,t);if(null!=l)if(Array.isArray(n))for(let x=0;x<n.length;x++)Ft(h,l,n[x],I,!1);else Ft(h,l,n,I,!1);void 0!==fr&&fr(h,r,t,n,l)}function Hr(e,t){if(null!==t){const n=t.type;if(3&n)return pi(t,e);if(4&n)return Xi(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Hr(e,r);{const l=e[t.index];return Ir(l)?Xi(-1,l):hn(l)}}if(32&n)return c(t,e)()||hn(e[t.index]);{const r=ya(e,t);return null!==r?Array.isArray(r)?r[0]:Hr(O(e[tr]),r):Hr(e,t.next)}}return null}function ya(e,t){return null!==t?e[tr][gr].projection[t.projection]:null}function Xi(e,t){const n=yr+e+1;if(n<t.length){const r=t[n],l=r[St].firstChild;if(null!==l)return Hr(r,l)}return t[Yr]}function Hh(e,t,n,r,l,h,v){for(;null!=n;){const I=r[n.index],x=n.type;if(v&&0===t&&(I&&Xr(hn(I),r),n.flags|=2),32!=(32&n.flags))if(8&x)Hh(e,t,n.child,r,l,h,!1),Ve(t,e,l,I,h);else if(32&x){const Q=c(n,r);let le;for(;le=Q();)Ve(t,e,l,le,h);Ve(t,e,l,I,h)}else 16&x?Kh(e,t,r,n,l,h):Ve(t,e,l,I,h);n=v?n.projectionNext:n.next}}function Xu(e,t,n,r,l,h){Hh(n,r,e.firstChild,t,l,h,!1)}function Kh(e,t,n,r,l,h){const v=n[tr],x=v[gr].projection[r.projection];if(Array.isArray(x))for(let Q=0;Q<x.length;Q++)Ve(t,e,l,x[Q],h);else{let Q=x;const le=v[Kn];Xc(r)&&(Q.flags|=128),Hh(e,t,Q,le,l,h,!0)}}function z_(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function G_(e,t,n){const{mergedAttrs:r,classes:l,styles:h}=n;null!==r&&Bi(e,t,r),null!==l&&z_(e,t,l),null!==h&&function Mp(e,t,n){e.setAttribute(t,"style",n)}(e,t,h)}function Pp(e){zh=e}function J_(e){return function Gh(){if(void 0===Xd&&(Xd=null,nr.trustedTypes))try{Xd=nr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xd}()?.createScriptURL(e)||e}class Z_{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$e})`}}function Ll(e){return e instanceof Z_?e.changingThisBreaksApplicationSecurity:e}function ru(e,t){const n=function ef(e){return e instanceof Z_&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${$e})`)}return n===t}const Up=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var fc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(fc||{});function lf(e){const t=ed();return t?t.sanitize(fc.URL,e)||"":ru(e,"URL")?Ll(e):function Xh(e){return(e=String(e)).match(Up)?e:"unsafe:"+e}(Me(e))}function cf(e){const t=ed();if(t)return J_(t.sanitize(fc.RESOURCE_URL,e)||"");if(ru(e,"ResourceURL"))return J_(Ll(e));throw new He(904,!1)}function uf(e,t,n){return function Qp(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?cf:lf}(t,n)(e)}function ed(){const e=ft();return e&&e[Lr].sanitizer}const ds=new pn("ENVIRONMENT_INITIALIZER"),df=new pn("INJECTOR",-1),hf=new pn("INJECTOR_DEF_TYPES");class tl{get(t,n=ct){if(n===ct){const r=new Error(`NullInjectorError: No provider for ${ne(t)}!`);throw r.name="NullInjectorError",r}return n}}function Jp(...e){return{\u0275providers:hs(0,e),\u0275fromNgModule:!0}}function hs(e,...t){const n=[],r=new Set;let l;const h=v=>{n.push(v)};return po(t,v=>{const I=v;Jd(I,h,[],r)&&(l||=[],l.push(I))}),void 0!==l&&jr(l,h),n}function jr(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:l}=e[n];t_(l,h=>{t(h,r)})}}function Jd(e,t,n,r){if(!(e=ve(e)))return!1;let l=null,h=an(e);const v=!h&&En(e);if(h||v){if(v&&!v.standalone)return!1;l=e}else{const x=e.ngModule;if(h=an(x),!h)return!1;l=x}const I=r.has(l);if(v){if(I)return!1;if(r.add(l),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const Q of x)Jd(Q,t,n,r)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let Q;r.add(l);try{po(h.imports,le=>{Jd(le,t,n,r)&&(Q||=[],Q.push(le))})}finally{}void 0!==Q&&jr(Q,t)}if(!I){const Q=ss(l)||(()=>new l);t({provide:l,useFactory:Q,deps:Zt},l),t({provide:hf,useValue:l,multi:!0},l),t({provide:ds,useValue:()=>Qn(l),multi:!0},l)}const x=h.providers;if(null!=x&&!I){const Q=e;t_(x,le=>{t(le,Q)})}}}return l!==e&&void 0!==e.providers}function t_(e,t){for(let n of e)_e(n)&&(n=n.\u0275providers),Array.isArray(n)?t_(n,t):t(n)}const Zp=G({provide:String,useValue:G});function n_(e){return null!==e&&"object"==typeof e&&Zp in e}function nl(e){return"function"==typeof e}const Ho=new pn("Set Injector scope."),td={},Zd={};let br;function Sr(){return void 0===br&&(br=new tl),br}class jo{}class iu extends jo{get destroyed(){return this._destroyed}constructor(t,n,r,l){super(),this.parent=n,this.source=r,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,s_(t,v=>this.processProvider(v)),this.records.set(df,su(void 0,this)),l.has("environment")&&this.records.set(jo,su(void 0,this));const h=this.records.get(Ho);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(hf.multi,Zt,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=xi(this),r=Ut(void 0);try{return t()}finally{xi(n),Ut(r)}}get(t,n=ct,r=xt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Go))return t[Go](this);r=Do(r);const h=xi(this),v=Ut(void 0);try{if(!(r&xt.SkipSelf)){let x=this.records.get(t);if(void 0===x){const Q=function i_(e){return"function"==typeof e||"object"==typeof e&&e instanceof pn}(t)&&kt(t);x=Q&&this.injectableDefInScope(Q)?su(r_(t),td):null,this.records.set(t,x)}if(null!=x)return this.hydrate(t,x)}return(r&xt.Self?Sr():this.parent).get(t,n=r&xt.Optional&&n===ct?null:n)}catch(I){if("NullInjectorError"===I.name){if((I[Bt]=I[Bt]||[]).unshift(ne(t)),h)throw I;return function ks(e,t,n,r){const l=e[Bt];throw t[Kr]&&l.unshift(t[Kr]),e.message=function bo(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=ne(t);if(Array.isArray(t))l=t.map(ne).join(" -> ");else if("object"==typeof t){let h=[];for(let v in t)if(t.hasOwnProperty(v)){let I=t[v];h.push(v+":"+("string"==typeof I?JSON.stringify(I):ne(I)))}l=`{${h.join(", ")}}`}return`${n}${r?"("+r+")":""}[${l}]: ${e.replace(Ln,"\n  ")}`}("\n"+e.message,l,n,r),e.ngTokenPath=l,e[Bt]=null,e}(I,t,"R3InjectorError",this.source)}throw I}finally{Ut(v),xi(h)}}resolveInjectorInitializers(){const t=xi(this),n=Ut(void 0);try{const l=this.get(ds.multi,Zt,xt.Self);for(const h of l)h()}finally{xi(t),Ut(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ne(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(t){let n=nl(t=ve(t))?t:ve(t&&t.provide);const r=function ng(e){return n_(e)?su(void 0,e.useValue):su(function pf(e,t,n){let r;if(nl(e)){const l=ve(e);return ss(l)||r_(l)}if(n_(e))r=()=>ve(e.useValue);else if(function ff(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...to(e.deps||[]));else if(function _f(e){return!(!e||!e.useExisting)}(e))r=()=>Qn(ve(e.useExisting));else{const l=ve(e&&(e.useClass||e.provide));if(!function gf(e){return!!e.deps}(e))return ss(l)||r_(l);r=()=>new l(...to(e.deps))}return r}(e),td)}(t);if(nl(t)||!0!==t.multi)this.records.get(n);else{let l=this.records.get(n);l||(l=su(void 0,td,!0),l.factory=()=>to(l.multi),this.records.set(n,l)),n=t,l.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===td&&(n.value=Zd,n.value=n.factory()),"object"==typeof n.value&&n.value&&function nd(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ve(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function r_(e){const t=kt(e),n=null!==t?t.factory:ss(e);if(null!==n)return n;if(e instanceof pn)throw new He(204,!1);if(e instanceof Function)return function tg(e){const t=e.length;if(t>0)throw Tl(t,"?"),new He(204,!1);const n=function Et(e){return e&&(e[It]||e[Ht])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new He(204,!1)}function su(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function s_(e,t){for(const n of e)Array.isArray(n)?s_(n,t):n&&_e(n)?s_(n.\u0275providers,t):t(n)}const o_=new pn("AppId",{providedIn:"root",factory:()=>eh}),eh="ng",Ps=new pn("Platform Initializer"),xl=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rg=new pn("AnimationModuleType"),ig=new pn("CSP nonce",{providedIn:"root",factory:()=>function nu(){if(void 0!==zh)return zh;if(typeof document<"u")return document;throw new He(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let mf=(e,t,n)=>null;function d_(e,t,n=!1){return mf(e,t,n)}class hg{}class wf{}class _g{resolveComponentFactory(t){throw function Cf(e){const t=Error(`No component factory found for ${ne(e)}.`);return t.ngComponent=e,t}(t)}}let od=(()=>{class e{static{this.NULL=new _g}}return e})();function fg(){return ou(dr(),ft())}function ou(e,t){return new ad(pi(e,t))}let ad=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=fg}}return e})();function Ef(e){return e instanceof ad?e.nativeElement:e}class p_{}let pg=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function gg(){const e=ft(),n=ei(dr().index,e);return(qn(n)?n:e)[Xt]}()}}return e})(),mg=(()=>{class e{static{this.\u0275prov=vt({token:e,providedIn:"root",factory:()=>null})}}return e})();class Df{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const au=new Df("16.2.12"),g_={};function Tf(e,t=null,n=null,r){const l=If(e,t,n,r);return l.resolveInjectorInitializers(),l}function If(e,t=null,n=null,r,l=new Set){const h=[n||Zt,Jp(e)];return r=r||("object"==typeof e?void 0:ne(e)),new iu(h,t||Sr(),r||null,l)}let Ko=(()=>{class e{static{this.THROW_IF_NOT_FOUND=ct}static{this.NULL=new tl}static create(n,r){if(Array.isArray(n))return Tf({name:""},r,n,"");{const l=n.name??"";return Tf({name:l},n.parent,n.providers,l)}}static{this.\u0275prov=vt({token:e,providedIn:"any",factory:()=>Qn(df)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function w_(e){return e.ngOriginalError}class kl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&w_(t);for(;n&&w_(n);)n=w_(n);return n||null}}function C_(e){return t=>{setTimeout(e,void 0,t)}}const Ea=class bg extends d.B{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let l=t,h=n||(()=>null),v=r;if(t&&"object"==typeof t){const x=t;l=x.next?.bind(x),h=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(h=C_(h),l&&(l=C_(l)),v&&(v=C_(v)));const I=super.subscribe({next:l,error:h,complete:v});return t instanceof p.yU&&t.add(I),I}};function Of(...e){}class wi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ea(!1),this.onMicrotaskEmpty=new Ea(!1),this.onStable=new Ea(!1),this.onError=new Ea(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!r&&n,l.shouldCoalesceRunChangeDetection=r,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Sg(){const e="function"==typeof nr.requestAnimationFrame;let t=nr[e?"requestAnimationFrame":"setTimeout"],n=nr[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function E_(e){const t=()=>{!function Tg(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(nr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,oh(e),e.isCheckStableRunning=!0,y_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),oh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,l,h,v,I)=>{if(function Pg(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(I))return n.invokeTask(l,h,v,I);try{return D_(e),n.invokeTask(l,h,v,I)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&t(),Af(e)}},onInvoke:(n,r,l,h,v,I,x)=>{try{return D_(e),n.invoke(l,h,v,I,x)}finally{e.shouldCoalesceRunChangeDetection&&t(),Af(e)}},onHasTask:(n,r,l,h)=>{n.hasTask(l,h),r===l&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,oh(e),y_(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(n,r,l,h)=>(n.handleError(l,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wi.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(wi.isInAngularZone())throw new He(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,t,Mg,Of,Of);try{return h.runTask(v,n,r)}finally{h.cancelTask(v)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const Mg={};function y_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function oh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function D_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Af(e){e._nesting--,y_(e)}class Ig{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ea,this.onMicrotaskEmpty=new Ea,this.onStable=new Ea,this.onError=new Ea}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,l){return t.apply(n,r)}}const Rf=new pn("",{providedIn:"root",factory:ah});function ah(){const e=xn(wi);let t=!0;return function k(...e){const t=(0,A.lI)(e),n=(0,A.R0)(e,1/0),r=e;return r.length?1===r.length?(0,g.Tg)(r[0]):(0,_.U)(n)((0,T.H)(r,t)):b.w}(new w.c(l=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{l.next(t),l.complete()})}),new w.c(l=>{let h;e.runOutsideAngular(()=>{h=e.onStable.subscribe(()=>{wi.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,l.next(!0))})})});const v=e.onUnstable.subscribe(()=>{wi.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),v.unsubscribe()}}).pipe(E()))}function Lf(e){return e.ownerDocument}function il(e){return e instanceof Function?e():e}let ld=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=vt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function cd(e){for(;e;){e[cn]|=64;const t=O(e);if(lo(e)&&!t)return e;e=t}return null}const Bf=new pn("",{providedIn:"root",factory:()=>!1});let dh=null;function Wf(e,t){return e[t]??Kf()}function Hf(e,t){const n=Kf();n.producerNode?.length&&(e[t]=dh,n.lView=e,dh=jf())}const Ng={...Er,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{cd(e.lView)},lView:null};function jf(){return Object.create(Ng)}function Kf(){return dh??=jf(),dh}const vn={};function qf(e){Vf(Bn(),ft(),Ur()+e,!1)}function Vf(e,t,n,r){if(!r)if(3==(3&t[cn])){const h=e.preOrderCheckHooks;null!==h&&Wr(t,h,n)}else{const h=e.preOrderHooks;null!==h&&Dl(t,h,0,n)}Vi(n)}function cu(e,t=xt.Default){const n=ft();return null===n?Qn(e,t):Bc(dr(),n,ve(e),t)}function hh(e,t,n,r,l,h,v,I,x,Q,le){const be=t.blueprint.slice();return be[Gn]=l,be[cn]=140|r,(null!==Q||e&&2048&e[cn])&&(be[cn]|=2048),sa(be),be[Kn]=be[Hs]=e,be[or]=n,be[Lr]=v||e&&e[Lr],be[Xt]=I||e&&e[Xt],be[Ti]=x||e&&e[Ti]||null,be[gr]=h,be[zr]=function Kd(){return Uh++}(),be[Cr]=le,be[Gr]=Q,be[tr]=2==t.type?e[tr]:be,be}function uu(e,t,n,r,l){let h=e.data[t];if(null===h)h=function b_(e,t,n,r,l){const h=gu(),v=Sc(),x=e.data[t]=function on(e,t,n,r,l,h){let v=t?t.injectorIndex:-1,I=0;return gn()&&(I|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,n,t,r,l);return null===e.firstChild&&(e.firstChild=x),null!==h&&(v?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x,x.prev=h)),x}(e,t,n,r,l),function J(){return zt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=n,h.value=r,h.attrs=l;const v=function la(){const e=zt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Cs(h,!0),h}function s(e,t,n,r){if(0===n)return-1;const l=t.length;for(let h=0;h<n;h++)t.push(r),e.blueprint.push(r),e.data.push(null);return l}function u(e,t,n,r,l){const h=Wf(t,$i),v=Ur(),I=2&r;try{Vi(-1),I&&t.length>Ot&&Vf(e,t,Ot,!1),ws(I?2:0,l);const Q=I?h:null,le=st(Q);try{null!==Q&&(Q.dirty=!1),n(r,l)}finally{tt(Q,le)}}finally{I&&null===t[$i]&&Hf(t,$i),Vi(v),ws(I?3:1,l)}}function C(e,t,n){if(Zo(t)){const r=ze(null);try{const h=t.directiveEnd;for(let v=t.directiveStart;v<h;v++){const I=e.data[v];I.contentQueries&&I.contentQueries(1,n[v],v)}}finally{ze(r)}}}function q(e,t,n){gi()&&(function ly(e,t,n,r){const l=n.directiveStart,h=n.directiveEnd;is(n)&&function py(e,t,n){const r=pi(t,e),l=we(n);let v=16;n.signals?v=4096:n.onPush&&(v=64);const I=Gf(e,hh(e,l,null,v,r,t,null,e[Lr].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=I}(t,n,e.data[l+n.componentOffset]),e.firstCreatePass||Ka(n,t),Xr(r,t);const v=n.initialInputs;for(let I=l;I<h;I++){const x=e.data[I],Q=ca(t,e,I,n);Xr(Q,t),null!==v&&gy(0,I-l,Q,x,0,v),kr(x)&&(ei(n.index,t)[or]=ca(t,e,I,n))}}(e,t,n,pi(n,t)),64==(64&n.flags)&&hv(e,t,n))}function oe(e,t,n=pi){const r=t.localNames;if(null!==r){let l=t.index+1;for(let h=0;h<r.length;h+=2){const v=r[h+1],I=-1===v?n(t,e):e[v];e[l++]=I}}}function we(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Le(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Le(e,t,n,r,l,h,v,I,x,Q,le){const be=Ot+r,Ue=be+l,Ge=function Fe(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:vn);return n}(be,Ue),at="function"==typeof Q?Q():Q;return Ge[St]={type:e,blueprint:Ge,template:n,queries:null,viewQuery:I,declTNode:t,data:Ge.slice().fill(null,be),bindingStartIndex:be,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:at,incompleteFirstPass:!1,ssrId:le}}let ht=e=>null;function Tn(e,t,n,r){for(let l in e)if(e.hasOwnProperty(l)){n=null===n?{}:n;const h=e[l];null===r?tn(n,t,l,h):r.hasOwnProperty(l)&&tn(n,t,r[l],h)}return n}function tn(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Zs(e,t,n,r){if(gi()){const l=null===r?null:{"":-1},h=function uy(e,t){const n=e.directiveRegistry;let r=null,l=null;if(n)for(let h=0;h<n.length;h++){const v=n[h];if(Xo(t,v.selectors,!1))if(r||(r=[]),kr(v))if(null!==v.findHostDirectiveDefs){const I=[];l=l||new Map,v.findHostDirectiveDefs(v,I,l),r.unshift(...I,v),$g(e,t,I.length)}else r.unshift(v),$g(e,t,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,r,l),r.push(v)}return null===r?null:[r,l]}(e,n);let v,I;null===h?v=I=null:[v,I]=h,null!==v&&Da(e,t,n,v,l,I),l&&function dy(e,t,n){if(t){const r=e.localNames=[];for(let l=0;l<t.length;l+=2){const h=n[t[l+1]];if(null==h)throw new He(-301,!1);r.push(t[l],h)}}}(n,r,l)}n.mergedAttrs=$r(n.mergedAttrs,n.attrs)}function Da(e,t,n,r,l,h){for(let Q=0;Q<r.length;Q++)qa(Ka(n,t),e,r[Q].type);!function _y(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let Q=0;Q<r.length;Q++){const le=r[Q];le.providersResolver&&le.providersResolver(le)}let v=!1,I=!1,x=s(e,t,r.length,null);for(let Q=0;Q<r.length;Q++){const le=r[Q];n.mergedAttrs=$r(n.mergedAttrs,le.hostAttrs),fy(e,n,t,x,le),hy(x,le,l),null!==le.contentQueries&&(n.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(n.flags|=64);const be=le.type.prototype;!v&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),v=!0),!I&&(be.ngOnChanges||be.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),I=!0),x++}!function Fn(e,t,n){const l=t.directiveEnd,h=e.data,v=t.attrs,I=[];let x=null,Q=null;for(let le=t.directiveStart;le<l;le++){const be=h[le],Ue=n?n.get(be):null,at=Ue?Ue.outputs:null;x=Tn(be.inputs,le,x,Ue?Ue.inputs:null),Q=Tn(be.outputs,le,Q,at);const pt=null===x||null===v||Ia(t)?null:my(x,le,v);I.push(pt)}null!==x&&(x.hasOwnProperty("class")&&(t.flags|=8),x.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=I,t.inputs=x,t.outputs=Q}(e,n,h)}function hv(e,t,n){const r=n.directiveStart,l=n.directiveEnd,h=n.index,v=function et(){return zt.lFrame.currentDirectiveIndex}();try{Vi(h);for(let I=r;I<l;I++){const x=e.data[I],Q=t[I];Xe(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&cy(x,Q)}}finally{Vi(-1),Xe(v)}}function cy(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $g(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function hy(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;kr(t)&&(n[""]=e)}}function fy(e,t,n,r,l){e.data[r]=l;const h=l.factory||(l.factory=ss(l.type)),v=new bl(h,kr(l),cu);e.blueprint[r]=v,n[r]=v,function zf(e,t,n,r,l){const h=l.hostBindings;if(h){let v=e.hostBindingOpCodes;null===v&&(v=e.hostBindingOpCodes=[]);const I=~t.index;(function ay(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(v)!=I&&v.push(I),v.push(n,r,h)}}(e,t,r,s(e,n,l.hostVars,vn),l)}function Nl(e,t,n,r,l,h){const v=pi(e,t);!function Wg(e,t,n,r,l,h,v){if(null==h)e.removeAttribute(t,l,n);else{const I=null==v?Me(h):v(h,r||"",l);e.setAttribute(t,l,I,n)}}(t[Xt],v,h,e.value,n,r,l)}function gy(e,t,n,r,l,h){const v=h[t];if(null!==v)for(let I=0;I<v.length;)_v(r,n,v[I++],v[I++],v[I++])}function _v(e,t,n,r,l){const h=ze(null);try{const v=e.inputTransforms;null!==v&&v.hasOwnProperty(r)&&(l=v[r].call(t,l)),null!==e.setInput?e.setInput(t,l,n,r):t[r]=l}finally{ze(h)}}function my(e,t,n){let r=null,l=0;for(;l<n.length;){const h=n[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(e.hasOwnProperty(h)){null===r&&(r=[]);const v=e[h];for(let I=0;I<v.length;I+=2)if(v[I]===t){r.push(h,v[I+1],n[l+1]);break}}l+=2}else l+=2;else l+=4}return r}function fv(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function pv(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const h=n[r+1];if(-1!==h){const v=e.data[h];zn(n[r]),v.contentQueries(2,t[h],h)}}}function Gf(e,t){return e[Po]?e[ao][Mi]=t:e[Po]=t,e[ao]=t,t}function Hg(e,t,n){zn(0);const r=ze(null);try{t(e,n)}finally{ze(r)}}function gv(e){return e[es]||(e[es]=[])}function mv(e){return e.cleanup||(e.cleanup=[])}function wv(e,t){const n=e[Ti],r=n?n.get(kl,null):null;r&&r.handleError(t)}function jg(e,t,n,r,l){for(let h=0;h<n.length;){const v=n[h++],I=n[h++];_v(e.data[v],t[v],r,I,l)}}function vy(e,t){const n=ei(t,e),r=n[St];!function wy(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const l=n[Gn];null!==l&&null===n[Cr]&&(n[Cr]=d_(l,n[Ti])),Kg(r,n,n[or])}function Kg(e,t,n){Ro(t);try{const r=e.viewQuery;null!==r&&Hg(1,r,n);const l=e.template;null!==l&&u(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&pv(e,t),e.staticViewQueries&&Hg(2,e.viewQuery,n);const h=e.components;null!==h&&function Cy(e,t){for(let n=0;n<t.length;n++)vy(e,t[n])}(t,h)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[cn]&=-5,Tc()}}let Cv=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,l){const h=typeof Zone>"u"?null:Zone.current,v=function cr(e,t,n){const r=Object.create(ji);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const l=v=>{r.cleanupFn=v};return r.ref={notify:()=>Se(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Rt(r))return;r.hasRun=!0;const v=st(r);try{r.cleanupFn(),r.cleanupFn=Br,r.fn(l)}finally{tt(r,v)}},cleanup:()=>r.cleanupFn()},r.ref}(n,Q=>{this.all.has(Q)&&this.queue.set(Q,h)},l);let I;this.all.add(v),v.notify();const x=()=>{v.cleanup(),I?.(),this.all.delete(v),this.queue.delete(v)};return I=r?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=vt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Yf(e,t,n){let r=n?e.styles:null,l=n?e.classes:null,h=0;if(null!==t)for(let v=0;v<t.length;v++){const I=t[v];"number"==typeof I?h=I:1==h?l=H(l,I):2==h&&(r=H(r,I+": "+t[++v]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=l:e.classesWithoutHost=l}function S_(e,t,n,r,l=!1){for(;null!==n;){const h=t[n.index];null!==h&&r.push(hn(h)),Ir(h)&&yv(h,r);const v=n.type;if(8&v)S_(e,t,n.child,r);else if(32&v){const I=c(n,t);let x;for(;x=I();)r.push(x)}else if(16&v){const I=ya(t,n);if(Array.isArray(I))r.push(...I);else{const x=O(t[tr]);S_(x[St],x,I,r,!0)}}n=l?n.projectionNext:n.next}return r}function yv(e,t){for(let n=yr;n<e.length;n++){const r=e[n],l=r[St].firstChild;null!==l&&S_(r[St],r,l,t)}e[Yr]!==e[Gn]&&t.push(e[Yr])}function Xf(e,t,n,r=!0){const l=t[Lr],h=l.rendererFactory,v=l.afterRenderEventManager;h.begin?.(),v?.begin();try{Ev(e,t,e.template,n)}catch(x){throw r&&wv(t,x),x}finally{h.end?.(),l.effectManager?.flush(),v?.end()}}function Ev(e,t,n,r){const l=t[cn];if(256!=(256&l)){t[Lr].effectManager?.flush(),Ro(t);try{sa(t),function L(e){return zt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&u(e,t,n,2,r);const v=3==(3&l);if(v){const Q=e.preOrderCheckHooks;null!==Q&&Wr(t,Q,null)}else{const Q=e.preOrderHooks;null!==Q&&Dl(t,Q,0,null),Oc(t,0)}if(function Dy(e){for(let t=he(e);null!==t;t=ye(t)){if(!t[jl])continue;const n=t[js];for(let r=0;r<n.length;r++){pd(n[r])}}}(t),Dv(t,2),null!==e.contentQueries&&pv(e,t),v){const Q=e.contentCheckHooks;null!==Q&&Wr(t,Q)}else{const Q=e.contentHooks;null!==Q&&Dl(t,Q,1),Oc(t,1)}!function Fg(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=Wf(t,ts);try{for(let l=0;l<n.length;l++){const h=n[l];if(h<0)Vi(~h);else{const v=h,I=n[++l],x=n[++l];Pe(I,v),r.dirty=!1;const Q=st(r);try{x(2,t[v])}finally{tt(r,Q)}}}}finally{null===t[ts]&&Hf(t,ts),Vi(-1)}}(e,t);const I=e.components;null!==I&&Sv(t,I,0);const x=e.viewQuery;if(null!==x&&Hg(2,x,r),v){const Q=e.viewCheckHooks;null!==Q&&Wr(t,Q)}else{const Q=e.viewHooks;null!==Q&&Dl(t,Q,2),Oc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[cn]&=-73,_u(t)}finally{Tc()}}}function Dv(e,t){for(let n=he(e);null!==n;n=ye(n))for(let r=yr;r<n.length;r++)bv(n[r],t)}function by(e,t,n){bv(ei(t,e),n)}function bv(e,t){if(!function ia(e){return 128==(128&e[cn])}(e))return;const n=e[St],r=e[cn];if(80&r&&0===t||1024&r||2===t)Ev(n,e,n.template,e[or]);else if(e[_r]>0){Dv(e,1);const l=n.components;null!==l&&Sv(e,l,1)}}function Sv(e,t,n){for(let r=0;r<t.length;r++)by(e,t[r],n)}class M_{get rootNodes(){const t=this._lView,n=t[St];return S_(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[or]}set context(t){this._lView[or]=t}get destroyed(){return 256==(256&this._lView[cn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Kn];if(Ir(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(er(t,r),Wc(n,r))}this._attachedToViewContainer=!1}mi(this._lView[St],this._lView)}onDestroy(t){!function Ha(e,t){if(256==(256&e[cn]))throw new He(911,!1);null===e[Fi]&&(e[Fi]=[]),e[Fi].push(t)}(this._lView,t)}markForCheck(){cd(this._cdRefInjectingView||this._lView)}detach(){this._lView[cn]&=-129}reattach(){this._lView[cn]|=128}detectChanges(){Xf(this._lView[St],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Cn(e,t){Xu(e,t,t[Xt],2,null,null)}(this._lView[St],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=t}}class Sy extends M_{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Xf(t[St],t,t[or],!1)}checkNoChanges(){}get context(){return null}}class Mv extends od{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=En(t);return new T_(n,this.ngModule)}}function Tv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Ty{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Do(r);const l=this.injector.get(t,g_,r);return l!==g_||n===g_?l:this.parentInjector.get(t,n,r)}}class T_ extends wf{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Tv(t.inputs);if(null!==n)for(const l of r)n.hasOwnProperty(l.propName)&&(l.transform=n[l.propName]);return r}get outputs(){return Tv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function $s(e){return e.map(Pa).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,l){let h=(l=l||this.ngModule)instanceof jo?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Ty(t,h):t,I=v.get(p_,null);if(null===I)throw new He(407,!1);const be={rendererFactory:I,sanitizer:v.get(mg,null),effectManager:v.get(Cv,null),afterRenderEventManager:v.get(ld,null)},Ue=I.createRenderer(null,this.componentDef),Ge=this.componentDef.selectors[0][0]||"div",at=r?function Ye(e,t,n,r){const h=r.get(Bf,!1)||n===si.ShadowDom,v=e.selectRootElement(t,h);return function dt(e){ht(e)}(v),v}(Ue,r,this.componentDef.encapsulation,v):Ct(Ue,Ge,function My(e){const t=e.toLowerCase();return"svg"===t?vl:"math"===t?"math":null}(Ge)),jt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _t=null;null!==at&&(_t=d_(at,v,!0));const _n=Le(0,null,null,1,0,null,null,null,null,null,null),Rn=hh(null,_n,null,jt,null,null,be,Ue,v,null,_t);let pr,yo;Ro(Rn);try{const vc=this.componentDef;let Ph,Vm=null;vc.findHostDirectiveDefs?(Ph=[],Vm=new Map,vc.findHostDirectiveDefs(vc,Ph,Vm),Ph.push(vc)):Ph=[vc];const WS=function Py(e,t){const n=e[St],r=Ot;return e[r]=t,uu(n,r,2,"#host",null)}(Rn,at),HS=function Oy(e,t,n,r,l,h,v){const I=l[St];!function Ay(e,t,n,r){for(const l of e)t.mergedAttrs=$r(t.mergedAttrs,l.hostAttrs);null!==t.mergedAttrs&&(Yf(t,t.mergedAttrs,!0),null!==n&&G_(r,n,t))}(r,e,t,v);let x=null;null!==t&&(x=d_(t,l[Ti]));const Q=h.rendererFactory.createRenderer(t,n);let le=16;n.signals?le=4096:n.onPush&&(le=64);const be=hh(l,we(n),null,le,l[e.index],e,h,Q,null,null,x);return I.firstCreatePass&&$g(I,e,r.length-1),Gf(l,be),l[e.index]=be}(WS,at,vc,Ph,Rn,be,Ue);yo=Ao(_n,Ot),at&&function Ly(e,t,n,r){if(r)Bi(e,n,["ng-version",au.full]);else{const{attrs:l,classes:h}=function Qo(e){const t=[],n=[];let r=1,l=2;for(;r<e.length;){let h=e[r];if("string"==typeof h)2===l?""!==h&&t.push(h,e[++r]):8===l&&n.push(h);else{if(!Si(l))break;l=h}r++}return{attrs:t,classes:n}}(t.selectors[0]);l&&Bi(e,n,l),h&&h.length>0&&z_(e,n,h.join(" "))}}(Ue,vc,at,r),void 0!==n&&function xy(e,t,n){const r=e.projection=[];for(let l=0;l<t.length;l++){const h=n[l];r.push(null!=h?Array.from(h):null)}}(yo,this.ngContentSelectors,n),pr=function Ry(e,t,n,r,l,h){const v=dr(),I=l[St],x=pi(v,l);Da(I,l,v,n,null,r);for(let le=0;le<n.length;le++)Xr(ca(l,I,v.directiveStart+le,v),l);hv(I,l,v),x&&Xr(x,l);const Q=ca(l,I,v.directiveStart+v.componentOffset,v);if(e[or]=l[or]=Q,null!==h)for(const le of h)le(Q,t);return C(I,v,e),Q}(HS,vc,Ph,Vm,Rn,[ky]),Kg(_n,Rn,null)}finally{Tc()}return new Iy(this.componentType,pr,ou(yo,Rn),Rn,yo)}}class Iy extends hg{constructor(t,n,r,l,h){super(),this.location=r,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Sy(l),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let l;if(null!==r&&(l=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const h=this._rootLView;jg(h[St],h,l,t,n),this.previousInputValues.set(t,n),cd(ei(this._tNode.index,h))}}get injector(){return new Vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function ky(){const e=dr();Ql(ft()[St],e)}function Lv(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const l=t[r];Array.isArray(l)&&l[2]&&(n[r]=l[2])}e.inputTransforms=n}function Jf(e){return!!qg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function qg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function As(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Vg(e,t,n,r){const l=ft();return As(l,S(),t)&&(Bn(),Nl(wn(),l,e,t,n,r)),Vg}function Vv(e,t,n,r,l,h,v,I){const x=ft(),Q=Bn(),le=e+Ot,be=Q.firstCreatePass?function uE(e,t,n,r,l,h,v,I,x){const Q=t.consts,le=uu(t,e,4,v||null,ls(Q,I));Zs(t,n,le,ls(Q,x)),Ql(t,le);const be=le.tView=Le(2,le,r,l,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,Q,null);return null!==t.queries&&(t.queries.template(t,le),be.queries=t.queries.embeddedTView(le)),le}(le,Q,x,t,n,r,l,h,v):Q.data[le];Cs(be,!1);const Ue=zv(Q,x,be,e);Pc()&&Zc(Q,x,Ue,be),Xr(Ue,x),Gf(x,x[le]=fv(Ue,x,Ue,be)),Wi(be)&&q(Q,x,be),null!=v&&oe(x,be,I)}let zv=function Gv(e,t,n,r){return zs(!0),t[Xt].createComment("")};function Jg(e,t,n){const r=ft();return As(r,S(),t)&&function Mr(e,t,n,r,l,h,v,I){const x=pi(t,n);let le,Q=t.inputs;!I&&null!=Q&&(le=Q[r])?(jg(e,n,le,r,l),is(t)&&function fs(e,t){const n=ei(t,e);16&n[cn]||(n[cn]|=64)}(n,t.index)):3&t.type&&(r=function jn(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),l=null!=v?v(l,t.value||"",r):l,h.setProperty(x,r,l))}(Bn(),wn(),r,e,t,r[Xt],n,!1),Jg}function Zg(e,t,n,r,l){const v=l?"class":"style";jg(e,n,t.inputs[v],v,r)}function rp(e,t,n,r){const l=ft(),h=Bn(),v=Ot+e,I=l[Xt],x=h.firstCreatePass?function pE(e,t,n,r,l,h){const v=t.consts,x=uu(t,e,2,r,ls(v,l));return Zs(t,n,x,ls(v,h)),null!==x.attrs&&Yf(x,x.attrs,!1),null!==x.mergedAttrs&&Yf(x,x.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,x),x}(v,h,l,t,n,r):h.data[v],Q=Yv(h,l,x,I,t,e);l[v]=Q;const le=Wi(x);return Cs(x,!0),G_(I,Q,x),32!=(32&x.flags)&&Pc()&&Zc(h,l,Q,x),0===function ge(){return zt.lFrame.elementDepthCount}()&&Xr(Q,l),function ja(){zt.lFrame.elementDepthCount++}(),le&&(q(h,l,x),C(h,x,l)),null!==r&&oe(l,x),rp}function ip(){let e=dr();Sc()?yl():(e=e.parent,Cs(e,!1));const t=e;(function md(e){return zt.skipHydrationRootTNode===e})(t)&&function Cd(){zt.skipHydrationRootTNode=null}(),function Yl(){zt.lFrame.elementDepthCount--}();const n=Bn();return n.firstCreatePass&&(Ql(n,e),Zo(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Ed(e){return 0!=(8&e.flags)}(t)&&Zg(n,t,ft(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Cu(e){return 0!=(16&e.flags)}(t)&&Zg(n,t,ft(),t.stylesWithoutHost,!1),ip}function em(e,t,n,r){return rp(e,t,n,r),ip(),em}let Yv=(e,t,n,r,l,h)=>(zs(!0),Ct(r,l,function xo(){return zt.lFrame.currentNamespace}()));function sp(e,t,n){const r=ft(),l=Bn(),h=e+Ot,v=l.firstCreatePass?function vE(e,t,n,r,l){const h=t.consts,v=ls(h,r),I=uu(t,e,8,"ng-container",v);return null!==v&&Yf(I,v,!0),Zs(t,n,I,ls(h,l)),null!==t.queries&&t.queries.elementStart(t,I),I}(h,l,r,t,n):l.data[h];Cs(v,!0);const I=Qv(l,r,v,e);return r[h]=I,Pc()&&Zc(l,r,I,v),Xr(I,r),Wi(v)&&(q(l,r,v),C(l,v,r)),null!=n&&oe(r,v),sp}function op(){let e=dr();const t=Bn();return Sc()?yl():(e=e.parent,Cs(e,!1)),t.firstCreatePass&&(Ql(t,e),Zo(e)&&t.queries.elementEnd(e)),op}let Qv=(e,t,n,r)=>(zs(!0),ot(t[Xt],""));function Jv(){return ft()}function tm(e){return!!e&&"function"==typeof e.then}function Zv(e){return!!e&&"function"==typeof e.subscribe}function nm(e,t,n,r){const l=ft(),h=Bn(),v=dr();return function tw(e,t,n,r,l,h,v){const I=Wi(r),Q=e.firstCreatePass&&mv(e),le=t[or],be=gv(t);let Ue=!0;if(3&r.type||v){const pt=pi(r,t),Tt=v?v(pt):pt,jt=be.length,_t=v?Rn=>v(hn(Rn[r.index])):r.index;let _n=null;if(!v&&I&&(_n=function yE(e,t,n,r){const l=e.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===n&&l[h+1]===r){const I=t[es],x=l[h+2];return I.length>x?I[x]:null}"string"==typeof v&&(h+=2)}return null}(e,t,l,r.index)),null!==_n)(_n.__ngLastListenerFn__||_n).__ngNextListenerFn__=h,_n.__ngLastListenerFn__=h,Ue=!1;else{h=rw(r,t,le,h,!1);const Rn=n.listen(Tt,l,h);be.push(h,Rn),Q&&Q.push(l,_t,jt,jt+1)}}else h=rw(r,t,le,h,!1);const Ge=r.outputs;let at;if(Ue&&null!==Ge&&(at=Ge[l])){const pt=at.length;if(pt)for(let Tt=0;Tt<pt;Tt+=2){const pr=t[at[Tt]][at[Tt+1]].subscribe(h),yo=be.length;be.push(h,pr),Q&&Q.push(l,r.index,yo,-(yo+1))}}}(h,l,l[Xt],v,e,t,r),nm}function nw(e,t,n,r){try{return ws(6,t,n),!1!==n(r)}catch(l){return wv(e,l),!1}finally{ws(7,t,n)}}function rw(e,t,n,r,l){return function h(v){if(v===Function)return r;cd(e.componentOffset>-1?ei(e.index,t):t);let x=nw(t,n,r,v),Q=h.__ngNextListenerFn__;for(;Q;)x=nw(t,n,Q,v)&&x,Q=Q.__ngNextListenerFn__;return l&&!1===x&&v.preventDefault(),x}}function iw(e=1){return function Oh(e){return(zt.lFrame.contextLView=function Lo(e,t){for(;e>0;)t=t[Hs],e--;return t}(e,zt.lFrame.contextLView))[or]}(e)}function EE(e,t){let n=null;const r=function so(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let l=0;l<t.length;l++){const h=t[l];if("*"!==h){if(null===r?Xo(e,h,!0):Fs(r,h))return l}else n=l}return n}function sw(e){const t=ft()[tr][gr];if(!t.projection){const r=t.projection=Tl(e?e.length:1,null),l=r.slice();let h=t.child;for(;null!==h;){const v=e?EE(h,e):0;null!==v&&(l[v]?l[v].projectionNext=h:r[v]=h,l[v]=h),h=h.next}}}function ow(e,t=0,n){const r=ft(),l=Bn(),h=uu(l,Ot+e,16,null,n||null);null===h.projection&&(h.projection=t),yl(),(!r[Cr]||gn())&&32!=(32&h.flags)&&function jh(e,t,n){Kh(t[Xt],0,t,n,Ja(e,n,t),Qs(n.parent||t[gr],n,t))}(l,r,h)}function ap(e,t){return e<<17|t<<2}function du(e){return e>>17&32767}function im(e){return 2|e}function dd(e){return(131068&e)>>2}function sm(e,t){return-131069&e|t<<2}function om(e){return 1|e}function gw(e,t,n,r,l){const h=e[n+1],v=null===t;let I=r?du(h):dd(h),x=!1;for(;0!==I&&(!1===x||v);){const le=e[I+1];IE(e[I],t)&&(x=!0,e[I+1]=r?om(le):im(le)),I=r?du(le):dd(le)}x&&(e[n+1]=r?im(h):om(h))}function IE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Il(e,t)>=0}const Li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mw(e){return e.substring(Li.key,Li.keyEnd)}function PE(e){return e.substring(Li.value,Li.valueEnd)}function ww(e,t){const n=Li.textEnd;let r=Li.key=Eh(e,t,n);return n===r?-1:(r=Li.keyEnd=function LE(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=yw(e,r,n),r=Li.value=Eh(e,r,n),r=Li.valueEnd=function xE(e,t,n){let r=-1,l=-1,h=-1,v=t,I=v;for(;v<n;){const x=e.charCodeAt(v++);if(59===x)return I;34===x||39===x?I=v=Ew(e,x,v,n):t===v-4&&85===h&&82===l&&76===r&&40===x?I=v=Ew(e,41,v,n):x>32&&(I=v),h=l,l=r,r=-33&x}return I}(e,r,n),yw(e,r,n))}function Eh(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function yw(e,t,n,r){return(t=Eh(e,t,n))<n&&t++,t}function Ew(e,t,n,r){let l=-1,h=n;for(;h<r;){const v=e.charCodeAt(h++);if(v==t&&92!==l)return h;l=92==v&&92===l?0:v}throw new Error}function am(e,t,n){return ol(e,t,n,!1),am}function lm(e,t){return ol(e,t,null,!0),lm}function sl(e){!function al(e,t,n,r){const l=Bn(),h=B(2);l.firstUpdatePass&&bw(l,null,h,r);const v=ft();if(n!==vn&&As(v,h,n)){const I=l.data[Ur()];if(Iw(I,r)&&!Dw(l,h)){let x=r?I.classesWithoutHost:I.stylesWithoutHost;null!==x&&(n=H(x,n||"")),Zg(l,I,v,n,r)}else!function jE(e,t,n,r,l,h,v,I){l===vn&&(l=Zt);let x=0,Q=0,le=0<l.length?l[0]:null,be=0<h.length?h[0]:null;for(;null!==le||null!==be;){const Ue=x<l.length?l[x+1]:void 0,Ge=Q<h.length?h[Q+1]:void 0;let pt,at=null;le===be?(x+=2,Q+=2,Ue!==Ge&&(at=be,pt=Ge)):null===be||null!==le&&le<be?(x+=2,at=le):(Q+=2,at=be,pt=Ge),null!==at&&Mw(e,t,n,r,at,pt,v,I),le=x<l.length?l[x]:null,be=Q<h.length?h[Q]:null}}(l,I,v,v[Xt],v[h+1],v[h+1]=function WE(e,t,n){if(null==n||""===n)return Zt;const r=[],l=Ll(n);if(Array.isArray(l))for(let h=0;h<l.length;h++)e(r,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&e(r,h,l[h]);else"string"==typeof l&&t(r,l);return r}(e,t,n),r,h)}}(Sw,kE,e,!1)}function kE(e,t){for(let n=function AE(e){return function Cw(e){Li.key=0,Li.keyEnd=0,Li.value=0,Li.valueEnd=0,Li.textEnd=e.length}(e),ww(e,Eh(e,0,Li.textEnd))}(t);n>=0;n=ww(t,n))Sw(e,mw(t),PE(t))}function ol(e,t,n,r){const l=ft(),h=Bn(),v=B(2);h.firstUpdatePass&&bw(h,e,v,r),t!==vn&&As(l,v,t)&&Mw(h,h.data[Ur()],l,l[Xt],e,l[v+1]=function KE(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ne(Ll(e)))),e}(t,n),r,v)}function Dw(e,t){return t>=e.expandoStartIndex}function bw(e,t,n,r){const l=e.data;if(null===l[n+1]){const h=l[Ur()],v=Dw(e,n);Iw(h,r)&&null===t&&!v&&(t=!1),t=function NE(e,t,n,r){const l=function wt(e){const t=zt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let h=r?t.residualClasses:t.residualStyles;if(null===l)0===(r?t.classBindings:t.styleBindings)&&(n=R_(n=cm(null,e,t,n,r),t.attrs,r),h=null);else{const v=t.directiveStylingLast;if(-1===v||e[v]!==l)if(n=cm(l,e,t,n,r),null===h){let x=function UE(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==dd(r))return e[du(r)]}(e,t,r);void 0!==x&&Array.isArray(x)&&(x=cm(null,e,t,x[1],r),x=R_(x,t.attrs,r),function FE(e,t,n,r){e[du(n?t.classBindings:t.styleBindings)]=r}(e,t,r,x))}else h=function $E(e,t,n){let r;const l=t.directiveEnd;for(let h=1+t.directiveStylingLast;h<l;h++)r=R_(r,e[h].hostAttrs,n);return R_(r,t.attrs,n)}(e,t,r)}return void 0!==h&&(r?t.residualClasses=h:t.residualStyles=h),n}(l,h,t,r),function ME(e,t,n,r,l,h){let v=h?t.classBindings:t.styleBindings,I=du(v),x=dd(v);e[r]=n;let le,Q=!1;if(Array.isArray(n)?(le=n[1],(null===le||Il(n,le)>0)&&(Q=!0)):le=n,l)if(0!==x){const Ue=du(e[I+1]);e[r+1]=ap(Ue,I),0!==Ue&&(e[Ue+1]=sm(e[Ue+1],r)),e[I+1]=function bE(e,t){return 131071&e|t<<17}(e[I+1],r)}else e[r+1]=ap(I,0),0!==I&&(e[I+1]=sm(e[I+1],r)),I=r;else e[r+1]=ap(x,0),0===I?I=r:e[x+1]=sm(e[x+1],r),x=r;Q&&(e[r+1]=im(e[r+1])),gw(e,le,r,!0),gw(e,le,r,!1),function TE(e,t,n,r,l){const h=l?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof t&&Il(h,t)>=0&&(n[r+1]=om(n[r+1]))}(t,le,e,r,h),v=ap(I,x),h?t.classBindings=v:t.styleBindings=v}(l,h,t,n,v,r)}}function cm(e,t,n,r,l){let h=null;const v=n.directiveEnd;let I=n.directiveStylingLast;for(-1===I?I=n.directiveStart:I++;I<v&&(h=t[I],r=R_(r,h.hostAttrs,l),h!==e);)I++;return null!==e&&(n.directiveStylingLast=I),r}function R_(e,t,n){const r=n?1:2;let l=-1;if(null!==t)for(let h=0;h<t.length;h++){const v=t[h];"number"==typeof v?l=v:l===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),sr(e,v,!!n||t[++h]))}return void 0===e?null:e}function Sw(e,t,n){sr(e,t,Ll(n))}function Mw(e,t,n,r,l,h,v,I){if(!(3&t.type))return;const x=e.data,Q=x[I+1],le=function SE(e){return 1==(1&e)}(Q)?Tw(x,t,n,l,dd(Q),v):void 0;lp(le)||(lp(h)||function DE(e){return 2==(2&e)}(Q)&&(h=Tw(x,null,n,l,I,v)),function Sp(e,t,n,r,l){if(t)l?e.addClass(n,r):e.removeClass(n,r);else{let h=-1===r.indexOf("-")?void 0:va.DashCase;null==l?e.removeStyle(n,r,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=va.Important),e.setStyle(n,r,l,h))}}(r,v,Cl(Ur(),n),l,h))}function Tw(e,t,n,r,l,h){const v=null===t;let I;for(;l>0;){const x=e[l],Q=Array.isArray(x),le=Q?x[1]:x,be=null===le;let Ue=n[l+1];Ue===vn&&(Ue=be?Zt:void 0);let Ge=be?us(Ue,r):le===r?Ue:void 0;if(Q&&!lp(Ge)&&(Ge=us(x,r)),lp(Ge)&&(I=Ge,v))return I;const at=e[l+1];l=v?du(at):dd(at)}if(null!==t){let x=h?t.residualClasses:t.residualStyles;null!=x&&(I=us(x,r))}return I}function lp(e){return void 0!==e}function Iw(e,t){return 0!=(e.flags&(t?8:16))}function Pw(e,t=""){const n=ft(),r=Bn(),l=e+Ot,h=r.firstCreatePass?uu(r,l,1,t,null):r.data[l],v=Ow(r,n,h,t,e);n[l]=v,Pc()&&Zc(r,n,v,h),Cs(h,!1)}let Ow=(e,t,n,r,l)=>(zs(!0),function mt(e,t){return e.createText(t)}(t[Xt],r));function um(e){return cp("",e,""),um}function cp(e,t,n){const r=ft(),l=function fh(e,t,n,r){return As(e,S(),n)?t+Me(n)+r:vn}(r,e,t,n);return l!==vn&&function mc(e,t,n){const r=Cl(t,e);!function Pt(e,t,n){e.setValue(t,n)}(e[Xt],r,n)}(r,Ur(),l),cp}const hd=void 0;var hD=["en",[["a","p"],["AM","PM"],hd],[["AM","PM"],hd,hd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hd,"{1} 'at' {0}",hd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dD(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Dh={};function dm(e){const t=function _D(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Qw(t);if(n)return n;const r=t.split("-")[0];if(n=Qw(r),n)return n;if("en"===r)return hD;throw new He(701,!1)}function Xw(e){return dm(e)[bh.PluralCase]}function Qw(e){return e in Dh||(Dh[e]=nr.ng&&nr.ng.common&&nr.ng.common.locales&&nr.ng.common.locales[e]),Dh[e]}var bh=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(bh||{});const Sh="en-US";let Jw=Sh;class _d{}class S0{}function _b(e,t){return new vm(e,t??null,[])}class vm extends _d{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mv(this);const l=Vr(t);this._bootstrapComponents=il(l.bootstrap),this._r3Injector=If(t,n,[{provide:_d,useValue:this},{provide:od,useValue:this.componentFactoryResolver},...r],ne(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wm extends S0{constructor(t){super(),this.moduleType=t}create(t){return new vm(this.moduleType,t,[])}}class M0 extends _d{constructor(t){super(),this.componentFactoryResolver=new Mv(this),this.instance=null;const n=new iu([...t.providers,{provide:_d,useValue:this},{provide:od,useValue:this.componentFactoryResolver}],t.parent||Sr(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function T0(e,t,n=null){return new M0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let pb=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=hs(0,n.type),l=r.length>0?T0([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,l)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=vt({token:e,providedIn:"environment",factory:()=>new e(Qn(jo))})}}return e})();function I0(e){e.getStandaloneInjector=t=>t.get(pb).getOrCreateStandaloneInjector(e)}function k0(e,t,n,r){return function B0(e,t,n,r,l,h){const v=t+n;return As(e,v,l)?function Ul(e,t,n){return e[t]=n}(e,v+1,h?r.call(h,l):r(l)):function U_(e,t){const n=e[t];return n===vn?void 0:n}(e,v+1)}(ft(),function Nr(){const e=zt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r)}function $b(){return this._results[Symbol.iterator]()}class ym{get changes(){return this._changes||(this._changes=new Ea)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ym.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$b)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const l=function Ai(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ru(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let l=e[r],h=t[r];if(n&&(l=n(l),h=n(h)),h!==l)return!1}return!0}(r._results,l,n))&&(r._results=l,r.length=l.length,r.last=l[this.length-1],r.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Hb(e,t,n,r=!0){const l=t[St];if(function Sn(e,t,n,r){const l=yr+r,h=n.length;r>0&&(n[l-1][Mi]=t),r<h-yr?(t[Mi]=n[l],Lu(n,yr+r,t)):(n.push(t),t[Mi]=null),t[Kn]=n;const v=t[Jo];null!==v&&n!==v&&function Gi(e,t){const n=e[js];t[tr]!==t[Kn][Kn][tr]&&(e[jl]=!0),null===n?e[js]=[t]:n.push(t)}(v,t);const I=t[Ui];null!==I&&I.insertView(e),t[cn]|=128}(l,t,e,n),r){const h=Xi(n,e),v=t[Xt],I=An(v,e[Yr]);null!==I&&function Un(e,t,n,r,l,h){r[Gn]=l,r[gr]=t,Xu(e,r,n,1,l,h)}(l,e[gr],v,t,I,h)}}let $_=(()=>{class e{static{this.__NG_ELEMENT_ID__=qb}}return e})();const jb=$_,Kb=class extends jb{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const l=function Wb(e,t,n,r){const l=t.tView,I=hh(e,l,n,4096&e[cn]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);I[Jo]=e[t.index];const Q=e[Ui];return null!==Q&&(I[Ui]=Q.createEmbeddedView(l)),Kg(l,I,n),I}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new M_(l)}};function qb(){return fp(dr(),ft())}function fp(e,t){return 4&e.type?new Kb(t,e,ou(e,t)):null}let gp=(()=>{class e{static{this.__NG_ELEMENT_ID__=Qb}}return e})();function Qb(){return z0(dr(),ft())}const Jb=gp,q0=class extends Jb{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ou(this._hostTNode,this._hostLView)}get injector(){return new Vt(this._hostTNode,this._hostLView)}get parentInjector(){const t=tc(this._hostTNode,this._hostLView);if(Lc(t)){const n=ko(t,this._hostLView),r=ec(t);return new Vt(n[St].data[r+8],n)}return new Vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=V0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-yr}createEmbeddedView(t,n,r){let l,h;"number"==typeof r?l=r:null!=r&&(l=r.index,h=r.injector);const I=t.createEmbeddedViewImpl(n||{},h,null);return this.insertImpl(I,l,false),I}createComponent(t,n,r,l,h){const v=t&&!function ha(e){return"function"==typeof e}(t);let I;if(v)I=n;else{const pt=n||{};I=pt.index,r=pt.injector,l=pt.projectableNodes,h=pt.environmentInjector||pt.ngModuleRef}const x=v?t:new T_(En(t)),Q=r||this.parentInjector;if(!h&&null==x.ngModule){const Tt=(v?Q:this.parentInjector).get(jo,null);Tt&&(h=Tt)}En(x.componentType??{});const Ge=x.create(Q,l,null,h);return this.insertImpl(Ge.hostView,I,false),Ge}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const l=t._lView;if(function Pi(e){return Ir(e[Kn])}(l)){const x=this.indexOf(t);if(-1!==x)this.detach(x);else{const Q=l[Kn],le=new q0(Q,Q[gr],Q[Kn]);le.detach(le.indexOf(t))}}const v=this._adjustIndex(n),I=this._lContainer;return Hb(I,l,v,!r),t.attachToViewContainerRef(),Lu(Em(I),v,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=V0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=er(this._lContainer,n);r&&(Wc(Em(this._lContainer),n),mi(r[St],r))}detach(t){const n=this._adjustIndex(t,-1),r=er(this._lContainer,n);return r&&null!=Wc(Em(this._lContainer),n)?new M_(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function V0(e){return e[8]}function Em(e){return e[8]||(e[8]=[])}function z0(e,t){let n;const r=t[e.index];return Ir(r)?n=r:(n=fv(r,t,null,e),t[e.index]=n,Gf(t,n)),G0(n,t,e,r),new q0(n,e,t)}let G0=function Y0(e,t,n,r){if(e[Yr])return;let l;l=8&n.type?hn(r):function Zb(e,t){const n=e[Xt],r=n.createComment(""),l=pi(t,e);return Ca(n,An(n,l),r,function ri(e,t){return e.nextSibling(t)}(n,l),!1),r}(t,n),e[Yr]=l};class Dm{constructor(t){this.queryList=t,this.matches=null}clone(){return new Dm(this.queryList)}setDirty(){this.queryList.setDirty()}}class bm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let h=0;h<r;h++){const v=n.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new bm(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==iC(t,n).matches&&this.queries[n].setDirty()}}class X0{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Sm{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const l=null!==n?n.length:0,h=this.getByIndex(r).embeddedTView(t,l);h&&(h.indexInDeclarationView=r,null!==n?n.push(h):n=[h])}return null!==n?new Sm(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Mm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Mm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let l=0;l<r.length;l++){const h=r[l];this.matchTNodeWithReadOption(t,n,n1(n,h)),this.matchTNodeWithReadOption(t,n,nc(n,t,h,!1,!1))}else r===$_?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,nc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const l=this.metadata.read;if(null!==l)if(l===ad||l===gp||l===$_&&4&n.type)this.addMatch(n.index,-2);else{const h=nc(n,t,l,!1,!1);null!==h&&this.addMatch(n.index,h)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function n1(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function i1(e,t,n,r){return-1===n?function r1(e,t){return 11&e.type?ou(e,t):4&e.type?fp(e,t):null}(t,e):-2===n?function s1(e,t,n){return n===ad?ou(t,e):n===$_?fp(t,e):n===gp?z0(t,e):void 0}(e,t,r):ca(e,e[St],n,t)}function Q0(e,t,n,r){const l=t[Ui].queries[r];if(null===l.matches){const h=e.data,v=n.matches,I=[];for(let x=0;x<v.length;x+=2){const Q=v[x];I.push(Q<0?null:i1(t,h[Q],v[x+1],n.metadata.read))}l.matches=I}return l.matches}function Tm(e,t,n,r){const l=e.queries.getByIndex(n),h=l.matches;if(null!==h){const v=Q0(e,t,l,n);for(let I=0;I<h.length;I+=2){const x=h[I];if(x>0)r.push(v[I/2]);else{const Q=h[I+1],le=t[-x];for(let be=yr;be<le.length;be++){const Ue=le[be];Ue[Jo]===Ue[Kn]&&Tm(Ue[St],Ue,Q,r)}if(null!==le[js]){const be=le[js];for(let Ue=0;Ue<be.length;Ue++){const Ge=be[Ue];Tm(Ge[St],Ge,Q,r)}}}}}return r}function J0(e){const t=ft(),n=Bn(),r=un();zn(r+1);const l=iC(n,r);if(e.dirty&&function rn(e){return 4==(4&e[cn])}(t)===(2==(2&l.metadata.flags))){if(null===l.matches)e.reset([]);else{const h=l.crossesNgTemplate?Tm(n,t,r,[]):Q0(n,t,l,r);e.reset(h,Ef),e.notifyOnChanges()}return!0}return!1}function Z0(e,t,n){const r=Bn();r.firstCreatePass&&(rC(r,new X0(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),nC(r,ft(),t)}function eC(e,t,n,r){const l=Bn();if(l.firstCreatePass){const h=dr();rC(l,new X0(t,n,r),h.index),function a1(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),2==(2&n)&&(l.staticContentQueries=!0)}nC(l,ft(),n)}function tC(){return function o1(e,t){return e[Ui].queries[t].queryList}(ft(),un())}function nC(e,t,n){const r=new ym(4==(4&n));(function Kt(e,t,n,r){const l=gv(t);l.push(n),e.firstCreatePass&&mv(e).push(r,l.length-1)})(e,t,r,r.destroy),null===t[Ui]&&(t[Ui]=new bm),t[Ui].queries.push(new Dm(r))}function rC(e,t,n){null===e.queries&&(e.queries=new Sm),e.queries.track(new Mm(t,n))}function iC(e,t){return e.queries.getByIndex(t)}function Im(e){return!!Vr(e)}const P1=new pn("Application Initializer");let Lm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=xn(P1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const l of this.appInits){const h=l();if(tm(h))n.push(h);else if(Zv(h)){const v=new Promise((I,x)=>{h.subscribe({complete:I,error:x})});n.push(v)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(l=>{this.reject(l)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const vp=new pn("LocaleId",{providedIn:"root",factory:()=>xn(vp,xt.Optional|xt.SkipSelf)||function O1(){return typeof $localize<"u"&&$localize.locale||Sh}()}),A1=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let EC=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new U.t(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class L1{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let x1=(()=>{class e{compileModuleSync(n){return new wm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),h=il(Vr(n).declarations).reduce((v,I)=>{const x=En(I);return x&&v.push(new T_(x)),v},[]);return new L1(r,h)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const MC=new pn(""),TC=new pn("");let Bm,nS=(()=>{class e{constructor(n,r,l){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bm||(function rS(e){Bm=e}(l),l.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,l){let h=-1;r&&r>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:h,updateCb:l})}whenStable(n,r,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,l){return[]}static{this.\u0275fac=function(r){return new(r||e)(Qn(wi),Qn(IC),Qn(TC))}}static{this.\u0275prov=vt({token:e,factory:e.\u0275fac})}}return e})(),IC=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Bm?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),hu=null;const PC=new pn("AllowMultipleToken"),Nm=new pn("PlatformDestroyListeners"),OC=new pn("appBootstrapListener");function LC(e,t,n=[]){const r=`Platform: ${t}`,l=new pn(r);return(h=[])=>{let v=Um();if(!v||v.injector.get(PC,!1)){const I=[...n,...h,{provide:l,useValue:!0}];e?e(I):function oS(e){if(hu&&!hu.get(PC,!1))throw new He(400,!1);(function AC(){!function ie(e){se=e}(()=>{throw new He(600,!1)})})(),hu=e;const t=e.get(kC);(function RC(e){e.get(Ps,null)?.forEach(n=>n())})(e)}(function xC(e=[],t){return Ko.create({name:t,providers:[{provide:Ho,useValue:"platform"},{provide:Nm,useValue:new Set([()=>hu=null])},...e]})}(I,r))}return function lS(e){const t=Um();if(!t)throw new He(401,!1);return t}()}}function Um(){return hu?.get(kC)??null}let kC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const l=function cS(e="zone.js",t){return"noop"===e?new Ig:"zone.js"===e?new wi(t):e}(r?.ngZone,function BC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return l.run(()=>{const h=function fb(e,t,n){return new vm(e,t,n)}(n.moduleType,this.injector,function WC(e){return[{provide:wi,useFactory:e},{provide:ds,multi:!0,useFactory:()=>{const t=xn(dS,{optional:!0});return()=>t.initialize()}},{provide:$C,useFactory:uS},{provide:Rf,useFactory:ah}]}(()=>l)),v=h.injector.get(kl,null);return l.runOutsideAngular(()=>{const I=l.onError.subscribe({next:x=>{v.handleError(x)}});h.onDestroy(()=>{Cp(this._modules,h),I.unsubscribe()})}),function NC(e,t,n){try{const r=n();return tm(r)?r.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(v,l,()=>{const I=h.injector.get(Lm);return I.runInitializers(),I.donePromise.then(()=>(function Zw(e){Oe(e,"Expected localeId to be defined"),"string"==typeof e&&(Jw=e.toLowerCase().replace(/_/g,"-"))}(h.injector.get(vp,Sh)||Sh),this._moduleDoBootstrap(h),h))})})}bootstrapModule(n,r=[]){const l=UC({},r);return function iS(e,t,n){const r=new wm(n);return Promise.resolve(r)}(0,0,n).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(n){const r=n.injector.get(Ih);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(l=>r.bootstrap(l));else{if(!n.instance.ngDoBootstrap)throw new He(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Nm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(Qn(Ko))}}static{this.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function UC(e,t){return Array.isArray(t)?t.reduce(UC,e):{...e,...t}}let Ih=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xn($C),this.zoneIsStable=xn(Rf),this.componentTypes=[],this.components=[],this.isStable=xn(EC).hasPendingTasks.pipe((0,M.n)(n=>n?(0,j.of)(!1):this.zoneIsStable),(0,W.F)(),E()),this._injector=xn(jo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const l=n instanceof wf;if(!this._injector.get(Lm).done)throw!l&&oo(n),new He(405,!1);let v;v=l?n:this._injector.get(od).resolveComponentFactory(n),this.componentTypes.push(v.componentType);const I=function sS(e){return e.isBoundToModule}(v)?void 0:this._injector.get(_d),Q=v.create(Ko.NULL,[],r||v.selector,I),le=Q.location.nativeElement,be=Q.injector.get(MC,null);return be?.registerApplication(le),Q.onDestroy(()=>{this.detachView(Q.hostView),Cp(this.components,Q),be?.unregisterApplication(le)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new He(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Cp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(OC,[]);r.push(...this._bootstrapListeners),r.forEach(l=>l(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new He(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Cp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $C=new pn("",{providedIn:"root",factory:()=>xn(kl).handleError.bind(void 0)});function uS(){const e=xn(wi),t=xn(kl);return n=>e.runOutsideAngular(()=>t.handleError(n))}let dS=(()=>{class e{constructor(){this.zone=xn(wi),this.applicationRef=xn(Ih)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let _S=(()=>{class e{static{this.__NG_ELEMENT_ID__=fS}}return e})();function fS(e){return function pS(e,t,n){if(is(e)&&!n){const r=ei(e.index,t);return new M_(r,r)}return 47&e.type?new M_(t[tr],t):null}(dr(),ft(),16==(16&e))}class VC{constructor(){}supports(t){return Jf(t)}create(t){return new CS(t)}}const wS=(e,t)=>t;class CS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,l=0,h=null;for(;n||r;){const v=!r||n&&n.currentIndex<GC(r,l,h)?n:r,I=GC(v,l,h),x=v.currentIndex;if(v===r)l--,r=r._nextRemoved;else if(n=n._next,null==v.previousIndex)l++;else{h||(h=[]);const Q=I-l,le=x-l;if(Q!=le){for(let Ue=0;Ue<Q;Ue++){const Ge=Ue<h.length?h[Ue]:h[Ue]=0,at=Ge+Ue;le<=at&&at<Q&&(h[Ue]=Ge+1)}h[v.previousIndex]=le-Q}}I!==x&&t(v,I,x)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Jf(t))throw new He(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,h,v,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let I=0;I<this.length;I++)h=t[I],v=this._trackByFn(I,h),null!==n&&Object.is(n.trackById,v)?(r&&(n=this._verifyReinsertion(n,h,v,I)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,v,I),r=!0),n=n._next}else l=0,function Vy(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,I=>{v=this._trackByFn(l,I),null!==n&&Object.is(n.trackById,v)?(r&&(n=this._verifyReinsertion(n,I,v,l)),Object.is(n.item,I)||this._addIdentityChange(n,I)):(n=this._mismatch(n,I,v,l),r=!0),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,l){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,h,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,l))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,h,l)):t=this._addAfter(new yS(n,r),h,l),t}_verifyReinsertion(t,n,r,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==h?t=this._reinsertAfter(h,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,h=t._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const l=null===n?this._itHead:n._next;return t._next=l,t._prev=n,null===l?this._itTail=t:l._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new zC),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class yS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ES{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class zC{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new ES,this.map.set(n,r)),r.add(t)}get(t,n){const l=this.map.get(t);return l?l.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GC(e,t,n){const r=e.previousIndex;if(null===r)return r;let l=0;return n&&r<n.length&&(l=n[r]),r+t+l}class YC{constructor(){}supports(t){return t instanceof Map||qg(t)}create(){return new DS}}class DS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||qg(t)))throw new He(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,l)=>{if(n&&n.key===l)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const h=this._getOrCreateRecordForKey(l,r);n=this._insertBeforeOrAppend(n,h)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,n);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const r=new bS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class bS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XC(){return new jm([new VC])}let jm=(()=>{class e{static{this.\u0275prov=vt({token:e,providedIn:"root",factory:XC})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const l=r.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||XC()),deps:[[e,new oc,new Ol]]}}find(n){const r=this.factories.find(l=>l.supports(n));if(null!=r)return r;throw new He(901,!1)}}return e})();function QC(){return new Km([new YC])}let Km=(()=>{class e{static{this.\u0275prov=vt({token:e,providedIn:"root",factory:QC})}constructor(n){this.factories=n}static create(n,r){if(r){const l=r.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||QC()),deps:[[e,new oc,new Ol]]}}find(n){const r=this.factories.find(l=>l.supports(n));if(r)return r;throw new He(901,!1)}}return e})();const TS=LC(null,"core",[]);let IS=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(Qn(Ih))}}static{this.\u0275mod=Ws({type:e})}static{this.\u0275inj=Nt({})}}return e})();function FS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},345:(fe,$,a)=>{"use strict";a.d($,{B7:()=>_e,Bb:()=>xe,hE:()=>qt,sG:()=>it});var d=a(6276),p=a(177);class w extends p.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _ extends w{static makeCurrent(){(0,p.ZD)(new _)}onAndCancel(Je,Re,qe){return Je.addEventListener(Re,qe),()=>{Je.removeEventListener(Re,qe)}}dispatchEvent(Je,Re){Je.dispatchEvent(Re)}remove(Je){Je.parentNode&&Je.parentNode.removeChild(Je)}createElement(Je,Re){return(Re=Re||this.getDefaultDocument()).createElement(Je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Je){return Je.nodeType===Node.ELEMENT_NODE}isShadowRoot(Je){return Je instanceof DocumentFragment}getGlobalEventTarget(Je,Re){return"window"===Re?window:"document"===Re?Je:"body"===Re?Je.body:null}getBaseHref(Je){const Re=function b(){return g=g||document.querySelector("base"),g?g.getAttribute("href"):null}();return null==Re?null:function T(lt){A=A||document.createElement("a"),A.setAttribute("href",lt);const Je=A.pathname;return"/"===Je.charAt(0)?Je:`/${Je}`}(Re)}resetBaseElement(){g=null}getUserAgent(){return window.navigator.userAgent}getCookie(Je){return(0,p._b)(document.cookie,Je)}}let A,g=null,U=(()=>{class lt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(qe){return new(qe||lt)}}static{this.\u0275prov=d.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const j=new d.nKC("EventManagerPlugins");let F=(()=>{class lt{constructor(Re,qe){this._zone=qe,this._eventNameToPlugin=new Map,Re.forEach(ct=>{ct.manager=this}),this._plugins=Re.slice().reverse()}addEventListener(Re,qe,ct){return this._findPluginFor(qe).addEventListener(Re,qe,ct)}getZone(){return this._zone}_findPluginFor(Re){let qe=this._eventNameToPlugin.get(Re);if(qe)return qe;if(qe=this._plugins.find(Mt=>Mt.supports(Re)),!qe)throw new d.wOt(5101,!1);return this._eventNameToPlugin.set(Re,qe),qe}static{this.\u0275fac=function(qe){return new(qe||lt)(d.KVO(j),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();class D{constructor(Je){this._doc=Je}}const E="ng-app-id";let y=(()=>{class lt{constructor(Re,qe,ct,Mt={}){this.doc=Re,this.appId=qe,this.nonce=ct,this.platformId=Mt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,p.Vy)(Mt),this.resetHostNodes()}addStyles(Re){for(const qe of Re)1===this.changeUsageCount(qe,1)&&this.onStyleAdded(qe)}removeStyles(Re){for(const qe of Re)this.changeUsageCount(qe,-1)<=0&&this.onStyleRemoved(qe)}ngOnDestroy(){const Re=this.styleNodesInDOM;Re&&(Re.forEach(qe=>qe.remove()),Re.clear());for(const qe of this.getAllStyles())this.onStyleRemoved(qe);this.resetHostNodes()}addHost(Re){this.hostNodes.add(Re);for(const qe of this.getAllStyles())this.addStyleToHost(Re,qe)}removeHost(Re){this.hostNodes.delete(Re)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Re){for(const qe of this.hostNodes)this.addStyleToHost(qe,Re)}onStyleRemoved(Re){const qe=this.styleRef;qe.get(Re)?.elements?.forEach(ct=>ct.remove()),qe.delete(Re)}collectServerRenderedStyles(){const Re=this.doc.head?.querySelectorAll(`style[${E}="${this.appId}"]`);if(Re?.length){const qe=new Map;return Re.forEach(ct=>{null!=ct.textContent&&qe.set(ct.textContent,ct)}),qe}return null}changeUsageCount(Re,qe){const ct=this.styleRef;if(ct.has(Re)){const Mt=ct.get(Re);return Mt.usage+=qe,Mt.usage}return ct.set(Re,{usage:qe,elements:[]}),qe}getStyleElement(Re,qe){const ct=this.styleNodesInDOM,Mt=ct?.get(qe);if(Mt?.parentNode===Re)return ct.delete(qe),Mt.removeAttribute(E),Mt;{const Bt=this.doc.createElement("style");return this.nonce&&Bt.setAttribute("nonce",this.nonce),Bt.textContent=qe,this.platformIsServer&&Bt.setAttribute(E,this.appId),Bt}}addStyleToHost(Re,qe){const ct=this.getStyleElement(Re,qe);Re.appendChild(ct);const Mt=this.styleRef,Bt=Mt.get(qe)?.elements;Bt?Bt.push(ct):Mt.set(qe,{elements:[ct],usage:1})}resetHostNodes(){const Re=this.hostNodes;Re.clear(),Re.add(this.doc.head)}static{this.\u0275fac=function(qe){return new(qe||lt)(d.KVO(p.qQ),d.KVO(d.sZ2),d.KVO(d.BIS,8),d.KVO(d.Agw))}}static{this.\u0275prov=d.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const M={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},W=/%COMP%/g,G="%COMP%",Z=`_nghost-${G}`,ne=`_ngcontent-${G}`,te=new d.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Te(lt,Je){return Je.map(Re=>Re.replace(W,lt))}let _e=(()=>{class lt{constructor(Re,qe,ct,Mt,Bt,Hn,Ln,Tr=null){this.eventManager=Re,this.sharedStylesHost=qe,this.appId=ct,this.removeStylesOnCompDestroy=Mt,this.doc=Bt,this.platformId=Hn,this.ngZone=Ln,this.nonce=Tr,this.rendererByCompId=new Map,this.platformIsServer=(0,p.Vy)(Hn),this.defaultRenderer=new ue(Re,Bt,Ln,this.platformIsServer)}createRenderer(Re,qe){if(!Re||!qe)return this.defaultRenderer;this.platformIsServer&&qe.encapsulation===d.gXe.ShadowDom&&(qe={...qe,encapsulation:d.gXe.Emulated});const ct=this.getOrCreateRenderer(Re,qe);return ct instanceof z?ct.applyToHost(Re):ct instanceof Y&&ct.applyStyles(),ct}getOrCreateRenderer(Re,qe){const ct=this.rendererByCompId;let Mt=ct.get(qe.id);if(!Mt){const Bt=this.doc,Hn=this.ngZone,Ln=this.eventManager,Tr=this.sharedStylesHost,Kr=this.removeStylesOnCompDestroy,qr=this.platformIsServer;switch(qe.encapsulation){case d.gXe.Emulated:Mt=new z(Ln,Tr,qe,this.appId,Kr,Bt,Hn,qr);break;case d.gXe.ShadowDom:return new Me(Ln,Tr,Re,qe,Bt,Hn,this.nonce,qr);default:Mt=new Y(Ln,Tr,qe,Kr,Bt,Hn,qr)}ct.set(qe.id,Mt)}return Mt}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(qe){return new(qe||lt)(d.KVO(F),d.KVO(y),d.KVO(d.sZ2),d.KVO(te),d.KVO(p.qQ),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(d.BIS))}}static{this.\u0275prov=d.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();class ue{constructor(Je,Re,qe,ct){this.eventManager=Je,this.doc=Re,this.ngZone=qe,this.platformIsServer=ct,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Je,Re){return Re?this.doc.createElementNS(M[Re]||Re,Je):this.doc.createElement(Je)}createComment(Je){return this.doc.createComment(Je)}createText(Je){return this.doc.createTextNode(Je)}appendChild(Je,Re){(Be(Je)?Je.content:Je).appendChild(Re)}insertBefore(Je,Re,qe){Je&&(Be(Je)?Je.content:Je).insertBefore(Re,qe)}removeChild(Je,Re){Je&&Je.removeChild(Re)}selectRootElement(Je,Re){let qe="string"==typeof Je?this.doc.querySelector(Je):Je;if(!qe)throw new d.wOt(-5104,!1);return Re||(qe.textContent=""),qe}parentNode(Je){return Je.parentNode}nextSibling(Je){return Je.nextSibling}setAttribute(Je,Re,qe,ct){if(ct){Re=ct+":"+Re;const Mt=M[ct];Mt?Je.setAttributeNS(Mt,Re,qe):Je.setAttribute(Re,qe)}else Je.setAttribute(Re,qe)}removeAttribute(Je,Re,qe){if(qe){const ct=M[qe];ct?Je.removeAttributeNS(ct,Re):Je.removeAttribute(`${qe}:${Re}`)}else Je.removeAttribute(Re)}addClass(Je,Re){Je.classList.add(Re)}removeClass(Je,Re){Je.classList.remove(Re)}setStyle(Je,Re,qe,ct){ct&(d.czy.DashCase|d.czy.Important)?Je.style.setProperty(Re,qe,ct&d.czy.Important?"important":""):Je.style[Re]=qe}removeStyle(Je,Re,qe){qe&d.czy.DashCase?Je.style.removeProperty(Re):Je.style[Re]=""}setProperty(Je,Re,qe){Je[Re]=qe}setValue(Je,Re){Je.nodeValue=Re}listen(Je,Re,qe){if("string"==typeof Je&&!(Je=(0,p.QT)().getGlobalEventTarget(this.doc,Je)))throw new Error(`Unsupported event target ${Je} for event ${Re}`);return this.eventManager.addEventListener(Je,Re,this.decoratePreventDefault(qe))}decoratePreventDefault(Je){return Re=>{if("__ngUnwrap__"===Re)return Je;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Je(Re)):Je(Re))&&Re.preventDefault()}}}function Be(lt){return"TEMPLATE"===lt.tagName&&void 0!==lt.content}class Me extends ue{constructor(Je,Re,qe,ct,Mt,Bt,Hn,Ln){super(Je,Mt,Bt,Ln),this.sharedStylesHost=Re,this.hostEl=qe,this.shadowRoot=qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tr=Te(ct.id,ct.styles);for(const Kr of Tr){const qr=document.createElement("style");Hn&&qr.setAttribute("nonce",Hn),qr.textContent=Kr,this.shadowRoot.appendChild(qr)}}nodeOrShadowRoot(Je){return Je===this.hostEl?this.shadowRoot:Je}appendChild(Je,Re){return super.appendChild(this.nodeOrShadowRoot(Je),Re)}insertBefore(Je,Re,qe){return super.insertBefore(this.nodeOrShadowRoot(Je),Re,qe)}removeChild(Je,Re){return super.removeChild(this.nodeOrShadowRoot(Je),Re)}parentNode(Je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Je)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Y extends ue{constructor(Je,Re,qe,ct,Mt,Bt,Hn,Ln){super(Je,Mt,Bt,Hn),this.sharedStylesHost=Re,this.removeStylesOnCompDestroy=ct,this.styles=Ln?Te(Ln,qe.styles):qe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class z extends Y{constructor(Je,Re,qe,ct,Mt,Bt,Hn,Ln){const Tr=ct+"-"+qe.id;super(Je,Re,qe,Mt,Bt,Hn,Ln,Tr),this.contentAttr=function De(lt){return ne.replace(W,lt)}(Tr),this.hostAttr=function ve(lt){return Z.replace(W,lt)}(Tr)}applyToHost(Je){this.applyStyles(),this.setAttribute(Je,this.hostAttr,"")}createElement(Je,Re){const qe=super.createElement(Je,Re);return super.setAttribute(qe,this.contentAttr,""),qe}}let V=(()=>{class lt extends D{constructor(Re){super(Re)}supports(Re){return!0}addEventListener(Re,qe,ct){return Re.addEventListener(qe,ct,!1),()=>this.removeEventListener(Re,qe,ct)}removeEventListener(Re,qe,ct){return Re.removeEventListener(qe,ct)}static{this.\u0275fac=function(qe){return new(qe||lt)(d.KVO(p.qQ))}}static{this.\u0275prov=d.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const re=["alt","control","meta","shift"],me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pe={alt:lt=>lt.altKey,control:lt=>lt.ctrlKey,meta:lt=>lt.metaKey,shift:lt=>lt.shiftKey};let ce=(()=>{class lt extends D{constructor(Re){super(Re)}supports(Re){return null!=lt.parseEventName(Re)}addEventListener(Re,qe,ct){const Mt=lt.parseEventName(qe),Bt=lt.eventCallback(Mt.fullKey,ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.QT)().onAndCancel(Re,Mt.domEventName,Bt))}static parseEventName(Re){const qe=Re.toLowerCase().split("."),ct=qe.shift();if(0===qe.length||"keydown"!==ct&&"keyup"!==ct)return null;const Mt=lt._normalizeKey(qe.pop());let Bt="",Hn=qe.indexOf("code");if(Hn>-1&&(qe.splice(Hn,1),Bt="code."),re.forEach(Tr=>{const Kr=qe.indexOf(Tr);Kr>-1&&(qe.splice(Kr,1),Bt+=Tr+".")}),Bt+=Mt,0!=qe.length||0===Mt.length)return null;const Ln={};return Ln.domEventName=ct,Ln.fullKey=Bt,Ln}static matchEventFullKeyCode(Re,qe){let ct=me[Re.key]||Re.key,Mt="";return qe.indexOf("code.")>-1&&(ct=Re.code,Mt="code."),!(null==ct||!ct)&&(ct=ct.toLowerCase()," "===ct?ct="space":"."===ct&&(ct="dot"),re.forEach(Bt=>{Bt!==ct&&(0,pe[Bt])(Re)&&(Mt+=Bt+".")}),Mt+=ct,Mt===qe)}static eventCallback(Re,qe,ct){return Mt=>{lt.matchEventFullKeyCode(Mt,Re)&&ct.runGuarded(()=>qe(Mt))}}static _normalizeKey(Re){return"esc"===Re?"escape":Re}static{this.\u0275fac=function(qe){return new(qe||lt)(d.KVO(p.qQ))}}static{this.\u0275prov=d.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const it=(0,d.oH4)(d.fpN,"browser",[{provide:d.Agw,useValue:p.AJ},{provide:d.PLl,useValue:function Ae(){_.makeCurrent()},multi:!0},{provide:p.qQ,useFactory:function Ke(){return(0,d.TL$)(document),document},deps:[]}]),Ne=new d.nKC(""),We=[{provide:d.e01,useClass:class k{addToWindow(Je){d.JZv.getAngularTestability=(qe,ct=!0)=>{const Mt=Je.findTestabilityInTree(qe,ct);if(null==Mt)throw new d.wOt(5103,!1);return Mt},d.JZv.getAllAngularTestabilities=()=>Je.getAllTestabilities(),d.JZv.getAllAngularRootElements=()=>Je.getAllRootElements(),d.JZv.frameworkStabilizers||(d.JZv.frameworkStabilizers=[]),d.JZv.frameworkStabilizers.push(qe=>{const ct=d.JZv.getAllAngularTestabilities();let Mt=ct.length,Bt=!1;const Hn=function(Ln){Bt=Bt||Ln,Mt--,0==Mt&&qe(Bt)};ct.forEach(Ln=>{Ln.whenStable(Hn)})})}findTestabilityInTree(Je,Re,qe){return null==Re?null:Je.getTestability(Re)??(qe?(0,p.QT)().isShadowRoot(Re)?this.findTestabilityInTree(Je,Re.host,!0):this.findTestabilityInTree(Je,Re.parentElement,!0):null)}},deps:[]},{provide:d.WHO,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]},{provide:d.NYb,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]}],Oe=[{provide:d.H8p,useValue:"root"},{provide:d.zcH,useFactory:function je(){return new d.zcH},deps:[]},{provide:j,useClass:V,multi:!0,deps:[p.qQ,d.SKi,d.Agw]},{provide:j,useClass:ce,multi:!0,deps:[p.qQ]},_e,y,F,{provide:d._9s,useExisting:_e},{provide:p.N0,useClass:U,deps:[]},[]];let xe=(()=>{class lt{constructor(Re){}static withServerTransition(Re){return{ngModule:lt,providers:[{provide:d.sZ2,useValue:Re.appId}]}}static{this.\u0275fac=function(qe){return new(qe||lt)(d.KVO(Ne,12))}}static{this.\u0275mod=d.$C({type:lt})}static{this.\u0275inj=d.G2t({providers:[...Oe,...We],imports:[p.MD,d.Hbi]})}}return lt})(),qt=(()=>{class lt{constructor(Re){this._doc=Re}getTitle(){return this._doc.title}setTitle(Re){this._doc.title=Re||""}static{this.\u0275fac=function(qe){return new(qe||lt)(d.KVO(p.qQ))}}static{this.\u0275prov=d.jDH({token:lt,factory:function(qe){let ct=null;return ct=qe?new qe:function vt(){return new qt((0,d.KVO)(p.qQ))}(),ct},providedIn:"root"})}}return lt})();typeof window<"u"&&window},307:(fe,$,a)=>{"use strict";a.d($,{nX:()=>hr}),a(6276),a(1985),a(8071),a(6648);var b=a(7673);a(4412),a(9350),a(4439),a(6365),a(3794),a(8750),a(1203),a(983),a(8359),a(9974),a(4360),a(1413),a(177);var _e=a(6354);a(5558),a(6697),a(5964),a(1397),a(3669),a(5343),a(345);const Oe=Symbol("RouteTitle");class xe{constructor(L){this.params=L||{}}has(L){return Object.prototype.hasOwnProperty.call(this.params,L)}get(L){if(this.has(L)){const S=this.params[L];return Array.isArray(S)?S[0]:S}return null}getAll(L){if(this.has(L)){const S=this.params[L];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function Ze(P){return new xe(P)}class hr{constructor(L,S,B,J,de,Pe,et,Xe){this.urlSubject=L,this.paramsSubject=S,this.queryParamsSubject=B,this.fragmentSubject=J,this.dataSubject=de,this.outlet=Pe,this.component=et,this._futureSnapshot=Xe,this.title=this.dataSubject?.pipe((0,_e.T)(wt=>wt[Oe]))??(0,b.of)(void 0),this.url=L,this.params=S,this.queryParams=B,this.fragment=J,this.data=de}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_e.T)(L=>Ze(L)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_e.T)(L=>Ze(L)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}},467:(fe,$,a)=>{"use strict";function d(w,_,g,b,A,T,k){try{var U=w[T](k),j=U.value}catch(F){return void g(F)}U.done?_(j):Promise.resolve(j).then(b,A)}function p(w){return function(){var _=this,g=arguments;return new Promise(function(b,A){var T=w.apply(_,g);function k(j){d(T,b,A,k,U,"next",j)}function U(j){d(T,b,A,k,U,"throw",j)}k(void 0)})}}a.d($,{A:()=>p})},1635:(fe,$,a)=>{"use strict";function F(ce,Ce,ae,X){return new(ae||(ae=Promise))(function(Ae,je){function Ke(Ne){try{it(X.next(Ne))}catch(We){je(We)}}function ut(Ne){try{it(X.throw(Ne))}catch(We){je(We)}}function it(Ne){Ne.done?Ae(Ne.value):function Ee(Ae){return Ae instanceof ae?Ae:new ae(function(je){je(Ae)})}(Ne.value).then(Ke,ut)}it((X=X.apply(ce,Ce||[])).next())})}function H(ce){return this instanceof H?(this.v=ce,this):new H(ce)}function te(ce,Ce,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,X=ae.apply(ce,Ce||[]),Ae=[];return Ee=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ke("next"),Ke("throw"),Ke("return",function je(xe){return function(Ze){return Promise.resolve(Ze).then(xe,We)}}),Ee[Symbol.asyncIterator]=function(){return this},Ee;function Ke(xe,Ze){X[xe]&&(Ee[xe]=function(yt){return new Promise(function(Wt,vt){Ae.push([xe,yt,Wt,vt])>1||ut(xe,yt)})},Ze&&(Ee[xe]=Ze(Ee[xe])))}function ut(xe,Ze){try{!function it(xe){xe.value instanceof H?Promise.resolve(xe.value.v).then(Ne,We):Oe(Ae[0][2],xe)}(X[xe](Ze))}catch(yt){Oe(Ae[0][3],yt)}}function Ne(xe){ut("next",xe)}function We(xe){ut("throw",xe)}function Oe(xe,Ze){xe(Ze),Ae.shift(),Ae.length&&ut(Ae[0][0],Ae[0][1])}}function ve(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,Ce=ce[Symbol.asyncIterator];return Ce?Ce.call(ce):(ce=function M(ce){var Ce="function"==typeof Symbol&&Symbol.iterator,ae=Ce&&ce[Ce],X=0;if(ae)return ae.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&X>=ce.length&&(ce=void 0),{value:ce&&ce[X++],done:!ce}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),ae={},X("next"),X("throw"),X("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function X(Ae){ae[Ae]=ce[Ae]&&function(je){return new Promise(function(Ke,ut){!function Ee(Ae,je,Ke,ut){Promise.resolve(ut).then(function(it){Ae({value:it,done:Ke})},je)}(Ke,ut,(je=ce[Ae](je)).done,je.value)})}}}a.d($,{AQ:()=>te,N3:()=>H,sH:()=>F,xN:()=>ve}),"function"==typeof SuppressedError&&SuppressedError}},fe=>{fe(fe.s=2552)}]);