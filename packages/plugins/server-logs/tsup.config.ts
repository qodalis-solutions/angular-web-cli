import { defineConfig } from 'tsup';
import { sharedConfig } from '../../../tsup.shared';

export default defineConfig([
    {
        ...sharedConfig,
        entry: ['src/public-api.ts'],
        outDir: '../../../dist/server-logs',
        external: ['@qodalis/cli-core', '@microsoft/signalr'],
    },
    {
        entry: ['src/cli-entrypoint.ts'],
        format: ['iife'],
        outDir: '../../../dist/server-logs/umd',
        globalName: 'serverLogs',
        platform: 'browser',
        external: [],
        noExternal: [/.*/],
    },
]);
